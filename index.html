<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-12-09 Wed 22:29 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Luca Cambiaghi" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org231ec7a">1. Preamble</a>
<ul>
<li><a href="#orgbb642bc">1.1. Username and e-mail:</a></li>
<li><a href="#orgab96c82">1.2. Better defaults</a></li>
</ul>
</li>
<li><a href="#org096f82a">2. Keybindings</a>
<ul>
<li><a href="#org3a9bfcf">2.1. Auto unbind</a></li>
<li><a href="#org16ff5e6">2.2. spacemacs-like</a></li>
<li><a href="#org0700766">2.3. evil multiedit</a></li>
</ul>
</li>
<li><a href="#org2b2b8df">3. User Interface</a>
<ul>
<li><a href="#org4c511ae">3.1. Turn off line numbers</a></li>
<li><a href="#org5366d09">3.2. Font and font size:</a></li>
<li><a href="#orgd80276e">3.3. which-key delay</a></li>
<li><a href="#orgb394148">3.4. Customize modus themes</a></li>
<li><a href="#orgf1047da">3.5. Toggle modus themes at sunrise/sunset</a></li>
<li><a href="#org126fa45">3.6. Fancy splash image</a></li>
<li><a href="#orgc2fdef6">3.7. Centaur-tabs</a></li>
<li><a href="#org0842db4">3.8. Winum</a></li>
<li><a href="#org556cd36">3.9. Extra ligatures</a></li>
<li><a href="#org3e51d65">3.10. modeline</a>
<ul>
<li><a href="#org5aa0b37">3.10.1. Hide undesired info</a></li>
<li><a href="#org2f2f325">3.10.2. <span class="todo TODO">TODO</span> Show battery and time</a></li>
</ul>
</li>
<li><a href="#org04e8bf0">3.11. <span class="todo TODO">TODO</span> Split window and move to it</a></li>
<li><a href="#org32324fc">3.12. <span class="todo TODO">TODO</span> Emacs tree sitter</a></li>
<li><a href="#org61f0eea">3.13. Toggle centered cursor</a></li>
<li><a href="#org41b2cd4">3.14. <span class="todo TODO">TODO</span> Startup windows</a></li>
<li><a href="#org8f62ac2">3.15. <span class="todo TODO">TODO</span> Elegant emacs</a></li>
<li><a href="#org6062414">3.16. Prescient + selectrum + consult</a></li>
</ul>
</li>
<li><a href="#orge65ad57">4. Magit</a></li>
<li><a href="#org0c495d8">5. Company</a>
<ul>
<li><a href="#org17a8da7">5.1. Delay, prefix length</a></li>
<li><a href="#org6deab02">5.2. Disable tab</a></li>
<li><a href="#org22d5762">5.3. Show yasnippets as company suggestions</a></li>
</ul>
</li>
<li><a href="#orgf673fc2">6. Org</a>
<ul>
<li><a href="#orgc275295">6.1. Better defaults</a></li>
<li><a href="#org2b87cf7">6.2. Capture templates</a></li>
<li><a href="#org01d2227">6.3. Prettify bullets</a></li>
<li><a href="#orgab8d884">6.4. Org agenda popup</a></li>
<li><a href="#orgd01868a">6.5. ox-ipynb</a></li>
<li><a href="#org64bdc08">6.6. Org babel clojure</a></li>
<li><a href="#orga0ee74c">6.7. <span class="todo TODO">TODO</span> Reveal</a></li>
<li><a href="#org40e329c">6.8. org-cv</a></li>
<li><a href="#org82a3396">6.9. Use xelatex</a></li>
<li><a href="#org2bf42d8">6.10. HTML export does not fail when org links are present</a></li>
<li><a href="#org4ed19b9">6.11. <span class="todo TODO">TODO</span> org-tree-slide</a></li>
</ul>
</li>
<li><a href="#orgfb3d2f9">7. emacs-jupyter</a>
<ul>
<li><a href="#org208d4cd">7.1. Org default header arguments:</a></li>
<li><a href="#orgcad939e">7.2. Key bindings:</a></li>
<li><a href="#org313da6f">7.3. Popups</a></li>
<li><a href="#org0edb322">7.4. <span class="todo TODO">TODO</span> Library of babel</a></li>
<li><a href="#org7341486">7.5. Eval handler</a></li>
<li><a href="#org5219b17">7.6. Set REPL handler</a></li>
<li><a href="#org08fbda8">7.7. <span class="todo TODO">TODO</span> Use overlays</a></li>
<li><a href="#org61d395f">7.8. Long outputs</a></li>
<li><a href="#org7cc258d">7.9. Fix zmq keywords</a></li>
<li><a href="#orgbae892b">7.10. <span class="todo TODO">TODO</span> Unmap org-metadown</a></li>
<li><a href="#org6903099">7.11. <span class="todo TODO">TODO</span> scimax utilities</a></li>
</ul>
</li>
<li><a href="#org28ff361">8. Python</a>
<ul>
<li><a href="#orgeb319ec">8.1. REPL</a>
<ul>
<li><a href="#orgd7c3f98">8.1.1. virtualenv executable</a></li>
<li><a href="#org51eeec8">8.1.2. Silence warnings when opening REPL</a></li>
<li><a href="#orgedcd5a0">8.1.3. Ignore popup rule</a></li>
<li><a href="#org1b0d688">8.1.4. Disable native completion</a></li>
</ul>
</li>
<li><a href="#org4eb1ecf">8.2. LSP</a>
<ul>
<li><a href="#org93c5d76">8.2.1. Use pyright</a></li>
<li><a href="#orge94fbae">8.2.2. Don&rsquo;t guess project root</a></li>
<li><a href="#org19ec5de">8.2.3. Increase bytes read from subprocess</a></li>
<li><a href="#orge108217">8.2.4. lsp-help popup</a></li>
<li><a href="#org0553640">8.2.5. Disable lsp flycheck checker and use flake8</a></li>
<li><a href="#org9ceaa6d">8.2.6. UI</a></li>
<li><a href="#org1827c2f">8.2.7. Don&rsquo;t restart on exit</a></li>
<li><a href="#org891d68a">8.2.8. <span class="todo TODO">TODO</span> Eglot</a></li>
</ul>
</li>
<li><a href="#org9998b22">8.3. Pytest</a></li>
<li><a href="#orgb27d3bc">8.4. dap-mode</a>
<ul>
<li><a href="#orgedeec01">8.4.1. dap configure windows</a></li>
<li><a href="#org3ec5319">8.4.2. Remove dap ui features</a></li>
<li><a href="#org926f6b9">8.4.3. Debug templates:</a></li>
<li><a href="#org76f378c">8.4.4. Debug test at point</a></li>
<li><a href="#org365f42f">8.4.5. virtualenv executable</a></li>
<li><a href="#org81679eb">8.4.6. Delete hap hydra bindings</a></li>
<li><a href="#orgc9e9f82">8.4.7. Bindings</a></li>
<li><a href="#org786d0bd">8.4.8. <span class="todo TODO">TODO</span> Use debugpy</a></li>
</ul>
</li>
<li><a href="#orgc4b9b51">8.5. emacs-ipython-notebook</a>
<ul>
<li><a href="#org1b36bee">8.5.1. Don&rsquo;t ignore <code>ein</code> buffers</a></li>
<li><a href="#org0115fc1">8.5.2. Bindings</a></li>
</ul>
</li>
<li><a href="#orgcec3a14">8.6. Dash docsets</a></li>
<li><a href="#org80a2eea">8.7. Compilation popup</a></li>
<li><a href="#org7d1566d">8.8. Disable venv in modeline</a></li>
</ul>
</li>
<li><a href="#org25ea4dd">9. R</a>
<ul>
<li><a href="#orgdd81e77">9.1. ESS console popup</a></li>
<li><a href="#orgfb1096c">9.2. Async eval</a></li>
<li><a href="#org158ea20">9.3. Syntax highlighting</a></li>
</ul>
</li>
<li><a href="#orgcba9ac6">10. Clojure</a>
<ul>
<li><a href="#org6889a80">10.1. Company keybindings</a></li>
<li><a href="#org047fd3e">10.2. REPL keybindings</a></li>
<li><a href="#orge926ee9">10.3. Cleverparens</a></li>
<li><a href="#orgceb926e">10.4. Aggressive indent</a></li>
<li><a href="#org13d2ff0">10.5. Cleverparens keybindings</a></li>
<li><a href="#org9f5fffa">10.6. nREPL timeout</a></li>
<li><a href="#org6edc9f2">10.7. Align vertically automatically</a></li>
<li><a href="#orgf0b5c9b">10.8. Cider keybindings</a></li>
<li><a href="#org026ae78">10.9. <span class="todo TODO">TODO</span> evil lisp state</a></li>
<li><a href="#org51e5189">10.10. <span class="todo TODO">TODO</span> Miracle</a></li>
<li><a href="#orgedca8df">10.11. cider-doc while developing Unity</a></li>
</ul>
</li>
<li><a href="#orgc8bd17f">11. Shell</a>
<ul>
<li><a href="#orgb5b304a">11.1. Async Shell command</a></li>
<li><a href="#orgdd43c83">11.2. Async command and vterm popups</a></li>
<li><a href="#org8d7e8a8">11.3. Eshell popup to the right</a></li>
</ul>
</li>
<li><a href="#org16a454d">12. <span class="todo TODO">TODO</span> Webkit</a></li>
</ul>
</div>
</div>

<div id="outline-container-org231ec7a" class="outline-2">
<h2 id="org231ec7a"><span class="section-number-2">1</span> Preamble</h2>
<div class="outline-text-2" id="text-1">
<p>
This is my private DOOM emacs configuration. It is tangled from <code>config.org</code> to <code>config.el</code>
and is exported to <code>readme.org</code> with <code>,e O o</code> to render in the githup repo.
It is also rendered to HTML thanks to <a href="https://github.com/fniessen/org-html-themes">org-html-themes</a> with <code>,e h h</code> .
</p>

<p>
NOTE: the code blocks in the sections marked with TODO are excluded from being tangled in my <code>config.el</code> file.
</p>
</div>

<div id="outline-container-orgbb642bc" class="outline-3">
<h3 id="orgbb642bc"><span class="section-number-3">1.1</span> Username and e-mail:</h3>
<div class="outline-text-3" id="text-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">user-full-name</span> <span style="color: #79a8ff;">"Luca Cambiaghi"</span>
      <span style="color: #00d3d0;">user-mail-address</span> <span style="color: #79a8ff;">"luca.cambiaghi@me.com"</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgab96c82" class="outline-3">
<h3 id="orgab96c82"><span class="section-number-3">1.2</span> Better defaults</h3>
<div class="outline-text-3" id="text-1-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq-default</span>
 <span style="color: #00d3d0;">uniquify-buffer-name-style</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">forward</span>              <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">Uniquify buffer names</span>
 <span style="color: #00d3d0;">window-combination-resize</span> t                      <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">take new window space from all other windows (not just current)</span>
 <span style="color: #00d3d0;">x-stretch-cursor</span> t<span style="color: #00cd68;">)</span>                              <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">Stretch cursor to the glyph width</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">undo-limit</span> <span style="color: #00bcff;">80000000</span>                         <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">Raise undo-limit to 80Mb</span>
      <span style="color: #00d3d0;">evil-want-fine-undo</span> t                       <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">By default while in insert all changes are one big blob. Be more granular</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">auto-save-default t                         ; Nobody likes to loose work, I certainly don't</span>
      <span style="color: #00d3d0;">inhibit-compacting-font-caches</span> t<span style="color: #00cd68;">)</span>           <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">When there are lots of glyphs, keep them in memory</span>

<span style="color: #00cd68;">(</span><span style="color: #00d3d0;">delete-selection-mode</span> <span style="color: #00bcff;">1</span><span style="color: #00cd68;">)</span>                         <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">Replace selection when inserting text</span>
<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(global-subword-mode 1)                           ; Iterate through CamelCase words</span>
<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">+evil-want-o/O-to-continue-comments</span> nil<span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org096f82a" class="outline-2">
<h2 id="org096f82a"><span class="section-number-2">2</span> Keybindings</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org3a9bfcf" class="outline-3">
<h3 id="org3a9bfcf"><span class="section-number-3">2.1</span> Auto unbind</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Let&rsquo;s have <code>general</code> auto-unbind keys:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #00bcff;">general-auto-unbind-keys</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org16ff5e6" class="outline-3">
<h3 id="org16ff5e6"><span class="section-number-3">2.2</span> spacemacs-like</h3>
<div class="outline-text-3" id="text-2-2">
<p>
We then remap some of the bindings (inspired by <a href="https://github.com/jsmestad/dfiles/blob/master/.doom.d/%2Bbindings.el#L496-L854">bindings.el</a>).
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:leader</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"M-x"</span>                   <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"SPC"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">counsel-M-x</span>

      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"ivy resume"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">":"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ivy-resume</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Async shell command"</span>   <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"!"</span>   <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">async-shell-command</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Toggle eshell"</span>         <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"'"</span>   <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">+eshell/toggle</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Open dir in iTerm"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"oi"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">+macos/open-in-iterm</span>

      <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"windows"</span> <span style="color: #f78fe7; font-weight: bold;">:prefix</span> <span style="color: #79a8ff;">"w"</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"popup raise"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"p"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">+popup/raise</span><span style="color: #b6a0ff;">)</span>

      <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"project"</span> <span style="color: #f78fe7; font-weight: bold;">:prefix</span> <span style="color: #79a8ff;">"p"</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Eshell"</span>               <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"'"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">projectile-run-eshell</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Terminal"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"t"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">projectile-run-vterm</span> <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org0700766" class="outline-3">
<h3 id="org0700766"><span class="section-number-3">2.3</span> evil multiedit</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Add this keybinding because external keyboard inputs delta when pressing <code>M-d</code>.
Bind command to restrict matches to highlighted region as <code>RET</code> does not really work.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #00bcff;">define-key</span> <span style="color: #00d3d0;">evil-normal-state-map</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">kbd</span> <span style="color: #79a8ff;">"s-d"</span><span style="color: #b6a0ff;">)</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">evil-multiedit-match-symbol-and-next</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> evil-multiedit
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> evil-multiedit-follow-matches t<span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:v</span> <span style="color: #79a8ff;">"zD"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">evil-multiedit-toggle-or-restrict-region</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2b2b8df" class="outline-2">
<h2 id="org2b2b8df"><span class="section-number-2">3</span> User Interface</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org4c511ae" class="outline-3">
<h3 id="org4c511ae"><span class="section-number-3">3.1</span> Turn off line numbers</h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">display-line-numbers-type</span> nil<span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5366d09" class="outline-3">
<h3 id="org5366d09"><span class="section-number-3">3.2</span> Font and font size:</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Toggle <code>big mode</code> with <code>SPC t b</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">doom-font</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">font-spec</span> <span style="color: #f78fe7; font-weight: bold;">:family</span> <span style="color: #79a8ff;">"Menlo"</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">16</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #00d3d0;">doom-big-font</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">font-spec</span> <span style="color: #f78fe7; font-weight: bold;">:family</span> <span style="color: #79a8ff;">"Menlo"</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">20</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd80276e" class="outline-3">
<h3 id="orgd80276e"><span class="section-number-3">3.3</span> which-key delay</h3>
<div class="outline-text-3" id="text-3-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> which-key
    <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">which-key-idle-delay</span> <span style="color: #00bcff;">0.5</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb394148" class="outline-3">
<h3 id="orgb394148"><span class="section-number-3">3.4</span> Customize modus themes</h3>
<div class="outline-text-3" id="text-3-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defmacro</span> <span style="color: #feacd0;">modus-themes-format-sexp</span> <span style="color: #b6a0ff;">(</span>sexp <span style="color: #f78fe7;">&amp;rest</span> objects<span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff; font-weight: bold;">`</span><span style="color: #b6a0ff;">(</span>eval <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">read</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">format</span> ,<span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">format</span> <span style="color: #79a8ff;">"%S"</span> sexp<span style="color: #b6a0ff;">)</span> ,@objects<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">dolist</span> <span style="color: #b6a0ff;">(</span>theme <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"operandi"</span> <span style="color: #79a8ff;">"vivendi"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">modus-themes-format-sexp</span>
   <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">modus-%1$s-theme-load</span> <span style="color: #00cd68;">()</span>
     <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> modus-%1$s-theme-slanted-constructs t
           modus-%1$s-theme-bold-constructs t
           modus-%1$s-theme-fringes <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">subtle</span> <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">{nil,'subtle,'intense}</span>
           modus-%1$s-theme-mode-line <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">3d</span> <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">{nil,'3d,'moody}</span>
           modus-%1$s-theme-faint-syntax nil
           modus-%1$s-theme-intense-hl-line nil
           modus-%1$s-theme-intense-paren-match nil
           modus-%1$s-theme-no-link-underline t
           modus-%1$s-theme-no-mixed-fonts nil
           modus-%1$s-theme-prompts nil <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">{nil,'subtle,'intense}</span>
           modus-%1$s-theme-completions <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">moderate</span> <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">{nil,'moderate,'opinionated}</span>
           modus-%1$s-theme-diffs nil <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">{nil,'desaturated,'fg-only}</span>
           modus-%1$s-theme-org-blocks <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">greyscale</span> <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">{nil,'greyscale,'rainbow}</span>
           modus-%1$s-theme-headings  <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">Read further below in the manual for this one</span>
           <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">1</span> . line<span style="color: #6ae4b9;">)</span>
             <span style="color: #6ae4b9;">(</span>t . rainbow-line-no-bold<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
           modus-%1$s-theme-variable-pitch-headings t
           modus-%1$s-theme-scale-headings t
           modus-%1$s-theme-scale-1 <span style="color: #00bcff;">1.1</span>
           modus-%1$s-theme-scale-2 <span style="color: #00bcff;">1.15</span>
           modus-%1$s-theme-scale-3 <span style="color: #00bcff;">1.21</span>
           modus-%1$s-theme-scale-4 <span style="color: #00bcff;">1.27</span>
           modus-%1$s-theme-scale-5 <span style="color: #00bcff;">1.33</span><span style="color: #00cd68;">)</span>
     <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">doom-theme</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">modus-%1$s</span><span style="color: #00cd68;">)</span>
     <span style="color: #00cd68;">(</span><span style="color: #feacd0;">doom/reload-theme</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
   theme<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">modus-operandi-theme-override-colors-alist</span>
            <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-main"</span> . <span style="color: #79a8ff;">"#fefcf4"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-dim"</span> . <span style="color: #79a8ff;">"#faf6ef"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-alt"</span> . <span style="color: #79a8ff;">"#f7efe5"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-hl-line"</span> . <span style="color: #79a8ff;">"#f4f0e3"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-active"</span> . <span style="color: #79a8ff;">"#e8dfd1"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-inactive"</span> . <span style="color: #79a8ff;">"#f6ece5"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-region"</span> . <span style="color: #79a8ff;">"#c6bab1"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-header"</span> . <span style="color: #79a8ff;">"#ede3e0"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-tab-bar"</span> . <span style="color: #79a8ff;">"#dcd3d3"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-tab-active"</span> . <span style="color: #79a8ff;">"#fdf6eb"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-tab-inactive"</span> . <span style="color: #79a8ff;">"#c8bab8"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"fg-unfocused"</span> . <span style="color: #79a8ff;">"#55556f"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
            <span style="color: #00d3d0;">modus-vivendi-theme-override-colors-alist</span>
            <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-main"</span> . <span style="color: #79a8ff;">"#100b17"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-dim"</span> . <span style="color: #79a8ff;">"#161129"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-alt"</span> . <span style="color: #79a8ff;">"#181732"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-hl-line"</span> . <span style="color: #79a8ff;">"#191628"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-active"</span> . <span style="color: #79a8ff;">"#282e46"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-inactive"</span> . <span style="color: #79a8ff;">"#1a1e39"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-region"</span> . <span style="color: #79a8ff;">"#393a53"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-header"</span> . <span style="color: #79a8ff;">"#202037"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-tab-bar"</span> . <span style="color: #79a8ff;">"#262b41"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-tab-active"</span> . <span style="color: #79a8ff;">"#120f18"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-tab-inactive"</span> . <span style="color: #79a8ff;">"#3a3a5a"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"fg-unfocused"</span> . <span style="color: #79a8ff;">"#9a9aab"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
            <span style="color: #00d3d0;">modus-operandi-theme-intense-paren-match</span> t
            <span style="color: #00d3d0;">modus-operandi-theme-distinct-org-blocks</span> t<span style="color: #00cd68;">)</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf1047da" class="outline-3">
<h3 id="orgf1047da"><span class="section-number-3">3.5</span> Toggle modus themes at sunrise/sunset</h3>
<div class="outline-text-3" id="text-3-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8; font-style: italic;">;;</span><span style="color: #a8a8a8; font-style: italic;">Light for the day</span>
<span style="color: #00cd68;">(</span><span style="color: #00bcff;">run-at-time</span> <span style="color: #79a8ff;">"07:00"</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">*</span> <span style="color: #00bcff;">60</span> <span style="color: #00bcff;">60</span> <span style="color: #00bcff;">24</span><span style="color: #b6a0ff;">)</span>
             <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #6ae4b9;">()</span>
               <span style="color: #6ae4b9;">(</span><span style="color: #feacd0;">modus-operandi-theme-load</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Dark for the night</span>
<span style="color: #00cd68;">(</span><span style="color: #00bcff;">run-at-time</span> <span style="color: #79a8ff;">"15:00"</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">*</span> <span style="color: #00bcff;">60</span> <span style="color: #00bcff;">60</span> <span style="color: #00bcff;">24</span><span style="color: #b6a0ff;">)</span>
             <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #6ae4b9;">()</span>
               <span style="color: #6ae4b9;">(</span><span style="color: #feacd0;">modus-vivendi-theme-load</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org126fa45" class="outline-3">
<h3 id="org126fa45"><span class="section-number-3">3.6</span> Fancy splash image</h3>
<div class="outline-text-3" id="text-3-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">+doom-dashboard-banner-file</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">expand-file-name</span> <span style="color: #79a8ff;">"splash-images/black-hole2.png"</span> <span style="color: #00d3d0;">doom-private-dir</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc2fdef6" class="outline-3">
<h3 id="orgc2fdef6"><span class="section-number-3">3.7</span> Centaur-tabs</h3>
<div class="outline-text-3" id="text-3-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> centaur-tabs
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">centaur-tabs-set-modified-marker</span> t
        <span style="color: #00d3d0;">centaur-tabs-modified-marker</span> <span style="color: #79a8ff;">"M"</span>
        <span style="color: #00d3d0;">centaur-tabs-cycle-scope</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">tabs</span>
        <span style="color: #00d3d0;">centaur-tabs-set-close-button</span> nil<span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">centaur-tabs-group-by-projectile-project</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0842db4" class="outline-3">
<h3 id="org0842db4"><span class="section-number-3">3.8</span> Winum</h3>
<div class="outline-text-3" id="text-3-8">
<p>
note: insteadf of using <code>SPC 0</code>, use <code>SPC w h</code> to access its window. In general,
use those keys!
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> winum
    <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #6ae4b9;">(</span><span style="color: #f78fe7; font-weight: bold;">:when</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> <span style="color: #f78fe7; font-weight: bold;">:ui</span> window-select<span style="color: #00cd68;">)</span>
            <span style="color: #f78fe7; font-weight: bold;">:leader</span>
            <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"1"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">winum-select-window-1</span>
            <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"2"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">winum-select-window-2</span>
            <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"3"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">winum-select-window-3</span>
        <span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org556cd36" class="outline-3">
<h3 id="org556cd36"><span class="section-number-3">3.9</span> Extra ligatures</h3>
<div class="outline-text-3" id="text-3-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">+ligatures-extras-in-modes</span>
      <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #b6a0ff;">(</span>not special-mode comint-mode eshell-mode term-mode vterm-mode python-mode<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq +ligatures-in-modes '(org-mode))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3e51d65" class="outline-3">
<h3 id="org3e51d65"><span class="section-number-3">3.10</span> modeline</h3>
<div class="outline-text-3" id="text-3-10">
</div>
<div id="outline-container-org5aa0b37" class="outline-4">
<h4 id="org5aa0b37"><span class="section-number-4">3.10.1</span> Hide undesired info</h4>
<div class="outline-text-4" id="text-3-10-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> doom-modeline
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">doom-modeline-buffer-encoding</span> nil<span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">doom-modeline-env-enable-python</span> nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> <span style="color: #00d3d0;">lsp-mode</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">lsp-modeline-diagnostics-enable</span> nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2f2f325" class="outline-4">
<h4 id="org2f2f325"><span class="section-number-4">3.10.2</span> <span class="todo TODO">TODO</span> Show battery and time</h4>
<div class="outline-text-4" id="text-3-10-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> doom-modeline
    <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> display-time-default-load-average nil<span style="color: #b6a0ff;">)</span>      <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">don't show load average</span>
    <span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">display-time-mode</span> <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span>                             <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">Enable time in the mode-line</span>
    <span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">display-battery-mode</span> <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>                          <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">On laptops it's nice to know how much power you have</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org04e8bf0" class="outline-3">
<h3 id="org04e8bf0"><span class="section-number-3">3.11</span> <span class="todo TODO">TODO</span> Split window and move to it</h3>
<div class="outline-text-3" id="text-3-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">evil-split-window-below</span> t
      <span style="color: #00d3d0;">evil-vsplit-window-right</span> t<span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org32324fc" class="outline-3">
<h3 id="org32324fc"><span class="section-number-3">3.12</span> <span class="todo TODO">TODO</span> Emacs tree sitter</h3>
<div class="outline-text-3" id="text-3-12">
<p>
After <code>doom sync</code> you should run <code>tree-sitter-install-grammars</code> (maybe?).
Disabled because of a bug with <code>evil-multiedit</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package</span> tree-sitter
  <span style="color: #f78fe7; font-weight: bold;">:after</span> python-mode
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> tree-sitter
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">tree-sitter</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">tree-sitter-langs</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">tree-sitter-hl</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">python-mode-hook</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">tree-sitter-hl-mode</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org61f0eea" class="outline-3">
<h3 id="org61f0eea"><span class="section-number-3">3.13</span> Toggle centered cursor</h3>
<div class="outline-text-3" id="text-3-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> centered-cursor-mode
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:leader</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"toggle centered cursor"</span>                   <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"t-"</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">&#955;!</span> <span style="color: #00cd68;">()</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #00cd68;">)</span> <span style="color: #00cd68;">(</span><span style="color: #feacd0;">centered-cursor-mode</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">toggle</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
        <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org41b2cd4" class="outline-3">
<h3 id="org41b2cd4"><span class="section-number-3">3.14</span> <span class="todo TODO">TODO</span> Startup windows</h3>
<div class="outline-text-3" id="text-3-14">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my/startup-window-setup</span> <span style="color: #b6a0ff;">()</span>
  <span style="color: #c6eaff; font-style: italic;">"Called by emacs-startup-hook to set up my initial window configuration."</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">split-window-right</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">other-window</span> <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">find-file</span> <span style="color: #79a8ff;">"~/txt/todo.org"</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">other-window</span> <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">emacs-startup-hook</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">my-default-window-setup</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8f62ac2" class="outline-3">
<h3 id="org8f62ac2"><span class="section-number-3">3.15</span> <span class="todo TODO">TODO</span> Elegant emacs</h3>
<div class="outline-text-3" id="text-3-15">
<p>
Need to disable <code>centaur-tabs-mode</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my/enable-elegant</span> <span style="color: #b6a0ff;">()</span>
  <span style="color: #c6eaff; font-style: italic;">"Enable elegant-emacs theme"</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">elegance</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">sanity</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq doom-theme 'elegance)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(add-hook! 'doom-load-theme-hook #'elegance-light)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(doom/reload-theme)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6062414" class="outline-3">
<h3 id="org6062414"><span class="section-number-3">3.16</span> Prescient + selectrum + consult</h3>
<div class="outline-text-3" id="text-3-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> selectrum
  <span style="color: #f78fe7; font-weight: bold;">:commands</span> <span style="color: #b6a0ff;">(</span>selectrum-mode<span style="color: #b6a0ff;">)</span>
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:map</span> selectrum-minibuffer-map
        <span style="color: #f78fe7; font-weight: bold;">:in</span> <span style="color: #79a8ff;">"C-j"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">selectrum-next-candidate</span>
        <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> selectrum-prescient
  <span style="color: #f78fe7; font-weight: bold;">:when</span> <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> +prescient<span style="color: #b6a0ff;">)</span>
  <span style="color: #f78fe7; font-weight: bold;">:commands</span> <span style="color: #b6a0ff;">(</span>selectrum-prescient-mode<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> company-prescient
  <span style="color: #f78fe7; font-weight: bold;">:commands</span> <span style="color: #b6a0ff;">(</span>company-prescient-mode <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">add-hook!</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">doom-first-input-hook</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span>selectrum-mode <span style="color: #00bcff;">+1</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> +prescient<span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span>selectrum-prescient-mode <span style="color: #00bcff;">+1</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span>company-prescient-mode <span style="color: #00bcff;">1</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span>prescient-persist-mode <span style="color: #00bcff;">+1</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

Projectile defaults to forcing icomplete instead of completing-read
<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> projectile
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">projectile-completion-system</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">default</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package</span> consult
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Replace bindings</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:bind (("C-c o" . consult-outline)</span>
  <span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">("C-x b" . consult-buffer)</span>
  <span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">("M-g o" . consult-outline) ;; "M-s o" is a good alternative</span>
  <span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">("M-g l" . consult-line)    ;; "M-s l" is a good alternative</span>
  <span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">("M-s m" . consult-multi-occur)</span>
  <span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">("M-y" . consult-yank-pop)</span>

  <span style="color: #f78fe7; font-weight: bold;">:init</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Replace functions (consult-multi-occur is a drop-in replacement)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">fset</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">multi-occur</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">consult-multi-occur</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #f78fe7; font-weight: bold;">:config</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:leader</span> <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"consult line"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"ss"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">consult-line</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"M-x"</span>                   <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"SPC"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">execute-extended-command</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"consult line"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"ss"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">consult-line</span>
        <span style="color: #b6a0ff;">)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Enable richer annotations during completion</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Works only with selectrum as of now.</span>
  <span style="color: #b6a0ff;">(</span>consult-annotate-mode<span style="color: #b6a0ff;">)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Enable richer annotations for M-x.</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">I have this disabled by default, since I don't want to be flooded with information.</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Annotations are only enabled by default for the describe-* class of functions.</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-to-list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">consult-annotate-commands</span>
               <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span>execute-extended-command . consult-annotate-symbol<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge65ad57" class="outline-2">
<h2 id="orge65ad57"><span class="section-number-2">4</span> Magit</h2>
<div class="outline-text-2" id="text-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> magit
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(magit-wip-mode)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">magit-repository-directories</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"~/git"</span> . <span style="color: #00bcff;">2</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
        <span style="color: #00d3d0;">magit-save-repository-buffers</span> nil
        <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Don't restore the wconf after quitting magit</span>
        <span style="color: #00d3d0;">magit-inhibit-save-previous-winconf</span> t
        magit-log-arguments <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"--graph"</span> <span style="color: #79a8ff;">"--decorate"</span> <span style="color: #79a8ff;">"--color"</span><span style="color: #6ae4b9;">)</span>
        <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">magit-delete-by-moving-to-trash nil</span>
        <span style="color: #00d3d0;">git-commit-summary-max-length</span> <span style="color: #00bcff;">120</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0c495d8" class="outline-2">
<h2 id="org0c495d8"><span class="section-number-2">5</span> Company</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org17a8da7" class="outline-3">
<h3 id="org17a8da7"><span class="section-number-3">5.1</span> Delay, prefix length</h3>
<div class="outline-text-3" id="text-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> company
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">company-idle-delay</span> <span style="color: #00bcff;">0</span>
        <span style="color: #00d3d0;">company-minimum-prefix-length</span> <span style="color: #00bcff;">1</span>
        company-dabbrev-code-everywhere t
        company-dabbrev-code-other-buffers <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">all</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">company-quickhelp-delay 0.4)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6deab02" class="outline-3">
<h3 id="org6deab02"><span class="section-number-3">5.2</span> Disable tab</h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> company
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">define-key!</span> <span style="color: #00d3d0;">company-active-map</span>
    <span style="color: #79a8ff;">"TAB"</span>       nil
    <span style="color: #6ae4b9;">[</span>tab<span style="color: #6ae4b9;">]</span>       nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org22d5762" class="outline-3">
<h3 id="org22d5762"><span class="section-number-3">5.3</span> Show yasnippets as company suggestions</h3>
<div class="outline-text-3" id="text-5-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> company
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defvar</span> <span style="color: #00d3d0;">company-mode/enable-yas</span> t
    <span style="color: #c6eaff; font-style: italic;">"Enable yasnippet for all backends."</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">company-mode/backend-with-yas</span> <span style="color: #6ae4b9;">(</span>backend<span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">or</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">not</span> <span style="color: #00d3d0;">company-mode/enable-yas</span><span style="color: #b6a0ff;">)</span> <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">and</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">listp</span> backend<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">member</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">company-yasnippet</span> backend<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
        backend
      <span style="color: #00cd68;">(</span><span style="color: #00bcff;">append</span> <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">consp</span> backend<span style="color: #6ae4b9;">)</span> backend <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">list</span> backend<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
              <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:with</span> company-yasnippet<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">company-backends</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">mapcar</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-mode/backend-with-yas</span> <span style="color: #00d3d0;">company-backends</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf673fc2" class="outline-2">
<h2 id="orgf673fc2"><span class="section-number-2">6</span> Org</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orgc275295" class="outline-3">
<h3 id="orgc275295"><span class="section-number-3">6.1</span> Better defaults</h3>
<div class="outline-text-3" id="text-6-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> org
<span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">org-directory</span> <span style="color: #79a8ff;">"~/Dropbox/org"</span>
      <span style="color: #00d3d0;">org-image-actual-width</span> nil
      +org-export-directory <span style="color: #79a8ff;">"~/Dropbox/org/export"</span>
      <span style="color: #00d3d0;">org-default-notes-file</span> <span style="color: #79a8ff;">"~/Dropbox/org/personal/inbox.org"</span>
      org-id-locations-file <span style="color: #79a8ff;">"~/Dropbox/org/.orgids"</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">org-agenda-files (directory-files-recursively "~/dropbox/org/" "\\.org$")</span>
      <span style="color: #00d3d0;">org-agenda-files</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"~/dropbox/org/personal/inbox.org"</span> <span style="color: #79a8ff;">"~/dropbox/org/personal/tasks.org"</span> <span style="color: #79a8ff;">"~/dropbox/org/personal/birthdays.org"</span><span style="color: #6ae4b9;">)</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">org-export-in-background t</span>
      <span style="color: #00d3d0;">org-catch-invisible-edits</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">smart</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2b87cf7" class="outline-3">
<h3 id="org2b87cf7"><span class="section-number-3">6.2</span> Capture templates</h3>
<div class="outline-text-3" id="text-6-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> org

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">org-capture-templates</span>
        <span style="color: #b6a0ff; font-weight: bold;">`</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"a"</span> <span style="color: #79a8ff;">"Article to write"</span> entry
           <span style="color: #b6a0ff;">(</span>file+headline <span style="color: #79a8ff;">"personal/tasks.org"</span> <span style="color: #79a8ff;">"Writing list"</span><span style="color: #b6a0ff;">)</span>
           ,<span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">concat</span> <span style="color: #79a8ff;">"* WRITE %^{Title} %^g\n"</span>
                    <span style="color: #79a8ff;">"SCHEDULED: %^t\n"</span>
                    <span style="color: #79a8ff;">":PROPERTIES:\n"</span>
                    <span style="color: #79a8ff;">":CAPTURED: %U\n:END:\n\n"</span>
                    <span style="color: #79a8ff;">"%i%?"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
          <span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"b"</span> <span style="color: #79a8ff;">"Basic task for future review"</span> entry
           <span style="color: #b6a0ff;">(</span>file+headline <span style="color: #79a8ff;">"personal/tasks.org"</span> <span style="color: #79a8ff;">"Basic tasks that need to be reviewed"</span><span style="color: #b6a0ff;">)</span>
           ,<span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">concat</span> <span style="color: #79a8ff;">"* %^{Title}\n"</span>
                    <span style="color: #79a8ff;">":PROPERTIES:\n"</span>
                    <span style="color: #79a8ff;">":CAPTURED: %U\n"</span>
                    <span style="color: #79a8ff;">":END:\n\n"</span>
                    <span style="color: #79a8ff;">"%i%l"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
          <span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"w"</span> <span style="color: #79a8ff;">"Task or assignment"</span> entry
           <span style="color: #b6a0ff;">(</span>file+headline <span style="color: #79a8ff;">"personal/tasks.org"</span> <span style="color: #79a8ff;">"Work tasks"</span><span style="color: #b6a0ff;">)</span>
           ,<span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">concat</span> <span style="color: #79a8ff;">"* </span><span style="color: #feacd0;">TODO</span><span style="color: #79a8ff;"> [#A] %^{Title} :@work:\n"</span>
                    <span style="color: #79a8ff;">"SCHEDULED: %^t\n"</span>
                    <span style="color: #79a8ff;">":PROPERTIES:\n:CAPTURED: %U\n:END:\n\n"</span>
                    <span style="color: #79a8ff;">"%i%?"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
          <span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"t"</span> <span style="color: #79a8ff;">"Task with a due date"</span> entry
           <span style="color: #b6a0ff;">(</span>file+headline <span style="color: #79a8ff;">"personal/tasks.org"</span> <span style="color: #79a8ff;">"Task list with a date"</span><span style="color: #b6a0ff;">)</span>
           ,<span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">concat</span> <span style="color: #79a8ff;">"* %^{Scope of task||</span><span style="color: #feacd0;">TODO</span><span style="color: #79a8ff;">|STUDY|MEET} %^{Title} %^g\n"</span>
                    <span style="color: #79a8ff;">"SCHEDULED: %^t\n"</span>
                    <span style="color: #79a8ff;">":PROPERTIES:\n:CAPTURED: %U\n:END:\n\n"</span>
                    <span style="color: #79a8ff;">"%i%?"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
          <span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"r"</span> <span style="color: #79a8ff;">"Reply to an email"</span> entry
           <span style="color: #b6a0ff;">(</span>file+headline <span style="color: #79a8ff;">"tasks.org"</span> <span style="color: #79a8ff;">"Mail correspondence"</span><span style="color: #b6a0ff;">)</span>
           ,<span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">concat</span> <span style="color: #79a8ff;">"* </span><span style="color: #feacd0;">TODO</span><span style="color: #79a8ff;"> [#B] %:subject :mail:\n"</span>
                    <span style="color: #79a8ff;">"SCHEDULED: %t\n:"</span>
                    <span style="color: #79a8ff;">"PROPERTIES:\n:CONTEXT: %a\n:END:\n\n"</span>
                    <span style="color: #79a8ff;">"%i%?"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-to-list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">org-capture-templates</span>
             <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"d"</span> <span style="color: #79a8ff;">"New Diary Entry"</span> entry<span style="color: #00cd68;">(</span>file+olp+datetree<span style="color: #79a8ff;">"~/Dropbox/org/personal/diary.org"</span> <span style="color: #79a8ff;">"Daily Logs"</span><span style="color: #00cd68;">)</span>
<span style="color: #79a8ff;">"* %^{thought for the day}</span>
<span style="color: #79a8ff;">:PROPERTIES:</span>
<span style="color: #79a8ff;">:CATEGORY: %^{category}</span>
<span style="color: #79a8ff;">:SUBJECT:  %^{subject}</span>
<span style="color: #79a8ff;">:MOOD:     %^{mood}</span>
<span style="color: #79a8ff;">:END:</span>
<span style="color: #79a8ff;">:RESOURCES:</span>
<span style="color: #79a8ff;">:END:</span>

<span style="color: #79a8ff;">\*What was one good thing you learned today?*:</span>
<span style="color: #79a8ff;">- %^{whatilearnedtoday}</span>

<span style="color: #79a8ff;">\*List one thing you could have done better*:</span>
<span style="color: #79a8ff;">- %^{onethingdobetter}</span>

<span style="color: #79a8ff;">\*Describe in your own words how your day was*:</span>
<span style="color: #79a8ff;">- %?"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-to-list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">org-capture-templates</span>
      <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"u"</span> <span style="color: #79a8ff;">"New URL Entry"</span> entry<span style="color: #00cd68;">(</span>file+function <span style="color: #79a8ff;">"~/Dropbox/org/personal/dailies.org"</span> org-reverse-datetree-goto-date-in-file<span style="color: #00cd68;">)</span>
            <span style="color: #79a8ff;">"* [[%^{URL}][%^{Description}]] %^g %?"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org01d2227" class="outline-3">
<h3 id="org01d2227"><span class="section-number-3">6.3</span> Prettify bullets</h3>
<div class="outline-text-3" id="text-6-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> org-superstar
    <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> org-superstar-headline-bullets-list <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"&#10006;"</span> <span style="color: #79a8ff;">"&#10010;"</span> <span style="color: #79a8ff;">"&#9670;"</span> <span style="color: #79a8ff;">"&#9654;"</span> <span style="color: #79a8ff;">"&#9675;"</span><span style="color: #6ae4b9;">)</span>
        <span style="color: #00d3d0;">org-ellipsis</span> <span style="color: #79a8ff;">"&#9660;"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgab8d884" class="outline-3">
<h3 id="orgab8d884"><span class="section-number-3">6.4</span> Org agenda popup</h3>
<div class="outline-text-3" id="text-6-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*org agenda*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.40</span> <span style="color: #f78fe7; font-weight: bold;">:select</span> t <span style="color: #f78fe7; font-weight: bold;">:vslot</span> <span style="color: #00bcff;">2</span> <span style="color: #f78fe7; font-weight: bold;">:ttl</span> <span style="color: #00bcff;">3</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd01868a" class="outline-3">
<h3 id="orgd01868a"><span class="section-number-3">6.5</span> ox-ipynb</h3>
<div class="outline-text-3" id="text-6-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">ox-ipynb</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org64bdc08" class="outline-3">
<h3 id="org64bdc08"><span class="section-number-3">6.6</span> Org babel clojure</h3>
<div class="outline-text-3" id="text-6-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> evil-org
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">org-babel-clojure-backend</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">cider</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga0ee74c" class="outline-3">
<h3 id="orga0ee74c"><span class="section-number-3">6.7</span> <span class="todo TODO">TODO</span> Reveal</h3>
<div class="outline-text-3" id="text-6-7">
<p>
Update to reveal 4 at some point. Install the <code>toc-progress</code> plugin in the default <code>org-re-reveal-root</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> org-re-reveal
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">org-re-reveal-root</span> <span style="color: #79a8ff;">"./reveal.js"</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">org-re-reveal-revealjs-version</span> <span style="color: #79a8ff;">"3.8"</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">org-re-reveal-external-plugins</span>  <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span>progress . <span style="color: #79a8ff;">"{ src: '%s/plugin/toc-progress/toc-progress.js', async: true, callback: function() { toc_progress.initialize(); toc_progress.create();} }"</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org40e329c" class="outline-3">
<h3 id="org40e329c"><span class="section-number-3">6.8</span> org-cv</h3>
<div class="outline-text-3" id="text-6-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> evil-org
    <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package</span> ox-moderncv
        <span style="color: #f78fe7; font-weight: bold;">:load-path</span> <span style="color: #79a8ff;">"/Users/luca/git/org-cv/"</span>
        <span style="color: #f78fe7; font-weight: bold;">:init</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">ox-altacv</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
        <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:init (require 'ox-moderncv))</span>
    <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org82a3396" class="outline-3">
<h3 id="org82a3396"><span class="section-number-3">6.9</span> Use xelatex</h3>
<div class="outline-text-3" id="text-6-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> latex
    <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">org-latex-compiler</span> <span style="color: #79a8ff;">"xelatex"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2bf42d8" class="outline-3">
<h3 id="org2bf42d8"><span class="section-number-3">6.10</span> HTML export does not fail when org links are present</h3>
<div class="outline-text-3" id="text-6-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> org
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">html-body-id-filter</span> <span style="color: #6ae4b9;">(</span>output backend info<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Remove random ID attributes generated by Org."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">eq</span> backend <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">html</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span><span style="color: #00bcff;">replace-regexp-in-string</span>
       <span style="color: #79a8ff;">" id=\"[[:alpha:]-]*org[[:alnum:]]\\{7\\}\""</span>
       <span style="color: #79a8ff;">""</span>
       output t<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-to-list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">org-export-filter-final-output-functions</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">html-body-id-filter</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4ed19b9" class="outline-3">
<h3 id="org4ed19b9"><span class="section-number-3">6.11</span> <span class="todo TODO">TODO</span> org-tree-slide</h3>
<div class="outline-text-3" id="text-6-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defvar</span> <span style="color: #00d3d0;">my:slide-left-margin</span> <span style="color: #00bcff;">10</span>
  <span style="color: #c6eaff; font-style: italic;">"Left margin during slideshow."</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defvar</span> <span style="color: #00d3d0;">my:slide-right-margin</span> <span style="color: #00bcff;">10</span>
  <span style="color: #c6eaff; font-style: italic;">"Right margin during slideshow."</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defvar</span> <span style="color: #00d3d0;">my:slide-top-margin</span> <span style="color: #00bcff;">500</span>
  <span style="color: #c6eaff; font-style: italic;">"Top margin, for face `</span><span style="color: #00bcff; font-style: italic;">header-line</span><span style="color: #c6eaff; font-style: italic;">' :height."</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defvar</span> <span style="color: #00d3d0;">my:slide-fill-column-save</span> nil
  <span style="color: #c6eaff; font-style: italic;">"Max characters in a line when not displaying slideshow."</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defvar</span> <span style="color: #00d3d0;">my:slide-fill-column</span> <span style="color: #00bcff;">42</span>
  <span style="color: #c6eaff; font-style: italic;">"Max characters in a line of paragraph text on a slide."</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defvar</span> <span style="color: #00d3d0;">my:org-src-block-faces</span> nil
  <span style="color: #c6eaff; font-style: italic;">"Stores src-block faces while presenting."</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defvar</span> <span style="color: #00d3d0;">my:org-slider-src-block-faces</span>
  <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"emacs-lisp"</span> <span style="color: #00cd68;">(</span><span style="color: #f78fe7; font-weight: bold;">:background</span> <span style="color: #79a8ff;">"black"</span> <span style="color: #f78fe7; font-weight: bold;">:box</span> nil<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #c6eaff; font-style: italic;">"Override faces for source blocks during slideshow."</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defvar</span> <span style="color: #00d3d0;">my:slide-background</span> nil <span style="color: #a8a8a8; font-style: italic;">;;</span><span style="color: #a8a8a8; font-style: italic;">"#000000"</span>
  <span style="color: #c6eaff; font-style: italic;">"When non-nil, override background color."</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my:show-headers</span> <span style="color: #b6a0ff;">()</span>
  <span style="color: #c6eaff; font-style: italic;">"Called when stopping the slideshow."</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">restore org's source-block faces</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">org-src-block-faces</span> my:org-src-block-faces<span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">restore fill-col</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">fill-column</span> my:slide-fill-column-save<span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">turn off the fringe</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">set-fringe-mode</span> nil<span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">tear-down headerline</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">header-line-format</span> nil<span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">merge-face-attribute</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">header-line</span> <span style="color: #f78fe7; font-weight: bold;">:height</span> <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">remove margins</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">set-window-margins</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">get-buffer-window</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">current-buffer</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span> <span style="color: #00bcff;">0</span> <span style="color: #00bcff;">0</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">restore hidden block headers</span>
  <span style="color: #b6a0ff;">(</span>hide-lines-show-all<span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">expand everything when exiting the presentation</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">org-show-all</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my:hide-headers</span> <span style="color: #b6a0ff;">()</span>
  <span style="color: #c6eaff; font-style: italic;">"Called when starting the slideshow."</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">preserve org's source block faces then overide them</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> my:org-src-block-faces <span style="color: #00d3d0;">org-src-block-faces</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">org-src-block-faces</span> my:org-slider-src-block-faces<span style="color: #b6a0ff;">)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">preserve then set fill-column</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> my:slide-fill-column-save <span style="color: #00d3d0;">fill-column</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">fill-column</span> my:slide-fill-column<span style="color: #b6a0ff;">)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">expressly turn off boxing and restyle background (thanks Drew)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">https://stackoverflow.com/questions/19201358/how-to-get-emacs-background-color</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">let</span> <span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span>bg <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">or</span> my:slide-background
                <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">face-attribute</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">default</span> <span style="color: #f78fe7; font-weight: bold;">:background</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">set-face-attribute</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">header-line</span> nil
                        <span style="color: #f78fe7; font-weight: bold;">:height</span> my:slide-top-margin
                        <span style="color: #f78fe7; font-weight: bold;">:box</span> nil
                        <span style="color: #f78fe7; font-weight: bold;">:background</span> bg<span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">dolist</span> <span style="color: #00cd68;">(</span>aface <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #b6a0ff;">(</span>org-code org-tree-slide-header-overlay-face<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span><span style="color: #00bcff;">merge-face-attribute</span> aface <span style="color: #f78fe7; font-weight: bold;">:background</span> bg<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">turn off the fringe</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">set-fringe-mode</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">cons</span> <span style="color: #00bcff;">0</span> <span style="color: #00bcff;">0</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">use header-line for top-margin</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">header-line-format</span> <span style="color: #79a8ff;">""</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">setup margins</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">set-window-margins</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">get-buffer-window</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">current-buffer</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
                      my:slide-left-margin
                      my:slide-right-margin<span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">hide block begin/end markers</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">not sure why but hide-lines *really* needs</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">loaded each time we call this..</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">load-library</span> <span style="color: #79a8ff;">"hide-lines"</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span>hide-lines-matching
   <span style="color: #79a8ff;">"#\\+</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">(</span><span style="color: #79a8ff;">BEGIN</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">|</span><span style="color: #79a8ff;">END</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">)</span><span style="color: #79a8ff;">_</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">(</span><span style="color: #79a8ff;">SRC</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">|</span><span style="color: #79a8ff;">EXAMPLE</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">|</span><span style="color: #79a8ff;">VERSE</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">|</span><span style="color: #79a8ff;">QUOTE</span><span style="color: #abab00; font-weight: bold;">\\</span><span style="color: #e7a59a; font-weight: bold;">)</span><span style="color: #79a8ff;">"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #feacd0;">TODO</span><span style="color: #a8a8a8; font-style: italic;"> maybe need to add to packages.el</span>
<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">help us hide the begin/end blocks</span>
<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package</span> hide-lines <span style="color: #f78fe7; font-weight: bold;">:ensure</span> t <span style="color: #f78fe7; font-weight: bold;">:demand</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package</span> org-tree-slide <span style="color: #f78fe7; font-weight: bold;">:ensure</span> t <span style="color: #f78fe7; font-weight: bold;">:demand</span>
             <span style="color: #f78fe7; font-weight: bold;">:bind</span> <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"C-&lt;f2&gt;"</span> . org-tree-slide-mode<span style="color: #b6a0ff;">)</span>
             <span style="color: #f78fe7; font-weight: bold;">:hook</span> <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>org-tree-slide-play . my:hide-headers<span style="color: #6ae4b9;">)</span>
                <span style="color: #6ae4b9;">(</span>org-tree-slide-stop . my:show-headers<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
             <span style="color: #f78fe7; font-weight: bold;">:config</span>
             <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">this advice will save/restore src block faces if we use C-c '</span>
             <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">advice:org-edit-src-code</span> <span style="color: #6ae4b9;">(</span><span style="color: #f78fe7;">&amp;rest</span> _<span style="color: #6ae4b9;">)</span>
               <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span>my:show-headers<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
             <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">advice-add</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">org-edit-src-code</span> <span style="color: #f78fe7; font-weight: bold;">:before</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">advice:org-edit-src-code</span><span style="color: #b6a0ff;">)</span>
             <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">advice:org-edit-src-exit</span> <span style="color: #6ae4b9;">()</span>
               <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span>my:hide-headers<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
             <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">advice-add</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">org-edit-src-exit</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">advice:org-edit-src-exit</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfb3d2f9" class="outline-2">
<h2 id="orgfb3d2f9"><span class="section-number-2">7</span> emacs-jupyter</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org208d4cd" class="outline-3">
<h3 id="org208d4cd"><span class="section-number-3">7.1</span> Org default header arguments:</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> evil-org
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> org-babel-default-header-args:jupyter-python <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span><span style="color: #f78fe7; font-weight: bold;">:async</span> . <span style="color: #79a8ff;">"yes"</span><span style="color: #00cd68;">)</span>
                                                       <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(:pandoc t)</span>
                                                       <span style="color: #00cd68;">(</span><span style="color: #f78fe7; font-weight: bold;">:kernel</span> . <span style="color: #79a8ff;">"python3"</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> org-babel-default-header-args:jupyter-R <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(:pandoc t)</span>
                                                  <span style="color: #00cd68;">(</span><span style="color: #f78fe7; font-weight: bold;">:kernel</span> . <span style="color: #79a8ff;">"ir"</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcad939e" class="outline-3">
<h3 id="orgcad939e"><span class="section-number-3">7.2</span> Key bindings:</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(:when (featurep! :lang +jupyter)</span>
<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> evil-org
      <span style="color: #f78fe7; font-weight: bold;">:map</span> <span style="color: #00d3d0;">evil-org-mode-map</span>
      <span style="color: #f78fe7; font-weight: bold;">:leader</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"tangle"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"ct"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">org-babel-tangle</span>
      <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Hydra"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">","</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-org-hydra/body</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Inspect at point"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"?"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-inspect-at-point</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Execute and step"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"RET"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-org-execute-and-next-block</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Delete code block"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"x"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-org-kill-block-and-results</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"New code block above"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"+"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-org-insert-src-block</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"New code block below"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"="</span> <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">&#955;!</span> <span style="color: #6ae4b9;">()</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #feacd0;">jupyter-org-insert-src-block</span> t nil<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Merge code blocks"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"m"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-org-merge-blocks</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Split code block"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"-"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-org-split-src-block</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Fold results"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"z"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">org-babel-hide-result-toggle</span>

      <span style="color: #f78fe7; font-weight: bold;">:map</span> <span style="color: #00d3d0;">org-src-mode-map</span>
      <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Exit edit"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"'"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">org-edit-src-exit</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> python
      <span style="color: #f78fe7; font-weight: bold;">:map</span> <span style="color: #00d3d0;">python-mode-map</span>
      <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"eval"</span> <span style="color: #f78fe7; font-weight: bold;">:prefix</span> <span style="color: #79a8ff;">"e"</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"line or region"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"e"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-eval-line-or-region</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"defun"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"d"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-eval-defun</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"buffer"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"b"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-eval-buffer</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org313da6f" class="outline-3">
<h3 id="org313da6f"><span class="section-number-3">7.3</span> Popups</h3>
<div class="outline-text-3" id="text-7-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*jupyter-pager*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.40</span> <span style="color: #f78fe7; font-weight: bold;">:select</span> t <span style="color: #f78fe7; font-weight: bold;">:vslot</span> <span style="color: #00bcff;">2</span> <span style="color: #f78fe7; font-weight: bold;">:ttl</span> <span style="color: #00bcff;">3</span><span style="color: #00cd68;">)</span>
<span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"^\\*Org Src*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.60</span> <span style="color: #f78fe7; font-weight: bold;">:select</span> t <span style="color: #f78fe7; font-weight: bold;">:vslot</span> <span style="color: #00bcff;">2</span> <span style="color: #f78fe7; font-weight: bold;">:ttl</span> <span style="color: #00bcff;">3</span> <span style="color: #f78fe7; font-weight: bold;">:quit</span> nil<span style="color: #00cd68;">)</span>
<span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*jupyter-repl*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">bottom</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.30</span> <span style="color: #f78fe7; font-weight: bold;">:vslot</span> <span style="color: #00bcff;">2</span> <span style="color: #f78fe7; font-weight: bold;">:ttl</span> <span style="color: #00bcff;">3</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0edb322" class="outline-3">
<h3 id="org0edb322"><span class="section-number-3">7.4</span> <span class="todo TODO">TODO</span> Library of babel</h3>
<div class="outline-text-3" id="text-7-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(after! evil-org</span>
<span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(org-babel-lob-ingest "/Users/luca/git/experiments/literate/ml/rpy2.org"))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7341486" class="outline-3">
<h3 id="org7341486"><span class="section-number-3">7.5</span> Eval handler</h3>
<div class="outline-text-3" id="text-7-5">
<p>
With <code>g r</code> we can send code to the Jupyter REPL:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> ob-jupyter
  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">set-eval-handler!</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">jupyter-repl-interaction-mode</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-eval-line-or-region</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5219b17" class="outline-3">
<h3 id="org5219b17"><span class="section-number-3">7.6</span> Set REPL handler</h3>
<div class="outline-text-3" id="text-7-6">
<p>
On a scratch buffer, first run <code>jupyter-associate-buffer</code>.
Then, hitting <code>SPC o r</code> allows use to hit the REPL buffer with the lines/regions
of code we send with <code>g r</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">add-hook!</span> python-mode
  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">set-repl-handler!</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">python-mode</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-repl-pop-to-buffer</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org08fbda8" class="outline-3">
<h3 id="org08fbda8"><span class="section-number-3">7.7</span> <span class="todo TODO">TODO</span> Use overlays</h3>
<div class="outline-text-3" id="text-7-7">
<p>
Evaluate simple expressions to the right of the symbol with <code>, e e</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(after! ob-jupyter</span>
<span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(setq jupyter-eval-use-overlays t))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org61d395f" class="outline-3">
<h3 id="org61d395f"><span class="section-number-3">7.8</span> Long outputs</h3>
<div class="outline-text-3" id="text-7-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> ob-jupyter
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">cl-defmethod</span> <span style="color: #feacd0;">jupyter-org--insert-result</span> <span style="color: #6ae4b9;">(</span>_req context result<span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">let</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff;">(</span>str
           <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">org-element-interpret-data</span>
            <span style="color: #00cd68;">(</span><span style="color: #feacd0;">jupyter-org--wrap-result-maybe</span>
             context <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #6ae4b9;">(</span><span style="color: #feacd0;">jupyter-org--stream-result-p</span> result<span style="color: #6ae4b9;">)</span>
                         <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">thread-last</span> result
                           jupyter-org-strip-last-newline
                           jupyter-org-scalar<span style="color: #6ae4b9;">)</span>
                       result<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">&lt;</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">length</span> str<span style="color: #6ae4b9;">)</span> <span style="color: #00bcff;">100000</span><span style="color: #b6a0ff;">)</span>
          <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">insert</span> str<span style="color: #b6a0ff;">)</span>
        <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">insert</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">format</span> <span style="color: #79a8ff;">": Result was too long! Length was %d"</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">length</span> str<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">/=</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">point</span><span style="color: #b6a0ff;">)</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">line-beginning-position</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Org objects such as file links do not have a newline added when</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">converting to their string representation by</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">`</span><span style="color: #00bcff; font-style: italic;">org-element-interpret-data</span><span style="color: #a8a8a8; font-style: italic;">' so insert one in these cases.</span>
      <span style="color: #00cd68;">(</span><span style="color: #00bcff;">insert</span> <span style="color: #79a8ff;">"\n"</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7cc258d" class="outline-3">
<h3 id="org7cc258d"><span class="section-number-3">7.9</span> Fix zmq keywords</h3>
<div class="outline-text-3" id="text-7-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defadvice!</span> fixed-zmq-start-process <span style="color: #b6a0ff;">(</span>orig-fn <span style="color: #f78fe7;">&amp;rest</span> args<span style="color: #b6a0ff;">)</span>
  <span style="color: #f78fe7; font-weight: bold;">:around</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">zmq-start-process</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">letf!</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">make-process</span> <span style="color: #00cd68;">(</span><span style="color: #f78fe7;">&amp;rest</span> plist<span style="color: #00cd68;">)</span>
           <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">plist-put!</span> plist <span style="color: #f78fe7; font-weight: bold;">:coding</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">plist-get</span> plist <span style="color: #f78fe7; font-weight: bold;">:coding-system</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
           <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">plist-delete!</span> plist <span style="color: #f78fe7; font-weight: bold;">:coding-system</span><span style="color: #00cd68;">)</span>
           <span style="color: #00cd68;">(</span><span style="color: #00bcff;">apply</span> make-process plist<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">apply</span> orig-fn args<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbae892b" class="outline-3">
<h3 id="orgbae892b"><span class="section-number-3">7.10</span> <span class="todo TODO">TODO</span> Unmap org-metadown</h3>
<div class="outline-text-3" id="text-7-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(map! :after org-evil</span>
<span style="color: #a8a8a8; font-style: italic;">;;         </span><span style="color: #a8a8a8; font-style: italic;">:map evil-org-mode-map</span>
<span style="color: #a8a8a8; font-style: italic;">;;       </span><span style="color: #a8a8a8; font-style: italic;">:n "M-&lt;down&gt;" nil</span>
<span style="color: #a8a8a8; font-style: italic;">;;       </span><span style="color: #a8a8a8; font-style: italic;">:n "M-j" nil</span>
<span style="color: #a8a8a8; font-style: italic;">;;       </span><span style="color: #a8a8a8; font-style: italic;">)</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org6903099" class="outline-3">
<h3 id="org6903099"><span class="section-number-3">7.11</span> <span class="todo TODO">TODO</span> scimax utilities</h3>
<div class="outline-text-3" id="text-7-11">
<p>
Found at <a href="https://github.com/nnicandro/emacs-jupyter/issues/160">https://github.com/nnicandro/emacs-jupyter/issues/160</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> jupyter
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">jupyter-run-repl-or-pop-to-buffer-dwim</span> <span style="color: #6ae4b9;">()</span>
    <span style="color: #c6eaff; font-style: italic;">"If a buffer is already associated with a jupyter buffer,</span>
<span style="color: #c6eaff; font-style: italic;">then pop to it. Otherwise start a jupyter kernel."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">bound-and-true-p</span> <span style="color: #00d3d0;">jupyter-current-client</span><span style="color: #00cd68;">)</span>
        <span style="color: #00cd68;">(</span><span style="color: #feacd0;">jupyter-repl-pop-to-buffer</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span><span style="color: #00bcff;">call-interactively</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-run-repl</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">* eldoc integration</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">scimax-jupyter-signature</span> <span style="color: #6ae4b9;">()</span>
    <span style="color: #c6eaff; font-style: italic;">"Try to return a function signature for the thing at point."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">and</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">eql</span> <span style="color: #00d3d0;">major-mode</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">org-mode</span><span style="color: #b6a0ff;">)</span>
               <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">string=</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">or</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">get-text-property</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">point</span><span style="color: #b6a0ff;">)</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">lang</span><span style="color: #00cd68;">)</span> <span style="color: #79a8ff;">""</span><span style="color: #6ae4b9;">)</span> <span style="color: #79a8ff;">"jupyter-python"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">save-window-excursion</span>
     <span style="color: #a8a8a8; font-style: italic;">;;; </span><span style="color: #a8a8a8; font-style: italic;">Essentially copied from (jupyter-inspect-at-point).</span>
        <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">jupyter-org-with-src-block-client</span>
         <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">cl-destructuring-bind</span> <span style="color: #00cd68;">(</span>code pos<span style="color: #00cd68;">)</span>
             <span style="color: #00cd68;">(</span><span style="color: #feacd0;">jupyter-code-context</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">inspect</span><span style="color: #00cd68;">)</span>
           <span style="color: #00cd68;">(</span><span style="color: #feacd0;">jupyter-inspect</span> code pos nil <span style="color: #00bcff;">0</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
        <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">get-buffer</span> <span style="color: #79a8ff;">"*Help*"</span><span style="color: #6ae4b9;">)</span>
          <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">with-current-buffer</span> <span style="color: #79a8ff;">"*Help*"</span>
            <span style="color: #00cd68;">(</span><span style="color: #00bcff;">goto-char</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">point-min</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
            <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">prog1</span>
                <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">cond</span>
                 <span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span><span style="color: #00bcff;">re-search-forward</span> <span style="color: #79a8ff;">"Signature:"</span> nil t <span style="color: #00bcff;">1</span><span style="color: #00cd68;">)</span>
                  <span style="color: #00cd68;">(</span><span style="color: #00bcff;">buffer-substring</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">line-beginning-position</span><span style="color: #b6a0ff;">)</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">line-end-position</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
                 <span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span><span style="color: #00bcff;">re-search-forward</span> <span style="color: #79a8ff;">"Docstring:"</span> nil t <span style="color: #00bcff;">1</span><span style="color: #00cd68;">)</span>
                  <span style="color: #00cd68;">(</span><span style="color: #00bcff;">forward-line</span><span style="color: #00cd68;">)</span>
                  <span style="color: #00cd68;">(</span><span style="color: #00bcff;">buffer-substring</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">line-beginning-position</span><span style="color: #b6a0ff;">)</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">line-end-position</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
                 <span style="color: #6ae4b9;">(</span>t
                  nil<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
              <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">get rid of this so we don't accidentally show old results later</span>
              <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">with-current-buffer</span> <span style="color: #79a8ff;">"*Help*"</span>
                <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">toggle-read-only</span><span style="color: #6ae4b9;">)</span>
                <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">erase-buffer</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">scimax-jupyter-eldoc-advice</span> <span style="color: #6ae4b9;">(</span>orig-func <span style="color: #f78fe7;">&amp;rest</span> args<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Advice function to get eldoc signatures in blocks in org-mode."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">or</span> <span style="color: #00cd68;">(</span>scimax-jupyter-signature<span style="color: #00cd68;">)</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">apply</span> orig-func args<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>


  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">scimax-jupyter-turn-on-eldoc</span> <span style="color: #6ae4b9;">()</span>
    <span style="color: #c6eaff; font-style: italic;">"Turn on eldoc signatures."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">advice-add</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">org-eldoc-documentation-function</span> <span style="color: #f78fe7; font-weight: bold;">:around</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">scimax-jupyter-eldoc-advice</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span> scimax-jupyter-turn-on-eldoc <span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org28ff361" class="outline-2">
<h2 id="org28ff361"><span class="section-number-2">8</span> Python</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-orgeb319ec" class="outline-3">
<h3 id="orgeb319ec"><span class="section-number-3">8.1</span> REPL</h3>
<div class="outline-text-3" id="text-8-1">
</div>
<div id="outline-container-orgd7c3f98" class="outline-4">
<h4 id="orgd7c3f98"><span class="section-number-4">8.1.1</span> virtualenv executable</h4>
<div class="outline-text-4" id="text-8-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defadvice!</span> +python-poetry-open-repl-a <span style="color: #b6a0ff;">(</span>orig-fn <span style="color: #f78fe7;">&amp;rest</span> args<span style="color: #b6a0ff;">)</span>
  <span style="color: #c6eaff; font-style: italic;">"Use the Python binary from the current virtual environment."</span>
  <span style="color: #f78fe7; font-weight: bold;">:around</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">+python/open-repl</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">getenv</span> <span style="color: #79a8ff;">"VIRTUAL_ENV"</span><span style="color: #6ae4b9;">)</span>
      <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">let</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">python-shell-interpreter</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">executable-find</span> <span style="color: #79a8ff;">"ipython"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
        <span style="color: #00cd68;">(</span><span style="color: #00bcff;">apply</span> orig-fn args<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">apply</span> orig-fn args<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org51eeec8" class="outline-4">
<h4 id="org51eeec8"><span class="section-number-4">8.1.2</span> Silence warnings when opening REPL</h4>
<div class="outline-text-4" id="text-8-1-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">python-shell-prompt-detect-failure-warning</span> nil<span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgedcd5a0" class="outline-4">
<h4 id="orgedcd5a0"><span class="section-number-4">8.1.3</span> Ignore popup rule</h4>
<div class="outline-text-4" id="text-8-1-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"^\\*Python*"</span> <span style="color: #f78fe7; font-weight: bold;">:ignore</span> t<span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1b0d688" class="outline-4">
<h4 id="org1b0d688"><span class="section-number-4">8.1.4</span> Disable native completion</h4>
<div class="outline-text-4" id="text-8-1-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> python
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">python-shell-completion-native-enable</span> nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4eb1ecf" class="outline-3">
<h3 id="org4eb1ecf"><span class="section-number-3">8.2</span> LSP</h3>
<div class="outline-text-3" id="text-8-2">
</div>
<div id="outline-container-org93c5d76" class="outline-4">
<h4 id="org93c5d76"><span class="section-number-4">8.2.1</span> Use pyright</h4>
<div class="outline-text-4" id="text-8-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> lsp-python-ms
  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">set-lsp-priority!</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">pyright</span> <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge94fbae" class="outline-4">
<h4 id="orge94fbae"><span class="section-number-4">8.2.2</span> Don&rsquo;t guess project root</h4>
<div class="outline-text-4" id="text-8-2-2">
<p>
In case we get a wrong workspace root, we can delete it with <code>lsp-workspace-folders-remove</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> <span style="color: #00d3d0;">lsp-mode</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">lsp-auto-guess-root</span> nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> projectile
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">projectile-project-root-files</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"Dockerfile"</span> <span style="color: #79a8ff;">"pyproject.toml"</span> <span style="color: #79a8ff;">"project.clj"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org19ec5de" class="outline-4">
<h4 id="org19ec5de"><span class="section-number-4">8.2.3</span> Increase bytes read from subprocess</h4>
<div class="outline-text-4" id="text-8-2-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">read-process-output-max</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">*</span> <span style="color: #00bcff;">1024</span> <span style="color: #00bcff;">1024</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge108217" class="outline-4">
<h4 id="orge108217"><span class="section-number-4">8.2.4</span> lsp-help popup</h4>
<div class="outline-text-4" id="text-8-2-4">
<p>
Lookup documentation with <code>SPC c k</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"^\\*lsp-help"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.50</span> <span style="color: #f78fe7; font-weight: bold;">:select</span> t <span style="color: #f78fe7; font-weight: bold;">:vslot</span> <span style="color: #00bcff;">1</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0553640" class="outline-4">
<h4 id="org0553640"><span class="section-number-4">8.2.5</span> Disable lsp flycheck checker and use flake8</h4>
<div class="outline-text-4" id="text-8-2-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> <span style="color: #00d3d0;">lsp-mode</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">lsp-diagnostic-package</span> <span style="color: #f78fe7; font-weight: bold;">:none</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> flycheck
    <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">pyhon-mode-local-vars-hook</span>
            <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #00cd68;">()</span>
                <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">flycheck-may-enable-checker</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">python-flake8</span><span style="color: #b6a0ff;">)</span>
                <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">flycheck-select-checker</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">python-flake8</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq flycheck-disabled-checkers 'lsp)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9ceaa6d" class="outline-4">
<h4 id="org9ceaa6d"><span class="section-number-4">8.2.6</span> UI</h4>
<div class="outline-text-4" id="text-8-2-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> <span style="color: #00d3d0;">lsp-mode</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">lsp-eldoc-enable-hover</span> nil
        <span style="color: #00d3d0;">lsp-signature-auto-activate</span> nil
        <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">lsp-enable-on-type-formatting nil</span>
        <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">lsp-enable-symbol-highlighting nil</span>
        <span style="color: #00d3d0;">lsp-enable-file-watchers</span> nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1827c2f" class="outline-4">
<h4 id="org1827c2f"><span class="section-number-4">8.2.7</span> Don&rsquo;t restart on exit</h4>
<div class="outline-text-4" id="text-8-2-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> <span style="color: #00d3d0;">lsp-mode</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">lsp-restart</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">ignore</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org891d68a" class="outline-4">
<h4 id="org891d68a"><span class="section-number-4">8.2.8</span> <span class="todo TODO">TODO</span> Eglot</h4>
<div class="outline-text-4" id="text-8-2-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> +eglot<span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> eglot
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">add-to-list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">eglot-server-programs</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00cd68;">(</span>python-mode . <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"pyright-langserver"</span> <span style="color: #79a8ff;">"--stdio"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org9998b22" class="outline-3">
<h3 id="org9998b22"><span class="section-number-3">8.3</span> Pytest</h3>
<div class="outline-text-3" id="text-8-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> python-pytest
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> python-pytest-arguments <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"--color"</span> <span style="color: #79a8ff;">"--failed-first"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">evil-set-initial-state</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">python-pytest-mode</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">normal</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"^\\*pytest*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.50</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb27d3bc" class="outline-3">
<h3 id="orgb27d3bc"><span class="section-number-3">8.4</span> dap-mode</h3>
<div class="outline-text-3" id="text-8-4">
</div>
<div id="outline-container-orgedeec01" class="outline-4">
<h4 id="orgedeec01"><span class="section-number-4">8.4.1</span> dap configure windows</h4>
<div class="outline-text-4" id="text-8-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> <span style="color: #00d3d0;">dap-mode</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq dap-auto-show-output t)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">dap-output-window-max-height</span> <span style="color: #00bcff;">50</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">dap-output-window-min-height</span> <span style="color: #00bcff;">50</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">dap-auto-configure-features</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span>locals<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">dap-ui-buffer-configurations</span>
        <span style="color: #b6a0ff; font-weight: bold;">`</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span>,<span style="color: #79a8ff;">"*dap-ui-locals*"</span>  . <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>side . right<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span>slot . <span style="color: #00bcff;">1</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">window-width</span> . <span style="color: #00bcff;">0.50</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span> <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">changed this to 0.50</span>
          <span style="color: #00cd68;">(</span>,<span style="color: #79a8ff;">"*dap-ui-repl*"</span> . <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>side . right<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span>slot . <span style="color: #00bcff;">1</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">window-width</span> . <span style="color: #00bcff;">0.50</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span> <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">added this! </span><span style="color: #feacd0;">TODO</span><span style="color: #a8a8a8; font-style: italic;"> enable when release on MELPA</span>
          <span style="color: #00cd68;">(</span>,<span style="color: #79a8ff;">"*dap-ui-expressions*"</span> . <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>side . right<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span>slot . <span style="color: #00bcff;">2</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">window-width</span> . <span style="color: #00bcff;">0.20</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
          <span style="color: #00cd68;">(</span>,<span style="color: #79a8ff;">"*dap-ui-sessions*"</span> . <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>side . right<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span>slot . <span style="color: #00bcff;">3</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">window-width</span> . <span style="color: #00bcff;">0.20</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
          <span style="color: #00cd68;">(</span>,<span style="color: #79a8ff;">"*dap-ui-breakpoints*"</span> . <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>side . left<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span>slot . <span style="color: #00bcff;">2</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">window-width</span> . , <span style="color: #00bcff;">0.20</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
          <span style="color: #00cd68;">(</span>,<span style="color: #79a8ff;">"*debug-window*"</span> . <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>side . bottom<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span>slot . <span style="color: #00bcff;">3</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">window-width</span> . <span style="color: #00bcff;">0.20</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(set-popup-rule! "^\\*dap-debug-script*" :side 'bottom :size .30)</span>


  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my/window-visible</span> <span style="color: #6ae4b9;">(</span>b-name<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Return whether B-NAME is visible."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">-&gt;</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">-compose</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">buffer-name</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">window-buffer</span><span style="color: #00cd68;">)</span>
        <span style="color: #00cd68;">(</span><span style="color: #00bcff;">-map</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">window-list</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
        <span style="color: #00cd68;">(</span><span style="color: #00bcff;">-contains?</span> b-name<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my/show-debug-windows</span> <span style="color: #6ae4b9;">(</span>session<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Show debug windows."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">let</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">lsp--cur-workspace</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">dap--debug-session-workspace</span> session<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">save-excursion</span>
        <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">unless</span> <span style="color: #6ae4b9;">(</span><span style="color: #feacd0;">my/window-visible</span> <span style="color: #00d3d0;">dap-ui--repl-buffer</span><span style="color: #6ae4b9;">)</span>
          <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">dap-ui-repl</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">dap-stopped-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">my/show-debug-windows</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my/hide-debug-windows</span> <span style="color: #6ae4b9;">(</span>session<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Hide debug windows when all debug sessions are dead."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">unless</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">-filter</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">dap--session-running</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">dap--get-sessions</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">and</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">get-buffer</span> <span style="color: #00d3d0;">dap-ui--repl-buffer</span><span style="color: #b6a0ff;">)</span>
           <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">kill-buffer</span> <span style="color: #00d3d0;">dap-ui--repl-buffer</span><span style="color: #b6a0ff;">)</span>
           <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">get-buffer</span> <span style="color: #00d3d0;">dap-ui--debug-window-buffer</span><span style="color: #b6a0ff;">)</span>
           <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">kill-buffer</span> <span style="color: #00d3d0;">dap-ui--debug-window-buffer</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">dap-terminated-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">my/hide-debug-windows</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3ec5319" class="outline-4">
<h4 id="org3ec5319"><span class="section-number-4">8.4.2</span> Remove dap ui features</h4>
<div class="outline-text-4" id="text-8-4-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq dap-auto-configure-features '(locals))</span>
<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(after! dap-mode</span>
<span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(setq dap-overlays-use-overlays nil)</span>
<span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">)</span>
<span style="color: #00cd68;">(</span><span style="color: #00bcff;">remove-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">dap-mode-hook</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00d3d0;">dap-tooltip-mode</span><span style="color: #00cd68;">)</span>
<span style="color: #00cd68;">(</span><span style="color: #00bcff;">remove-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">dap-ui-mode-hook</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00d3d0;">dap-ui-controls-mode</span><span style="color: #00cd68;">)</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org926f6b9" class="outline-4">
<h4 id="org926f6b9"><span class="section-number-4">8.4.3</span> Debug templates:</h4>
<div class="outline-text-4" id="text-8-4-3">
<p>
Templates accessible with <code>, d d</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> dap-python
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">dap-register-debug-template</span> <span style="color: #79a8ff;">"dap-debug-script"</span>
                               <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">list</span> <span style="color: #f78fe7; font-weight: bold;">:type</span> <span style="color: #79a8ff;">"python"</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:args</span> <span style="color: #00cd68;">[]</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:cwd</span> <span style="color: #79a8ff;">"${workspaceFolder}"</span>
                                     <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:cwd (lsp-workspace-root)</span>
                                     <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:justMyCode :json-false</span>
                                     <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:debugOptions ["DebugStdLib" "ShowReturnValue" "RedirectOutput"]</span>
                                     <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:program nil ; (expand-file-name "~/git/blabla")</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:request</span> <span style="color: #79a8ff;">"launch"</span>
                                     <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:debugger 'ptvsd</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:debugger</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">debugpy</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:name</span> <span style="color: #79a8ff;">"dap-debug-script"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(dap-register-debug-template "Python :: Run pytest (at point), ptvsd"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                              </span><span style="color: #a8a8a8; font-style: italic;">(list :type "python-test-at-point"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:args ""</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:module "pytest"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:request "launch"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:debugger 'ptvsd</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:name "Python :: Run pytest (at point)"))</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(dap-register-debug-template "Python :: Run pytest (at point), debugpy"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                              </span><span style="color: #a8a8a8; font-style: italic;">(list :type "python-test-at-point"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:args ["/Users/luca/git/wondercast/caf/test/customer_allocation/summarize_historical/summarize_historical_test.py::test_summarize"]</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">;; :module "pytest"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:request "launch"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:debugger 'debugpy</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:name "Python :: Run pytest (at point)"))</span>

  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org76f378c" class="outline-4">
<h4 id="org76f378c"><span class="section-number-4">8.4.4</span> Debug test at point</h4>
<div class="outline-text-4" id="text-8-4-4">
<p>
Standard debug test target, accessible with <code>, d t</code>
</p>

<p>
For pytest the command is
<code>python -m ptvsd --wait --host localhost --port 62421 -m pytest /.../summarize_historical_test.py\:\:test_summarize</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(after! dap-python</span>
<span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(require 'python-pytest)</span>

<span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(defun dap-python-test-method-at-point-debugpy ()</span>
<span style="color: #a8a8a8; font-style: italic;">;;     </span><span style="color: #a8a8a8; font-style: italic;">(interactive</span>
<span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">(dap-debug</span>
<span style="color: #a8a8a8; font-style: italic;">;;         </span><span style="color: #a8a8a8; font-style: italic;">(list :type "python"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">;; :args []</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">;; :args "py.test /Users/luca/git/wondercast/caf/test/customer_allocation/summarize_historical/summarize_historical_test.py"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:args (concat (buffer-file-name) ":" ":" (python-pytest--current-defun))</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">;; :program (concat (buffer-file-name) ":" ":" (python-pytest--current-defun))</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">;; :program "/Users/luca/git/wondercast/caf/test/customer_allocation/summarize_historical/summarize_historical_test.py"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">;; :module "pytest"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:debugger 'debugpy</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:request "launch"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:name "dap-debug-test-function-debugpy"))))</span>

<span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(defun dap-python-test-method-at-point ()</span>
<span style="color: #a8a8a8; font-style: italic;">;;     </span><span style="color: #a8a8a8; font-style: italic;">(interactive</span>
<span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">(dap-debug</span>
<span style="color: #a8a8a8; font-style: italic;">;;         </span><span style="color: #a8a8a8; font-style: italic;">(list :type "python"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:args ""</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">;; :args []</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:cwd (lsp-workspace-root)</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:program (concat (buffer-file-name) ":" ":" (python-pytest--current-defun))</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:module "pytest"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:debugger 'ptvsd</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">;; :debugger 'debugpy</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:request "launch"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:name "dap-debug-test-function")))))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org365f42f" class="outline-4">
<h4 id="org365f42f"><span class="section-number-4">8.4.5</span> virtualenv executable</h4>
<div class="outline-text-4" id="text-8-4-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defadvice!</span> +dap-python-poetry-executable-find-a <span style="color: #b6a0ff;">(</span>orig-fn <span style="color: #f78fe7;">&amp;rest</span> args<span style="color: #b6a0ff;">)</span>
  <span style="color: #c6eaff; font-style: italic;">"Use the Python binary from the current virtual environment."</span>
  <span style="color: #f78fe7; font-weight: bold;">:around</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-python--pyenv-executable-find</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">getenv</span> <span style="color: #79a8ff;">"VIRTUAL_ENV"</span><span style="color: #6ae4b9;">)</span>
      <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">executable-find</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">car</span> args<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">apply</span> orig-fn args<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(after! dap-python</span>
<span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(defun dap-python--pyenv-executable-find (command)</span>
<span style="color: #a8a8a8; font-style: italic;">;;     </span><span style="color: #a8a8a8; font-style: italic;">(concat (getenv "VIRTUAL_ENV") "/bin/python")))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org81679eb" class="outline-4">
<h4 id="org81679eb"><span class="section-number-4">8.4.6</span> Delete hap hydra bindings</h4>
<div class="outline-text-4" id="text-8-4-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
        <span style="color: #f78fe7; font-weight: bold;">:map</span> <span style="color: #00d3d0;">+dap-running-session-mode-map</span>
      <span style="color: #79a8ff;">"d"</span> nil<span style="color: #00cd68;">)</span>

<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(map! :after dap-mode</span>
<span style="color: #a8a8a8; font-style: italic;">;;     </span><span style="color: #a8a8a8; font-style: italic;">:map dap-mode-map</span>
<span style="color: #a8a8a8; font-style: italic;">;;     </span><span style="color: #a8a8a8; font-style: italic;">:localleader "d" nil)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc9e9f82" class="outline-4">
<h4 id="orgc9e9f82"><span class="section-number-4">8.4.7</span> Bindings</h4>
<div class="outline-text-4" id="text-8-4-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> <span style="color: #00d3d0;">dap-mode</span>
    <span style="color: #f78fe7; font-weight: bold;">:map</span> <span style="color: #00d3d0;">python-mode-map</span>
    <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
    <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">"d" nil</span>
    <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"debug"</span> <span style="color: #f78fe7; font-weight: bold;">:prefix</span> <span style="color: #79a8ff;">"d"</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Hydra"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"h"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-hydra</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Run debug configuration"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"d"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-debug</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"dap-ui REPL"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"r"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-ui-repl</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Debug test function"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"t"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-python-debug-test-at-point</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Run last debug configuration"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"l"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-debug-last</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Toggle breakpoint"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"b"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-breakpoint-toggle</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"dap continue"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"c"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-continue</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"dap next"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"n"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-next</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Debug script"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"s"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-python-script</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"dap step in"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"i"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-step-in</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"dap eval at point"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"e"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-eval-thing-at-point</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Disconnect"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"q"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-disconnect</span> <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org786d0bd" class="outline-4">
<h4 id="org786d0bd"><span class="section-number-4">8.4.8</span> <span class="todo TODO">TODO</span> Use debugpy</h4>
<div class="outline-text-4" id="text-8-4-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> <span style="color: #00d3d0;">dap-mode</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">dap-python-debugger</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">debugpy</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc4b9b51" class="outline-3">
<h3 id="orgc4b9b51"><span class="section-number-3">8.5</span> emacs-ipython-notebook</h3>
<div class="outline-text-3" id="text-8-5">
</div>
<div id="outline-container-org1b36bee" class="outline-4">
<h4 id="org1b36bee"><span class="section-number-4">8.5.1</span> Don&rsquo;t ignore <code>ein</code> buffers</h4>
<div class="outline-text-4" id="text-8-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> ein
  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"^\\*ein"</span> <span style="color: #f78fe7; font-weight: bold;">:ignore</span> t<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0115fc1" class="outline-4">
<h4 id="org0115fc1"><span class="section-number-4">8.5.2</span> Bindings</h4>
<div class="outline-text-4" id="text-8-5-2">
<p>
Bindings, inspired by<a href="https://github.com/millejoh/emacs-ipython-notebook/wiki/Spacemacs-Evil-Bindings"> this</a>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:when</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> <span style="color: #f78fe7; font-weight: bold;">:tools</span> ein<span style="color: #6ae4b9;">)</span>
        <span style="color: #6ae4b9;">(</span><span style="color: #f78fe7; font-weight: bold;">:map</span> ein:notebook-mode-map
          <span style="color: #f78fe7; font-weight: bold;">:nmvo</span> <span style="color: #00d3d0;">doom-localleader-key</span> nil <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">remove binding to local-leader</span>

          <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:desc "Execute" :ni "S-RET" #'ein:worksheet-execute-cell</span>

          <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Show Hydra"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"?"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">+ein/hydra/body</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Execute and step"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"RET"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-execute-cell-and-goto-next</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Yank cell"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"y"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-copy-cell</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Paste cell"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"p"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-yank-cell</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Delete cell"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"d"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-kill-cell</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Insert cell below"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"o"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-insert-cell-below</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Insert cell above"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"O"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-insert-cell-above</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Next cell"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"j"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-goto-next-input</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Previous cell"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"k"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-goto-prev-input</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Save notebook"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"fs"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:notebook-save-notebook-command</span>
      <span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgcec3a14" class="outline-3">
<h3 id="orgcec3a14"><span class="section-number-3">8.6</span> Dash docsets</h3>
<div class="outline-text-3" id="text-8-6">
<p>
When <code>SPC c k</code> fails, try searching in the docsets with <code>SPC s k</code>.
Install docsets with <code>dash-docs-install-docset</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*eww*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.50</span> <span style="color: #f78fe7; font-weight: bold;">:select</span> t <span style="color: #f78fe7; font-weight: bold;">:vslot</span> <span style="color: #00bcff;">2</span> <span style="color: #f78fe7; font-weight: bold;">:ttl</span> <span style="color: #00bcff;">3</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> dash-docs
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq dash-docs-docsets-path "/Users/luca/Library/Application Support/Dash/DocSets")</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq counsel-dash-docsets-path "/Users/luca/Library/Application Support/Dash/DocSets")</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(expand-file-name "~/Library/Application Support/Dash/DocSets")</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(set-docsets! 'python-mode "NumPy" "Pandas" "scikit-learn"))</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> counsel-dash-docsets <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"Pandas"</span> <span style="color: #79a8ff;">"scikit-learn"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">dash-docs-docsets</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"Pandas"</span> <span style="color: #79a8ff;">"scikit-learn"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org80a2eea" class="outline-3">
<h3 id="org80a2eea"><span class="section-number-3">8.7</span> Compilation popup</h3>
<div class="outline-text-3" id="text-8-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*compilation*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.50</span> <span style="color: #f78fe7; font-weight: bold;">:select</span> t <span style="color: #f78fe7; font-weight: bold;">:vslot</span> <span style="color: #00bcff;">2</span> <span style="color: #f78fe7; font-weight: bold;">:quit</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">current</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7d1566d" class="outline-3">
<h3 id="org7d1566d"><span class="section-number-3">8.8</span> Disable venv in modeline</h3>
<div class="outline-text-3" id="text-8-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> pyvenv
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> pyvenv-mode-line-indicator nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org25ea4dd" class="outline-2">
<h2 id="org25ea4dd"><span class="section-number-2">9</span> R</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-orgdd81e77" class="outline-3">
<h3 id="orgdd81e77"><span class="section-number-3">9.1</span> ESS console popup</h3>
<div class="outline-text-3" id="text-9-1">
<p>
Disable popup for ESS:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"^\\*R:"</span> <span style="color: #f78fe7; font-weight: bold;">:ignore</span> t<span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfb1096c" class="outline-3">
<h3 id="orgfb1096c"><span class="section-number-3">9.2</span> Async eval</h3>
<div class="outline-text-3" id="text-9-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> ess
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> ess-eval-visibly <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">nowait</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org158ea20" class="outline-3">
<h3 id="org158ea20"><span class="section-number-3">9.3</span> Syntax highlighting</h3>
<div class="outline-text-3" id="text-9-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> ess
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> ess-R-font-lock-keywords <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span>ess-R-fl-keyword:keywords . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-R-fl-keyword:constants . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-R-fl-keyword:modifiers . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-R-fl-keyword:fun-defs . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-R-fl-keyword:assign-ops . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-R-fl-keyword:%op% . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-fl-keyword:fun-calls . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-fl-keyword:numbers . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-fl-keyword:operators . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-fl-keyword:delimiters . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-fl-keyword:= . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-R-fl-keyword:F&amp;T . t<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgcba9ac6" class="outline-2">
<h2 id="orgcba9ac6"><span class="section-number-2">10</span> Clojure</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-org6889a80" class="outline-3">
<h3 id="org6889a80"><span class="section-number-3">10.1</span> Company keybindings</h3>
<div class="outline-text-3" id="text-10-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> cider
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">company-completion-started-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">custom/set-company-maps</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">company-completion-finished-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">custom/unset-company-maps</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">company-completion-cancelled-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">custom/unset-company-maps</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">custom/unset-company-maps</span> <span style="color: #6ae4b9;">(</span><span style="color: #f78fe7;">&amp;rest</span> unused<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Set default mappings (outside of company).</span>
<span style="color: #c6eaff; font-style: italic;">    Arguments (UNUSED) are ignored."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">general-def</span>
      <span style="color: #f78fe7; font-weight: bold;">:states</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">insert</span>
      <span style="color: #f78fe7; font-weight: bold;">:keymaps</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">override</span>
      <span style="color: #79a8ff;">"&lt;down&gt;"</span> nil
      <span style="color: #79a8ff;">"&lt;up&gt;"</span>   nil
      <span style="color: #79a8ff;">"RET"</span>    nil
      <span style="color: #00cd68;">[</span>return<span style="color: #00cd68;">]</span> nil
      <span style="color: #79a8ff;">"C-n"</span>    nil
      <span style="color: #79a8ff;">"C-p"</span>    nil
      <span style="color: #79a8ff;">"C-j"</span>    nil
      <span style="color: #79a8ff;">"C-k"</span>    nil
      <span style="color: #79a8ff;">"C-h"</span>    nil
      <span style="color: #79a8ff;">"C-u"</span>    nil
      <span style="color: #79a8ff;">"C-d"</span>    nil
      <span style="color: #79a8ff;">"C-s"</span>    nil
      <span style="color: #79a8ff;">"C-S-s"</span>   <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">cond</span> <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> <span style="color: #f78fe7; font-weight: bold;">:completion</span> helm<span style="color: #6ae4b9;">)</span> nil<span style="color: #b6a0ff;">)</span>
                      <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> <span style="color: #f78fe7; font-weight: bold;">:completion</span> ivy<span style="color: #6ae4b9;">)</span>  nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #79a8ff;">"C-SPC"</span>   nil
      <span style="color: #79a8ff;">"TAB"</span>     nil
      <span style="color: #00cd68;">[</span>tab<span style="color: #00cd68;">]</span>     nil
      <span style="color: #00cd68;">[</span>backtab<span style="color: #00cd68;">]</span> nil<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">custom/set-company-maps</span> <span style="color: #6ae4b9;">(</span><span style="color: #f78fe7;">&amp;rest</span> unused<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Set maps for when you're inside company completion.</span>
<span style="color: #c6eaff; font-style: italic;">    Arguments (UNUSED) are ignored."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">general-def</span>
      <span style="color: #f78fe7; font-weight: bold;">:states</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">insert</span>
      <span style="color: #f78fe7; font-weight: bold;">:keymaps</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">override</span>
      <span style="color: #79a8ff;">"&lt;down&gt;"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-select-next</span>
      <span style="color: #79a8ff;">"&lt;up&gt;"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-select-previous</span>
      <span style="color: #79a8ff;">"RET"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-complete</span>
      <span style="color: #00cd68;">[</span>return<span style="color: #00cd68;">]</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-complete</span>
      <span style="color: #79a8ff;">"C-w"</span>     nil           <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">don't interfere with `</span><span style="color: #00bcff; font-style: italic;">evil-delete-backward-word</span><span style="color: #a8a8a8; font-style: italic;">'</span>
      <span style="color: #79a8ff;">"C-n"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-select-next</span>
      <span style="color: #79a8ff;">"C-p"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-select-previous</span>
      <span style="color: #79a8ff;">"C-j"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-select-next</span>
      <span style="color: #79a8ff;">"C-k"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-select-previous</span>
      <span style="color: #79a8ff;">"C-h"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-show-doc-buffer</span>
      <span style="color: #79a8ff;">"C-u"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-previous-page</span>
      <span style="color: #79a8ff;">"C-d"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-next-page</span>
      <span style="color: #79a8ff;">"C-s"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-filter-candidates</span>
      <span style="color: #79a8ff;">"C-S-s"</span>   <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">cond</span> <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> <span style="color: #f78fe7; font-weight: bold;">:completion</span> helm<span style="color: #6ae4b9;">)</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">helm-company</span><span style="color: #b6a0ff;">)</span>
                      <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> <span style="color: #f78fe7; font-weight: bold;">:completion</span> ivy<span style="color: #6ae4b9;">)</span>  <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">counsel-company</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #79a8ff;">"C-SPC"</span>   <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-complete-common</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">"TAB"     #'company-complete-common-or-cycle</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">[tab]     #'company-complete-common-or-cycle</span>
      <span style="color: #00cd68;">[</span>backtab<span style="color: #00cd68;">]</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-select-previous</span>    <span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org047fd3e" class="outline-3">
<h3 id="org047fd3e"><span class="section-number-3">10.2</span> REPL keybindings</h3>
<div class="outline-text-3" id="text-10-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">add-hook!</span> cider-repl-mode <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">evil-normalize-keymaps</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge926ee9" class="outline-3">
<h3 id="orge926ee9"><span class="section-number-3">10.3</span> Cleverparens</h3>
<div class="outline-text-3" id="text-10-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> evil-cleverparens
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t
  <span style="color: #f78fe7; font-weight: bold;">:after</span> smartparens
  <span style="color: #f78fe7; font-weight: bold;">:init</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">evil-move-beyond-eol</span> t
        evil-cleverparens-use-additional-bindings nil
        evil-cleverparens-use-s-and-S nil
        <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">evil-cleverparens-swap-move-by-word-and-symbol t</span>
        <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">evil-cleverparens-use-regular-insert t</span>
        <span style="color: #b6a0ff;">)</span>
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">add-hook!</span> clojure-mode <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">evil-cleverparens-mode</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(add-hook 'smartparens-enabled-hook #'evil-smartparens-mode)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgceb926e" class="outline-3">
<h3 id="orgceb926e"><span class="section-number-3">10.4</span> Aggressive indent</h3>
<div class="outline-text-3" id="text-10-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> aggressive-indent
  <span style="color: #f78fe7; font-weight: bold;">:after</span> clojure-mode
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t
  <span style="color: #f78fe7; font-weight: bold;">:config</span> <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">add-hook!</span> clojure-mode <span style="color: #6ae4b9;">(</span><span style="color: #feacd0;">aggressive-indent-mode</span> <span style="color: #00bcff;">1</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org13d2ff0" class="outline-3">
<h3 id="org13d2ff0"><span class="section-number-3">10.5</span> Cleverparens keybindings</h3>
<div class="outline-text-3" id="text-10-5">
<p>
With <code>lispyville</code> you can wrap using <code>M-(</code> for example!
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> evil-cleverparens
      <span style="color: #f78fe7; font-weight: bold;">:map</span> <span style="color: #00d3d0;">clojure-mode-map</span>
      <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Wrap round"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"("</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">sp-wrap-round</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Wrap square"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"["</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">sp-wrap-square</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Wrap curly"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"{"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">sp-wrap-curly</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Unwrap sexp"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"u"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">sp-unwrap-sexp</span>
       <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9f5fffa" class="outline-3">
<h3 id="org9f5fffa"><span class="section-number-3">10.6</span> nREPL timeout</h3>
<div class="outline-text-3" id="text-10-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> cider
 <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">nrepl-sync-request-timeout</span> nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6edc9f2" class="outline-3">
<h3 id="org6edc9f2"><span class="section-number-3">10.7</span> Align vertically automatically</h3>
<div class="outline-text-3" id="text-10-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> clojure-mode
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">clojure-align-forms-automatically</span> t<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf0b5c9b" class="outline-3">
<h3 id="orgf0b5c9b"><span class="section-number-3">10.8</span> Cider keybindings</h3>
<div class="outline-text-3" id="text-10-8">
<p>
Remember you can use <code>gr af</code> to evaluate the outer form.
<code>ap</code> is a paragraph, <code>as</code> is a sentence.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> cider
      <span style="color: #f78fe7; font-weight: bold;">:map</span> <span style="color: #00d3d0;">clojure-mode-map</span>
      <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"eval"</span> <span style="color: #f78fe7; font-weight: bold;">:prefix</span> <span style="color: #79a8ff;">"e"</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"sexp in comment"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"E"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">cider-pprint-eval-last-sexp-to-comment</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"defun in comment"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"D"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">cider-pprint-eval-defun-to-comment</span>
       <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org026ae78" class="outline-3">
<h3 id="org026ae78"><span class="section-number-3">10.9</span> <span class="todo TODO">TODO</span> evil lisp state</h3>
<div class="outline-text-3" id="text-10-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> evil-lisp-state
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t
  <span style="color: #f78fe7; font-weight: bold;">:custom</span>
  <span style="color: #b6a0ff;">(</span>evil-lisp-state-global t<span style="color: #b6a0ff;">)</span>
  <span style="color: #f78fe7; font-weight: bold;">:config</span> <span style="color: #b6a0ff;">(</span>evil-lisp-state-leader <span style="color: #79a8ff;">"SPC k"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org51e5189" class="outline-3">
<h3 id="org51e5189"><span class="section-number-3">10.10</span> <span class="todo TODO">TODO</span> Miracle</h3>
<div class="outline-text-3" id="text-10-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">miracle</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">disable-cider-enable-miracle</span> <span style="color: #b6a0ff;">()</span>
  <span style="color: #c6eaff; font-style: italic;">"Activate miracle for arcadia development"</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">cider-mode</span> nil<span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">cider-mode</span> <span style="color: #00bcff;">-1</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">clojure-mode-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">clojure-enable-miracle</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-to-list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">company-backends</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">company-miracle</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(miracle)</span>
  <span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> miracle
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">miracle-eval-string</span> <span style="color: #6ae4b9;">(</span>s callback<span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span>miracle-send-eval-string
     s
     <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #b6a0ff;">(</span>response<span style="color: #b6a0ff;">)</span>
       <span style="color: #b6a0ff;">(</span>miracle-dbind-response response <span style="color: #6ae4b9;">(</span>id value status<span style="color: #6ae4b9;">)</span>
                               <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">member</span> <span style="color: #79a8ff;">"done"</span> status<span style="color: #00cd68;">)</span>
                                 <span style="color: #00cd68;">(</span><span style="color: #00bcff;">remhash</span> id miracle-requests<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
                               <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> value
                                 <span style="color: #00cd68;">(</span><span style="color: #00bcff;">funcall</span> callback nil value<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">miracle-get-completions</span> <span style="color: #6ae4b9;">(</span>word callback<span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span>miracle-eval-string
     <span style="color: #00cd68;">(</span><span style="color: #00bcff;">format</span> <span style="color: #79a8ff;">"(do (require '[%s]) (%s/completions \"%s\"))"</span>
             <span style="color: #79a8ff;">"complete.core"</span> <span style="color: #79a8ff;">"complete.core"</span> word<span style="color: #00cd68;">)</span>
     <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #b6a0ff;">(</span>err s<span style="color: #b6a0ff;">)</span>
       <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">progn</span>
         <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #f4923b;">XXX</span>
         <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">message</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">format</span> <span style="color: #79a8ff;">"received str: %s"</span> s<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
         <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">message</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">format</span> <span style="color: #79a8ff;">"err: %s"</span> err<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
         <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">not</span> err<span style="color: #00cd68;">)</span>
           <span style="color: #00cd68;">(</span><span style="color: #00bcff;">funcall</span> callback <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">read-from-whole-string</span> s<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">company-miracle</span> <span style="color: #6ae4b9;">(</span>command <span style="color: #f78fe7;">&amp;optional</span> arg <span style="color: #f78fe7;">&amp;rest</span> ignored<span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">interactive</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">cl-case</span> command
      <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">company-begin-backend</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">company-miracle</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span>prefix <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">and</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">or</span> <span style="color: #a8a8a8; font-style: italic;">;;</span><span style="color: #a8a8a8; font-style: italic;">(eq major-mode 'clojurec-mode)</span>
                    <span style="color: #a8a8a8; font-style: italic;">;;</span><span style="color: #a8a8a8; font-style: italic;">(eq major-mode 'clojure-mode)</span>
                    <span style="color: #00cd68;">(</span><span style="color: #00bcff;">eq</span> <span style="color: #00d3d0;">major-mode</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">miracle-mode</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
                   <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">get-buffer</span> <span style="color: #79a8ff;">"*miracle-connection*"</span><span style="color: #6ae4b9;">)</span>
                   <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">substring-no-properties</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">company-grab-symbol</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span>candidates <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">lexical-let</span> <span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span>arg <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">substring-no-properties</span> arg<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
                    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">cons</span> <span style="color: #f78fe7; font-weight: bold;">:async</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #b6a0ff;">(</span>callback<span style="color: #b6a0ff;">)</span>
                                   <span style="color: #b6a0ff;">(</span>miracle-get-completions arg callback<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #00cd68;">)</span>

  <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> miracle
        <span style="color: #f78fe7; font-weight: bold;">:map</span> miracle-interaction-mode-map

        <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
        <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"eval"</span> <span style="color: #f78fe7; font-weight: bold;">:prefix</span> <span style="color: #79a8ff;">"e"</span>
         <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Expression"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"e"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">miracle-eval-expression-at-point</span>
         <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"defun"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"d"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">miracle-eval-defun</span><span style="color: #b6a0ff;">)</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"describe"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"?"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">miracle-describe</span>
        <span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*miracle*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">bottom</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.40</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgedca8df" class="outline-3">
<h3 id="orgedca8df"><span class="section-number-3">10.11</span> cider-doc while developing Unity</h3>
<div class="outline-text-3" id="text-10-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> cider
  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">set-lookup-handlers!</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">clojure-mode</span>
    <span style="color: #f78fe7; font-weight: bold;">:documentation</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">cider-doc</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc8bd17f" class="outline-2">
<h2 id="orgc8bd17f"><span class="section-number-2">11</span> Shell</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-orgb5b304a" class="outline-3">
<h3 id="orgb5b304a"><span class="section-number-3">11.1</span> Async Shell command</h3>
<div class="outline-text-3" id="text-11-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">shell-command-print-separator</span> <span style="color: #b6a0ff;">()</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">overlay-put</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">make-overlay</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">point-max</span><span style="color: #00cd68;">)</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">point-max</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
               <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">before-string</span>
               <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">propertize</span> <span style="color: #79a8ff;">"!"</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">display</span>
                           <span style="color: #00cd68;">(</span><span style="color: #00bcff;">list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">left-fringe</span>
                                 <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right-triangle</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #00bcff;">advice-add</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">shell-command--save-pos-or-erase</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">shell-command-print-separator</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdd43c83" class="outline-3">
<h3 id="orgdd43c83"><span class="section-number-3">11.2</span> Async command and vterm popups</h3>
<div class="outline-text-3" id="text-11-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*Async Shell Command*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">bottom</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.40</span><span style="color: #00cd68;">)</span>
  <span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"vterm"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.40</span> <span style="color: #f78fe7; font-weight: bold;">:quit</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">current</span> <span style="color: #f78fe7; font-weight: bold;">:ttl</span> <span style="color: #00bcff;">3</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org8d7e8a8" class="outline-3">
<h3 id="org8d7e8a8"><span class="section-number-3">11.3</span> Eshell popup to the right</h3>
<div class="outline-text-3" id="text-11-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*eshell*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.50</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org16a454d" class="outline-2">
<h2 id="org16a454d"><span class="section-number-2">12</span> <span class="todo TODO">TODO</span> Webkit</h2>
<div class="outline-text-2" id="text-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package</span> webkit
  <span style="color: #f78fe7; font-weight: bold;">:bind</span> <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"s-b"</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">webkit</span><span style="color: #b6a0ff;">)</span> <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Bind to whatever global key binding you want if you want</span>
  <span style="color: #f78fe7; font-weight: bold;">:init</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> webkit-search-prefix <span style="color: #79a8ff;">"https://google.com/search?q="</span><span style="color: #b6a0ff;">)</span> <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">If you don't care so much about privacy</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> webkit-ace-chars <span style="color: #79a8ff;">"aoeuidhtns"</span><span style="color: #b6a0ff;">)</span> <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">More convienent if you use dvorak</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq webkit-history-filename "~/path/to/webkit-history") ;; If you want history saved in a different place</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq webkit-history-filename nil) ;; If you don't want history saved to file (will stay in memory)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq webkit-own-window t) ;; See above explination; must be set before webkit.el is loaded</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq browse-url-browser-function 'webkit-browse-url) ; Set as the default browse-url browser</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq webkit-browse-url-force-new t) ; Always open a new session instead of reusing a current one</span>
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(add-hook 'webkit-new-hook #'webkit-enable-javascript) ;; disable javascript</span>
  <span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package</span> evil-collection-webkit
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">evil-collection-xwidget-setup</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Luca Cambiaghi</p>
<p class="date">Created: 2020-12-09 Wed 22:29</p>
</div>
</body>
</html>
