<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-12-26 Sat 17:33 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Luca Cambiaghi" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org472e0ee">1. Preamble</a>
<ul>
<li><a href="#org570de7f">1.1. Username and e-mail:</a></li>
<li><a href="#org9c02509">1.2. Better defaults</a></li>
</ul>
</li>
<li><a href="#org15d89d8">2. Keybindings</a>
<ul>
<li><a href="#orgb5eff6b">2.1. Auto unbind</a></li>
<li><a href="#org5c2722f">2.2. spacemacs-like</a></li>
<li><a href="#orgbd5dda1">2.3. evil multiedit</a></li>
</ul>
</li>
<li><a href="#org5a71a10">3. User Interface</a>
<ul>
<li><a href="#orgafa3f19">3.1. Turn off line numbers</a></li>
<li><a href="#org4eaad3f">3.2. Font and font size:</a></li>
<li><a href="#org7604a4e">3.3. which-key delay</a></li>
<li><a href="#orgdba615a">3.4. Customize modus themes</a></li>
<li><a href="#org3db4717">3.5. Toggle modus themes at sunrise/sunset</a></li>
<li><a href="#org821af6d">3.6. Fancy splash image</a></li>
<li><a href="#orgbc456cb">3.7. Centaur-tabs</a></li>
<li><a href="#orgf3b80ff">3.8. Winum</a></li>
<li><a href="#org80c2f98">3.9. Extra ligatures</a></li>
<li><a href="#org8e2e8ae">3.10. modeline</a>
<ul>
<li><a href="#orgf51fb1e">3.10.1. Hide undesired info</a></li>
<li><a href="#orgbd29eaf">3.10.2. <span class="todo TODO">TODO</span> Show battery and time</a></li>
</ul>
</li>
<li><a href="#org9a0889b">3.11. Split window and move to it</a></li>
<li><a href="#orgf2223ef">3.12. <span class="todo TODO">TODO</span> Emacs tree sitter</a></li>
<li><a href="#orgc22eef8">3.13. Toggle centered cursor</a></li>
<li><a href="#orgddf5fd1">3.14. <span class="todo TODO">TODO</span> Startup windows</a></li>
<li><a href="#org1c3f2ea">3.15. <span class="todo TODO">TODO</span> Elegant emacs</a></li>
<li><a href="#org5090d22">3.16. <span class="todo TODO">TODO</span> Prescient + selectrum + consult + marginalia + embark</a></li>
</ul>
</li>
<li><a href="#orgb424204">4. Dired</a>
<ul>
<li><a href="#orgcf52647">4.1. Keybindings</a></li>
</ul>
</li>
<li><a href="#orgd4fc1b1">5. Magit</a></li>
<li><a href="#org53708fe">6. Company</a>
<ul>
<li><a href="#orgbeadd3c">6.1. Delay, prefix length</a></li>
<li><a href="#org60bfc32">6.2. Disable tab</a></li>
<li><a href="#orgb2a69a0">6.3. Show yasnippets as company suggestions</a></li>
</ul>
</li>
<li><a href="#orgbd9933e">7. Org</a>
<ul>
<li><a href="#org43b42be">7.1. Better defaults</a></li>
<li><a href="#org1e8e7eb">7.2. Capture templates</a></li>
<li><a href="#org2ee4519">7.3. Prettify bullets</a></li>
<li><a href="#org40f78c7">7.4. Org agenda popup</a></li>
<li><a href="#org7a84593">7.5. ox-ipynb</a></li>
<li><a href="#org098d989">7.6. Org babel clojure</a></li>
<li><a href="#org5c7825e">7.7. <span class="todo TODO">TODO</span> org-re-reveal</a></li>
<li><a href="#org6d93cf9">7.8. org-cv</a></li>
<li><a href="#org4853a66">7.9. Use xelatex</a></li>
<li><a href="#org4717f37">7.10. <span class="todo TODO">TODO</span> HTML export does not fail when org links are present</a></li>
<li><a href="#org8a63967">7.11. org-tree-slide</a></li>
<li><a href="#org34f6375">7.12. <span class="todo TODO">TODO</span> beamer export</a></li>
<li><a href="#org0b42213">7.13. <span class="todo TODO">TODO</span> fancy HTML theme</a></li>
</ul>
</li>
<li><a href="#orgcf61d30">8. Jupyter interaction mode</a>
<ul>
<li><a href="#orgf925368">8.1. Evaluate buffer</a></li>
<li><a href="#orga219ff6">8.2. Start new Jupyter REPL</a></li>
<li><a href="#org901bc16">8.3. Key bindings:</a></li>
<li><a href="#org352999a">8.4. Popup rules</a></li>
<li><a href="#orgfe9cb62">8.5. <span class="todo TODO">TODO</span> Library of babel</a></li>
<li><a href="#orge54b5b9">8.6. <span class="todo TODO">TODO</span> Eval handler</a></li>
<li><a href="#org57902aa">8.7. <span class="todo TODO">TODO</span> Set REPL handler</a></li>
<li><a href="#org04aa31c">8.8. <span class="todo TODO">TODO</span> Use overlays</a></li>
</ul>
</li>
<li><a href="#org8580eb3">9. org-babel-jupyter</a>
<ul>
<li><a href="#org901c98e">9.1. Org default header arguments:</a></li>
<li><a href="#org572cc8a">9.2. Long outputs</a></li>
<li><a href="#org1d66708">9.3. Fix zmq keywords</a></li>
<li><a href="#org497edbd">9.4. <span class="todo TODO">TODO</span> scimax utilities</a></li>
<li><a href="#org6042e3a">9.5. <span class="todo TODO">TODO</span> Unmap org-metadown</a></li>
</ul>
</li>
<li><a href="#org17939b8">10. Python</a>
<ul>
<li><a href="#org04e87c0">10.1. iPython REPL</a>
<ul>
<li><a href="#org5fd5ba7">10.1.1. virtualenv executable</a></li>
<li><a href="#org0f836de">10.1.2. Silence warnings when opening REPL</a></li>
<li><a href="#orgb5c42bc">10.1.3. Python console to the bottom</a></li>
<li><a href="#org9c4b6e7">10.1.4. Disable native completion</a></li>
</ul>
</li>
<li><a href="#org137b49a">10.2. LSP</a>
<ul>
<li><a href="#orge1c3b35">10.2.1. Use pyright</a></li>
<li><a href="#org938932b">10.2.2. Don&rsquo;t guess project root</a></li>
<li><a href="#orgfadb7eb">10.2.3. Increase bytes read from subprocess</a></li>
<li><a href="#org23327d6">10.2.4. lsp-help popup</a></li>
<li><a href="#org7e221aa">10.2.5. Disable lsp flycheck checker and use flake8</a></li>
<li><a href="#org3611fb4">10.2.6. UI</a></li>
<li><a href="#orgee0b519">10.2.7. Don&rsquo;t restart on exit</a></li>
<li><a href="#org40dd8b6">10.2.8. <span class="todo TODO">TODO</span> Eglot</a></li>
</ul>
</li>
<li><a href="#org7163b16">10.3. Pytest</a></li>
<li><a href="#orgdea7bc0">10.4. dap-mode</a>
<ul>
<li><a href="#orgc158a47">10.4.1. dap configure windows</a></li>
<li><a href="#orgae1bca4">10.4.2. Remove dap ui features</a></li>
<li><a href="#org6edb6af">10.4.3. Debug templates:</a></li>
<li><a href="#org91280b0">10.4.4. Debug test at point</a></li>
<li><a href="#org3db940a">10.4.5. virtualenv executable</a></li>
<li><a href="#orge65dbf9">10.4.6. Delete hap hydra bindings</a></li>
<li><a href="#orge4ed8ea">10.4.7. Bindings</a></li>
<li><a href="#org4aa385a">10.4.8. Use debugpy</a></li>
</ul>
</li>
<li><a href="#org99e003a">10.5. emacs-ipython-notebook</a>
<ul>
<li><a href="#org07cf256">10.5.1. Don&rsquo;t ignore <code>ein</code> buffers</a></li>
<li><a href="#org46afd51">10.5.2. Bindings</a></li>
</ul>
</li>
<li><a href="#org9536372">10.6. Dash docsets</a></li>
<li><a href="#orge661d1f">10.7. Compilation popup</a></li>
<li><a href="#org108f1b0">10.8. <span class="todo TODO">TODO</span> Try elpy</a></li>
</ul>
</li>
<li><a href="#orga4e2eb2">11. R</a>
<ul>
<li><a href="#org6ee4175">11.1. ESS console popup</a></li>
<li><a href="#orga1e60f5">11.2. Async eval</a></li>
<li><a href="#org0191509">11.3. Syntax highlighting</a></li>
</ul>
</li>
<li><a href="#org319546b">12. Clojure</a>
<ul>
<li><a href="#orgdb1f0da">12.1. Company keybindings</a></li>
<li><a href="#orge1a04d0">12.2. REPL keybindings</a></li>
<li><a href="#org2582401">12.3. Cleverparens</a></li>
<li><a href="#org22ee8f9">12.4. Aggressive indent</a></li>
<li><a href="#orgd5d3bbc">12.5. Smartparens keybindings</a></li>
<li><a href="#orgd2a504e">12.6. nREPL timeout</a></li>
<li><a href="#orge0e28de">12.7. Align vertically automatically</a></li>
<li><a href="#orgab71e6d">12.8. Cider keybindings</a></li>
<li><a href="#orgebced99">12.9. <span class="todo TODO">TODO</span> evil lisp state</a></li>
<li><a href="#org05c5f16">12.10. <span class="todo TODO">TODO</span> Miracle</a></li>
<li><a href="#org156d628">12.11. cider-doc while developing Unity</a></li>
</ul>
</li>
<li><a href="#org42e25b0">13. Shell</a>
<ul>
<li><a href="#orgd4731b7">13.1. Async Shell command</a></li>
<li><a href="#org2a0ea47">13.2. Async command and vterm popups</a></li>
<li><a href="#orgbb81aeb">13.3. Eshell popup to the right</a></li>
<li><a href="#orgd1139eb">13.4. <span class="todo TODO">TODO</span> Use fish in vterm</a></li>
</ul>
</li>
<li><a href="#org02ccf82">14. <span class="todo TODO">TODO</span> Webkit</a></li>
</ul>
</div>
</div>

<div id="outline-container-org472e0ee" class="outline-2">
<h2 id="org472e0ee"><span class="section-number-2">1</span> Preamble</h2>
<div class="outline-text-2" id="text-1">
<p>
This is my private DOOM emacs configuration. It is tangled from <code>config.org</code> to <code>config.el</code>
and is exported to <code>readme.org</code> with <code>,e O o</code> to render in the githup repo.
It is also rendered to HTML thanks to <a href="https://github.com/fniessen/org-html-themes">org-html-themes</a> with <code>,e h h</code> .
</p>

<p>
NOTE: the code blocks in the sections marked with TODO are excluded from being tangled in my <code>config.el</code> file.
</p>
</div>

<div id="outline-container-org570de7f" class="outline-3">
<h3 id="org570de7f"><span class="section-number-3">1.1</span> Username and e-mail:</h3>
<div class="outline-text-3" id="text-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">user-full-name</span> <span style="color: #79a8ff;">"Luca Cambiaghi"</span>
      <span style="color: #00d3d0;">user-mail-address</span> <span style="color: #79a8ff;">"luca.cambiaghi@me.com"</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9c02509" class="outline-3">
<h3 id="org9c02509"><span class="section-number-3">1.2</span> Better defaults</h3>
<div class="outline-text-3" id="text-1-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq-default</span>
 <span style="color: #00d3d0;">uniquify-buffer-name-style</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">forward</span>              <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">Uniquify buffer names</span>
 <span style="color: #00d3d0;">window-combination-resize</span> t                      <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">take new window space from all other windows (not just current)</span>
 <span style="color: #00d3d0;">x-stretch-cursor</span> t<span style="color: #00cd68;">)</span>                              <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">Stretch cursor to the glyph width</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">undo-limit</span> <span style="color: #00bcff;">80000000</span>                         <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">Raise undo-limit to 80Mb</span>
      <span style="color: #00d3d0;">evil-want-fine-undo</span> t                       <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">By default while in insert all changes are one big blob. Be more granular</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">auto-save-default t                         ; Nobody likes to loose work, I certainly don't</span>
      <span style="color: #00d3d0;">inhibit-compacting-font-caches</span> t<span style="color: #00cd68;">)</span>           <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">When there are lots of glyphs, keep them in memory</span>

<span style="color: #00cd68;">(</span><span style="color: #00d3d0;">delete-selection-mode</span> <span style="color: #00bcff;">1</span><span style="color: #00cd68;">)</span>                         <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">Replace selection when inserting text</span>
<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(global-subword-mode 1)                           ; Iterate through CamelCase words</span>
<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">+evil-want-o/O-to-continue-comments</span> nil<span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org15d89d8" class="outline-2">
<h2 id="org15d89d8"><span class="section-number-2">2</span> Keybindings</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-orgb5eff6b" class="outline-3">
<h3 id="orgb5eff6b"><span class="section-number-3">2.1</span> Auto unbind</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Let&rsquo;s have <code>general</code> auto-unbind keys:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #00bcff;">general-auto-unbind-keys</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5c2722f" class="outline-3">
<h3 id="org5c2722f"><span class="section-number-3">2.2</span> spacemacs-like</h3>
<div class="outline-text-3" id="text-2-2">
<p>
We then remap some of the bindings (inspired by <a href="https://github.com/jsmestad/dfiles/blob/master/.doom.d/%2Bbindings.el#L496-L854">bindings.el</a>).
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:leader</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"M-x"</span>                   <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"SPC"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">counsel-M-x</span>

      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"ivy resume"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">":"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ivy-resume</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Async shell command"</span>   <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"!"</span>   <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">async-shell-command</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Toggle eshell"</span>         <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"'"</span>   <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">+eshell/toggle</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Open dir in iTerm"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"oi"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">+macos/open-in-iterm</span>

      <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"windows"</span> <span style="color: #f78fe7; font-weight: bold;">:prefix</span> <span style="color: #79a8ff;">"w"</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"popup raise"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"p"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">+popup/raise</span><span style="color: #b6a0ff;">)</span>

      <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"project"</span> <span style="color: #f78fe7; font-weight: bold;">:prefix</span> <span style="color: #79a8ff;">"p"</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Eshell"</span>               <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"'"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">projectile-run-eshell</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Terminal"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"t"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">projectile-run-vterm</span> <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-orgbd5dda1" class="outline-3">
<h3 id="orgbd5dda1"><span class="section-number-3">2.3</span> evil multiedit</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Add this keybinding because external keyboard inputs delta when pressing <code>M-d</code>.
Bind command to restrict matches to highlighted region as <code>RET</code> does not really work.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #00bcff;">define-key</span> <span style="color: #00d3d0;">evil-normal-state-map</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">kbd</span> <span style="color: #79a8ff;">"s-d"</span><span style="color: #b6a0ff;">)</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">evil-multiedit-match-symbol-and-next</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> evil-multiedit
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> evil-multiedit-follow-matches t<span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:v</span> <span style="color: #79a8ff;">"zD"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">evil-multiedit-toggle-or-restrict-region</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5a71a10" class="outline-2">
<h2 id="org5a71a10"><span class="section-number-2">3</span> User Interface</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orgafa3f19" class="outline-3">
<h3 id="orgafa3f19"><span class="section-number-3">3.1</span> Turn off line numbers</h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">display-line-numbers-type</span> nil<span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4eaad3f" class="outline-3">
<h3 id="org4eaad3f"><span class="section-number-3">3.2</span> Font and font size:</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Toggle <code>big mode</code> with <code>SPC t b</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">doom-font</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">font-spec</span> <span style="color: #f78fe7; font-weight: bold;">:family</span> <span style="color: #79a8ff;">"Menlo"</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">16</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #00d3d0;">doom-big-font</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">font-spec</span> <span style="color: #f78fe7; font-weight: bold;">:family</span> <span style="color: #79a8ff;">"Menlo"</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">20</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7604a4e" class="outline-3">
<h3 id="org7604a4e"><span class="section-number-3">3.3</span> which-key delay</h3>
<div class="outline-text-3" id="text-3-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> which-key
    <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">which-key-idle-delay</span> <span style="color: #00bcff;">0.5</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdba615a" class="outline-3">
<h3 id="orgdba615a"><span class="section-number-3">3.4</span> Customize modus themes</h3>
<div class="outline-text-3" id="text-3-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defmacro</span> <span style="color: #feacd0;">modus-themes-format-sexp</span> <span style="color: #b6a0ff;">(</span>sexp <span style="color: #f78fe7;">&amp;rest</span> objects<span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff; font-weight: bold;">`</span><span style="color: #b6a0ff;">(</span>eval <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">read</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">format</span> ,<span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">format</span> <span style="color: #79a8ff;">"%S"</span> sexp<span style="color: #b6a0ff;">)</span> ,@objects<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">dolist</span> <span style="color: #b6a0ff;">(</span>theme <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"operandi"</span> <span style="color: #79a8ff;">"vivendi"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">modus-themes-format-sexp</span>
   <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">modus-%1$s-theme-load</span> <span style="color: #00cd68;">()</span>
     <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> modus-%1$s-theme-slanted-constructs t
           modus-%1$s-theme-bold-constructs t
           modus-%1$s-theme-fringes <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">subtle</span> <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">{nil,'subtle,'intense}</span>
           modus-%1$s-theme-mode-line <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">3d</span> <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">{nil,'3d,'moody}</span>
           modus-%1$s-theme-faint-syntax nil
           modus-%1$s-theme-intense-hl-line nil
           modus-%1$s-theme-intense-paren-match nil
           modus-%1$s-theme-no-link-underline t
           modus-%1$s-theme-no-mixed-fonts nil
           modus-%1$s-theme-prompts nil <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">{nil,'subtle,'intense}</span>
           modus-%1$s-theme-completions <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">moderate</span> <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">{nil,'moderate,'opinionated}</span>
           modus-%1$s-theme-diffs nil <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">{nil,'desaturated,'fg-only}</span>
           modus-%1$s-theme-org-blocks <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">greyscale</span> <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">{nil,'greyscale,'rainbow}</span>
           modus-%1$s-theme-headings  <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">Read further below in the manual for this one</span>
           <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">1</span> . line<span style="color: #6ae4b9;">)</span>
             <span style="color: #6ae4b9;">(</span>t . rainbow-line-no-bold<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
           modus-%1$s-theme-variable-pitch-headings t
           modus-%1$s-theme-scale-headings t
           modus-%1$s-theme-scale-1 <span style="color: #00bcff;">1.1</span>
           modus-%1$s-theme-scale-2 <span style="color: #00bcff;">1.15</span>
           modus-%1$s-theme-scale-3 <span style="color: #00bcff;">1.21</span>
           modus-%1$s-theme-scale-4 <span style="color: #00bcff;">1.27</span>
           modus-%1$s-theme-scale-5 <span style="color: #00bcff;">1.33</span><span style="color: #00cd68;">)</span>
     <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">doom-theme</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">modus-%1$s</span><span style="color: #00cd68;">)</span>
     <span style="color: #00cd68;">(</span><span style="color: #feacd0;">doom/reload-theme</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
   theme<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">modus-operandi-theme-override-colors-alist</span>
            <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-main"</span> . <span style="color: #79a8ff;">"#fefcf4"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-dim"</span> . <span style="color: #79a8ff;">"#faf6ef"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-alt"</span> . <span style="color: #79a8ff;">"#f7efe5"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-hl-line"</span> . <span style="color: #79a8ff;">"#f4f0e3"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-active"</span> . <span style="color: #79a8ff;">"#e8dfd1"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-inactive"</span> . <span style="color: #79a8ff;">"#f6ece5"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-region"</span> . <span style="color: #79a8ff;">"#c6bab1"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-header"</span> . <span style="color: #79a8ff;">"#ede3e0"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-tab-bar"</span> . <span style="color: #79a8ff;">"#dcd3d3"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-tab-active"</span> . <span style="color: #79a8ff;">"#fdf6eb"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-tab-inactive"</span> . <span style="color: #79a8ff;">"#c8bab8"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"fg-unfocused"</span> . <span style="color: #79a8ff;">"#55556f"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
            <span style="color: #00d3d0;">modus-vivendi-theme-override-colors-alist</span>
            <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-main"</span> . <span style="color: #79a8ff;">"#100b17"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-dim"</span> . <span style="color: #79a8ff;">"#161129"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-alt"</span> . <span style="color: #79a8ff;">"#181732"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-hl-line"</span> . <span style="color: #79a8ff;">"#191628"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-active"</span> . <span style="color: #79a8ff;">"#282e46"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-inactive"</span> . <span style="color: #79a8ff;">"#1a1e39"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-region"</span> . <span style="color: #79a8ff;">"#393a53"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-header"</span> . <span style="color: #79a8ff;">"#202037"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-tab-bar"</span> . <span style="color: #79a8ff;">"#262b41"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-tab-active"</span> . <span style="color: #79a8ff;">"#120f18"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"bg-tab-inactive"</span> . <span style="color: #79a8ff;">"#3a3a5a"</span><span style="color: #6ae4b9;">)</span>
              <span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"fg-unfocused"</span> . <span style="color: #79a8ff;">"#9a9aab"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
            <span style="color: #00d3d0;">modus-operandi-theme-intense-paren-match</span> t
            <span style="color: #00d3d0;">modus-operandi-theme-distinct-org-blocks</span> t<span style="color: #00cd68;">)</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org3db4717" class="outline-3">
<h3 id="org3db4717"><span class="section-number-3">3.5</span> Toggle modus themes at sunrise/sunset</h3>
<div class="outline-text-3" id="text-3-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8; font-style: italic;">;;</span><span style="color: #a8a8a8; font-style: italic;">Light for the day</span>
<span style="color: #00cd68;">(</span><span style="color: #00bcff;">run-at-time</span> <span style="color: #79a8ff;">"07:00"</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">*</span> <span style="color: #00bcff;">60</span> <span style="color: #00bcff;">60</span> <span style="color: #00bcff;">24</span><span style="color: #b6a0ff;">)</span>
             <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #6ae4b9;">()</span>
               <span style="color: #6ae4b9;">(</span><span style="color: #feacd0;">modus-operandi-theme-load</span><span style="color: #6ae4b9;">)</span>
               <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(shell-command )</span>
               <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Dark for the night</span>
<span style="color: #00cd68;">(</span><span style="color: #00bcff;">run-at-time</span> <span style="color: #79a8ff;">"15:00"</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">*</span> <span style="color: #00bcff;">60</span> <span style="color: #00bcff;">60</span> <span style="color: #00bcff;">24</span><span style="color: #b6a0ff;">)</span>
             <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #6ae4b9;">()</span>
               <span style="color: #6ae4b9;">(</span><span style="color: #feacd0;">modus-vivendi-theme-load</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org821af6d" class="outline-3">
<h3 id="org821af6d"><span class="section-number-3">3.6</span> Fancy splash image</h3>
<div class="outline-text-3" id="text-3-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">+doom-dashboard-banner-file</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">expand-file-name</span> <span style="color: #79a8ff;">"splash-images/black-hole2.png"</span> <span style="color: #00d3d0;">doom-private-dir</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbc456cb" class="outline-3">
<h3 id="orgbc456cb"><span class="section-number-3">3.7</span> Centaur-tabs</h3>
<div class="outline-text-3" id="text-3-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> centaur-tabs
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">centaur-tabs-set-modified-marker</span> t
        <span style="color: #00d3d0;">centaur-tabs-modified-marker</span> <span style="color: #79a8ff;">"M"</span>
        <span style="color: #00d3d0;">centaur-tabs-cycle-scope</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">tabs</span>
        <span style="color: #00d3d0;">centaur-tabs-set-close-button</span> nil<span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">centaur-tabs-group-by-projectile-project</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf3b80ff" class="outline-3">
<h3 id="orgf3b80ff"><span class="section-number-3">3.8</span> Winum</h3>
<div class="outline-text-3" id="text-3-8">
<p>
note: insteadf of using <code>SPC 0</code>, use <code>SPC w h</code> to access its window. In general,
use those keys!
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> winum
    <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #6ae4b9;">(</span><span style="color: #f78fe7; font-weight: bold;">:when</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> <span style="color: #f78fe7; font-weight: bold;">:ui</span> window-select<span style="color: #00cd68;">)</span>
            <span style="color: #f78fe7; font-weight: bold;">:leader</span>
            <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"1"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">winum-select-window-1</span>
            <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"2"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">winum-select-window-2</span>
            <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"3"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">winum-select-window-3</span>
        <span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org80c2f98" class="outline-3">
<h3 id="org80c2f98"><span class="section-number-3">3.9</span> Extra ligatures</h3>
<div class="outline-text-3" id="text-3-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">+ligatures-extras-in-modes</span>
      <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #b6a0ff;">(</span>not special-mode comint-mode eshell-mode term-mode vterm-mode python-mode<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq +ligatures-in-modes '(org-mode))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org8e2e8ae" class="outline-3">
<h3 id="org8e2e8ae"><span class="section-number-3">3.10</span> modeline</h3>
<div class="outline-text-3" id="text-3-10">
</div>
<div id="outline-container-orgf51fb1e" class="outline-4">
<h4 id="orgf51fb1e"><span class="section-number-4">3.10.1</span> Hide undesired info</h4>
<div class="outline-text-4" id="text-3-10-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> doom-modeline
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">doom-modeline-buffer-encoding</span> nil<span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">doom-modeline-env-enable-python</span> nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> lsp-mode
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> lsp-modeline-diagnostics-enable nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbd29eaf" class="outline-4">
<h4 id="orgbd29eaf"><span class="section-number-4">3.10.2</span> <span class="todo TODO">TODO</span> Show battery and time</h4>
<div class="outline-text-4" id="text-3-10-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> doom-modeline
    <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> display-time-default-load-average nil<span style="color: #b6a0ff;">)</span>      <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">don't show load average</span>
    <span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">display-time-mode</span> <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span>                             <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">Enable time in the mode-line</span>
    <span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">display-battery-mode</span> <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>                          <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">On laptops it's nice to know how much power you have</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org9a0889b" class="outline-3">
<h3 id="org9a0889b"><span class="section-number-3">3.11</span> Split window and move to it</h3>
<div class="outline-text-3" id="text-3-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">evil-split-window-below</span> t
      <span style="color: #00d3d0;">evil-vsplit-window-right</span> t<span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf2223ef" class="outline-3">
<h3 id="orgf2223ef"><span class="section-number-3">3.12</span> <span class="todo TODO">TODO</span> Emacs tree sitter</h3>
<div class="outline-text-3" id="text-3-12">
<p>
After <code>doom sync</code> you should run <code>tree-sitter-install-grammars</code> (maybe?).
Disabled because of a bug with <code>evil-multiedit</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package</span> tree-sitter
  <span style="color: #f78fe7; font-weight: bold;">:after</span> python-mode
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">tree-sitter</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">tree-sitter-langs</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">tree-sitter-hl</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">python-mode-hook</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">tree-sitter-hl-mode</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc22eef8" class="outline-3">
<h3 id="orgc22eef8"><span class="section-number-3">3.13</span> Toggle centered cursor</h3>
<div class="outline-text-3" id="text-3-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> centered-cursor-mode
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:leader</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"toggle centered cursor"</span>                   <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"t-"</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">&#955;!</span> <span style="color: #00cd68;">()</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #00cd68;">)</span> <span style="color: #00cd68;">(</span><span style="color: #feacd0;">centered-cursor-mode</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">toggle</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
        <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-orgddf5fd1" class="outline-3">
<h3 id="orgddf5fd1"><span class="section-number-3">3.14</span> <span class="todo TODO">TODO</span> Startup windows</h3>
<div class="outline-text-3" id="text-3-14">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my/startup-window-setup</span> <span style="color: #b6a0ff;">()</span>
  <span style="color: #c6eaff; font-style: italic;">"Called by emacs-startup-hook to set up my initial window configuration."</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">split-window-right</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">other-window</span> <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">find-file</span> <span style="color: #79a8ff;">"~/txt/todo.org"</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">other-window</span> <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">emacs-startup-hook</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">my-default-window-setup</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1c3f2ea" class="outline-3">
<h3 id="org1c3f2ea"><span class="section-number-3">3.15</span> <span class="todo TODO">TODO</span> Elegant emacs</h3>
<div class="outline-text-3" id="text-3-15">
<p>
Need to disable <code>centaur-tabs-mode</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my/enable-elegant</span> <span style="color: #b6a0ff;">()</span>
  <span style="color: #c6eaff; font-style: italic;">"Enable elegant-emacs theme"</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">elegance</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">sanity</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq doom-theme 'elegance)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(add-hook! 'doom-load-theme-hook #'elegance-light)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(doom/reload-theme)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5090d22" class="outline-3">
<h3 id="org5090d22"><span class="section-number-3">3.16</span> <span class="todo TODO">TODO</span> Prescient + selectrum + consult + marginalia + embark</h3>
<div class="outline-text-3" id="text-3-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> selectrum
  <span style="color: #f78fe7; font-weight: bold;">:commands</span> <span style="color: #b6a0ff;">(</span>selectrum-mode<span style="color: #b6a0ff;">)</span>
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:map</span> selectrum-minibuffer-map
        <span style="color: #f78fe7; font-weight: bold;">:in</span> <span style="color: #79a8ff;">"C-j"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">selectrum-next-candidate</span>
        <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> selectrum-prescient
  <span style="color: #f78fe7; font-weight: bold;">:after</span> selectrum
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t
  <span style="color: #f78fe7; font-weight: bold;">:commands</span> <span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">prescient-persist-mode</span> selectrum-prescient-mode<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> company-prescient
  <span style="color: #f78fe7; font-weight: bold;">:commands</span> <span style="color: #b6a0ff;">(</span>company-prescient-mode<span style="color: #b6a0ff;">)</span>
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t<span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> marginalia
  <span style="color: #f78fe7; font-weight: bold;">:commands</span> <span style="color: #b6a0ff;">(</span>marginalia-mode<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> embark
  <span style="color: #f78fe7; font-weight: bold;">:commands</span> <span style="color: #b6a0ff;">(</span>marginalia-mode<span style="color: #b6a0ff;">)</span>
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:map</span> selectrum-minibuffer-map
        <span style="color: #f78fe7; font-weight: bold;">:in</span> <span style="color: #79a8ff;">"C-o"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">embark-act</span>
        <span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package</span> consult
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Replace bindings</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:bind (("C-c o" . consult-outline)</span>
  <span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">("C-x b" . consult-buffer)</span>
  <span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">("M-g o" . consult-outline) ;; "M-s o" is a good alternative</span>
  <span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">("M-g l" . consult-line)    ;; "M-s l" is a good alternative</span>
  <span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">("M-s m" . consult-multi-occur)</span>
  <span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">("M-y" . consult-yank-pop)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:init</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Replace functions (consult-multi-occur is a drop-in replacement)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(fset 'multi-occur #'consult-multi-occur)</span>

  <span style="color: #f78fe7; font-weight: bold;">:config</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:leader</span> <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"consult line"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"ss"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">consult-line</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"M-x"</span>                   <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"SPC"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">execute-extended-command</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"consult line"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"ss"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">consult-line</span>
        <span style="color: #b6a0ff;">)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Enable richer annotations during completion</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Works only with selectrum as of now.</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(consult-annotate-mode)</span>

  <span style="color: #b6a0ff;">(</span>consult-preview-mode<span style="color: #b6a0ff;">)</span> <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Optionally enable previews</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Enable richer annotations for M-x.</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">I have this disabled by default, since I don't want to be flooded with information.</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Annotations are only enabled by default for the describe-* class of functions.</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-to-list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">consult-annotate-commands</span>
               <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span>execute-extended-command . consult-annotate-symbol<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>

<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Projectile defaults to forcing icomplete instead of completing-read</span>
<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> projectile
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">projectile-completion-system</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">default</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">add-hook!</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">doom-first-input-hook</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span>selectrum-mode <span style="color: #00bcff;">+1</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span>selectrum-prescient-mode <span style="color: #00bcff;">+1</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span>company-prescient-mode <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">prescient-persist-mode</span> <span style="color: #00bcff;">+1</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span>marginalia-mode <span style="color: #00bcff;">+1</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span>selectrum-prescient-mode <span style="color: #00bcff;">+1</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgb424204" class="outline-2">
<h2 id="orgb424204"><span class="section-number-2">4</span> Dired</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgcf52647" class="outline-3">
<h3 id="orgcf52647"><span class="section-number-3">4.1</span> Keybindings</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>Jump to current file with <code>SPC o -</code></li>

<li>Hide details with <code>(</code></li>
<li>Hide dotfiles with <code>H</code></li>

<li>Mark with <code>m</code>, unmark with <code>u</code></li>
<li>Invert selection with <code>t</code></li>
<li><code>*</code> has some helpers for marking</li>
<li>First mark some files and then <code>K</code> to &ldquo;hide&rdquo; them</li>

<li>Open directory in right window with <code>S-RET</code>
<ul class="org-ul">
<li>When copying from left window, target will be right window</li>
<li>Copy with <code>C</code></li>
</ul></li>
<li>Open subdir in buffer below with <code>I</code></li>
<li>Open files with macos with <code>O</code></li>
<li>View files with <code>go</code> and exit with <code>q</code></li>
</ul>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> dired

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:map</span> <span style="color: #00d3d0;">dired-mode-map</span>
        <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"h"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dired-up-directory</span>
        <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"l"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dired-find-file</span>

        <span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">dired-open-by-macosx</span> <span style="color: #6ae4b9;">()</span>
    <span style="color: #c6eaff; font-style: italic;">"Opens a file in dired with the Mac OS X command 'open'."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">shell-command</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">concat</span> <span style="color: #79a8ff;">"open "</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">shell-quote-argument</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">expand-file-name</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">dired-file-name-at-point</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:map</span> <span style="color: #00d3d0;">dired-mode-map</span>
        <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"O"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dired-open-by-macosx</span>
        <span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package</span> dired-hide-dotfiles
    <span style="color: #f78fe7; font-weight: bold;">:hook</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">dired-mode</span> . dired-hide-dotfiles-mode<span style="color: #6ae4b9;">)</span>
    <span style="color: #f78fe7; font-weight: bold;">:config</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:map</span> <span style="color: #00d3d0;">dired-mode-map</span>
          <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"H"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dired-hide-dotfiles-mode</span>
          <span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd4fc1b1" class="outline-2">
<h2 id="orgd4fc1b1"><span class="section-number-2">5</span> Magit</h2>
<div class="outline-text-2" id="text-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> magit
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(magit-wip-mode)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">magit-repository-directories</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"~/git"</span> . <span style="color: #00bcff;">2</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
        <span style="color: #00d3d0;">magit-save-repository-buffers</span> nil
        <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Don't restore the wconf after quitting magit</span>
        <span style="color: #00d3d0;">magit-inhibit-save-previous-winconf</span> t
        magit-log-arguments <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"--graph"</span> <span style="color: #79a8ff;">"--decorate"</span> <span style="color: #79a8ff;">"--color"</span><span style="color: #6ae4b9;">)</span>
        <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">magit-delete-by-moving-to-trash nil</span>
        <span style="color: #00d3d0;">git-commit-summary-max-length</span> <span style="color: #00bcff;">120</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org53708fe" class="outline-2">
<h2 id="org53708fe"><span class="section-number-2">6</span> Company</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orgbeadd3c" class="outline-3">
<h3 id="orgbeadd3c"><span class="section-number-3">6.1</span> Delay, prefix length</h3>
<div class="outline-text-3" id="text-6-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> company
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">company-idle-delay</span> <span style="color: #00bcff;">0</span>
        <span style="color: #00d3d0;">company-minimum-prefix-length</span> <span style="color: #00bcff;">1</span>
        company-dabbrev-code-everywhere t
        company-dabbrev-code-other-buffers <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">all</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">company-quickhelp-delay 0.4)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org60bfc32" class="outline-3">
<h3 id="org60bfc32"><span class="section-number-3">6.2</span> Disable tab</h3>
<div class="outline-text-3" id="text-6-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> company
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">define-key!</span> <span style="color: #00d3d0;">company-active-map</span>
    <span style="color: #79a8ff;">"TAB"</span>       nil
    <span style="color: #6ae4b9;">[</span>tab<span style="color: #6ae4b9;">]</span>       nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb2a69a0" class="outline-3">
<h3 id="orgb2a69a0"><span class="section-number-3">6.3</span> Show yasnippets as company suggestions</h3>
<div class="outline-text-3" id="text-6-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> company
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defvar</span> <span style="color: #00d3d0;">company-mode/enable-yas</span> t
    <span style="color: #c6eaff; font-style: italic;">"Enable yasnippet for all backends."</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">company-mode/backend-with-yas</span> <span style="color: #6ae4b9;">(</span>backend<span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">or</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">not</span> <span style="color: #00d3d0;">company-mode/enable-yas</span><span style="color: #b6a0ff;">)</span> <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">and</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">listp</span> backend<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">member</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">company-yasnippet</span> backend<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
        backend
      <span style="color: #00cd68;">(</span><span style="color: #00bcff;">append</span> <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">consp</span> backend<span style="color: #6ae4b9;">)</span> backend <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">list</span> backend<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
              <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:with</span> company-yasnippet<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">company-backends</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">mapcar</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-mode/backend-with-yas</span> <span style="color: #00d3d0;">company-backends</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgbd9933e" class="outline-2">
<h2 id="orgbd9933e"><span class="section-number-2">7</span> Org</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org43b42be" class="outline-3">
<h3 id="org43b42be"><span class="section-number-3">7.1</span> Better defaults</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> org
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">org-directory</span> <span style="color: #79a8ff;">"~/Dropbox/org"</span>
        <span style="color: #00d3d0;">org-image-actual-width</span> nil
        +org-export-directory <span style="color: #79a8ff;">"~/Dropbox/org/export"</span>
        <span style="color: #00d3d0;">org-default-notes-file</span> <span style="color: #79a8ff;">"~/Dropbox/org/personal/tasks/todo.org"</span>
        org-id-locations-file <span style="color: #79a8ff;">"~/Dropbox/org/.orgids"</span>
        <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">org-agenda-files (directory-files-recursively "~/dropbox/org/" "\\.org$")</span>
        <span style="color: #00d3d0;">org-agenda-files</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"~/dropbox/org/personal/tasks/birthdays.org"</span> <span style="color: #79a8ff;">"~/dropbox/org/personal/tasks/todo.org"</span> <span style="color: #79a8ff;">"~/dropbox/Notes/Test.inbox.org"</span><span style="color: #6ae4b9;">)</span>
        <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">org-export-in-background t</span>
        <span style="color: #00d3d0;">org-catch-invisible-edits</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">smart</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1e8e7eb" class="outline-3">
<h3 id="org1e8e7eb"><span class="section-number-3">7.2</span> Capture templates</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> org

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">org-capture-templates</span>
        <span style="color: #b6a0ff; font-weight: bold;">`</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"b"</span> <span style="color: #79a8ff;">"Blog"</span> entry
           <span style="color: #b6a0ff;">(</span>file+headline <span style="color: #79a8ff;">"personal/tasks/todo.org"</span> <span style="color: #79a8ff;">"Blog"</span><span style="color: #b6a0ff;">)</span>
           ,<span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">concat</span> <span style="color: #79a8ff;">"* WRITE %^{Title} %^g\n"</span>
                    <span style="color: #79a8ff;">"SCHEDULED: %^t\n"</span>
                    <span style="color: #79a8ff;">":PROPERTIES:\n"</span>
                    <span style="color: #79a8ff;">":CAPTURED: %U\n:END:\n\n"</span>
                    <span style="color: #79a8ff;">"%i%?"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
          <span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"i"</span> <span style="color: #79a8ff;">"Inbox"</span> entry
           <span style="color: #b6a0ff;">(</span>file+headline <span style="color: #79a8ff;">"personal/tasks/todo.org"</span> <span style="color: #79a8ff;">"Inbox"</span><span style="color: #b6a0ff;">)</span>
           ,<span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">concat</span> <span style="color: #79a8ff;">"* %^{Title}\n"</span>
                    <span style="color: #79a8ff;">":PROPERTIES:\n"</span>
                    <span style="color: #79a8ff;">":CAPTURED: %U\n"</span>
                    <span style="color: #79a8ff;">":END:\n\n"</span>
                    <span style="color: #79a8ff;">"%i%l"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
          <span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"w"</span> <span style="color: #79a8ff;">"Work"</span> entry
           <span style="color: #b6a0ff;">(</span>file+headline <span style="color: #79a8ff;">"personal/tasks/todo.org"</span> <span style="color: #79a8ff;">"Work"</span><span style="color: #b6a0ff;">)</span>
           ,<span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">concat</span> <span style="color: #79a8ff;">"* </span><span style="color: #feacd0;">TODO</span><span style="color: #79a8ff;"> [#A] %^{Title} :@work:\n"</span>
                    <span style="color: #79a8ff;">"SCHEDULED: %^t\n"</span>
                    <span style="color: #79a8ff;">":PROPERTIES:\n:CAPTURED: %U\n:END:\n\n"</span>
                    <span style="color: #79a8ff;">"%i%?"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
          <span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"m"</span> <span style="color: #79a8ff;">"Mail"</span> entry
           <span style="color: #b6a0ff;">(</span>file+headline <span style="color: #79a8ff;">"personal/tasks/todo.org"</span> <span style="color: #79a8ff;">"Mail"</span><span style="color: #b6a0ff;">)</span>
           ,<span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">concat</span> <span style="color: #79a8ff;">"* </span><span style="color: #feacd0;">TODO</span><span style="color: #79a8ff;"> [#B] %:subject :mail:\n"</span>
                    <span style="color: #79a8ff;">"SCHEDULED: %t\n:"</span>
                    <span style="color: #79a8ff;">"PROPERTIES:\n:CONTEXT: %a\n:END:\n\n"</span>
                    <span style="color: #79a8ff;">"%i%?"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-to-list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">org-capture-templates</span>
             <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"d"</span> <span style="color: #79a8ff;">"New Diary Entry"</span> entry<span style="color: #00cd68;">(</span>file+olp+datetree<span style="color: #79a8ff;">"~/Dropbox/org/personal/diary.org"</span> <span style="color: #79a8ff;">"Daily Logs"</span><span style="color: #00cd68;">)</span>
<span style="color: #79a8ff;">"* %^{thought for the day}</span>
<span style="color: #79a8ff;">:PROPERTIES:</span>
<span style="color: #79a8ff;">:CATEGORY: %^{category}</span>
<span style="color: #79a8ff;">:SUBJECT:  %^{subject}</span>
<span style="color: #79a8ff;">:MOOD:     %^{mood}</span>
<span style="color: #79a8ff;">:END:</span>
<span style="color: #79a8ff;">:RESOURCES:</span>
<span style="color: #79a8ff;">:END:</span>

<span style="color: #79a8ff;">\*What was one good thing you learned today?*:</span>
<span style="color: #79a8ff;">- %^{whatilearnedtoday}</span>

<span style="color: #79a8ff;">\*List one thing you could have done better*:</span>
<span style="color: #79a8ff;">- %^{onethingdobetter}</span>

<span style="color: #79a8ff;">\*Describe in your own words how your day was*:</span>
<span style="color: #79a8ff;">- %?"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-to-list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">org-capture-templates</span>
      <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"u"</span> <span style="color: #79a8ff;">"New URL Entry"</span> entry<span style="color: #00cd68;">(</span>file+function <span style="color: #79a8ff;">"~/Dropbox/org/personal/dailies.org"</span> org-reverse-datetree-goto-date-in-file<span style="color: #00cd68;">)</span>
            <span style="color: #79a8ff;">"* [[%^{URL}][%^{Description}]] %^g %?"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2ee4519" class="outline-3">
<h3 id="org2ee4519"><span class="section-number-3">7.3</span> Prettify bullets</h3>
<div class="outline-text-3" id="text-7-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> org-superstar
    <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> org-superstar-headline-bullets-list <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"&#10006;"</span> <span style="color: #79a8ff;">"&#10010;"</span> <span style="color: #79a8ff;">"&#9670;"</span> <span style="color: #79a8ff;">"&#9654;"</span> <span style="color: #79a8ff;">"&#9675;"</span><span style="color: #6ae4b9;">)</span>
        <span style="color: #00d3d0;">org-ellipsis</span> <span style="color: #79a8ff;">"&#9660;"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org40f78c7" class="outline-3">
<h3 id="org40f78c7"><span class="section-number-3">7.4</span> Org agenda popup</h3>
<div class="outline-text-3" id="text-7-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*org agenda*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.40</span> <span style="color: #f78fe7; font-weight: bold;">:select</span> t <span style="color: #f78fe7; font-weight: bold;">:vslot</span> <span style="color: #00bcff;">2</span> <span style="color: #f78fe7; font-weight: bold;">:ttl</span> <span style="color: #00bcff;">3</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7a84593" class="outline-3">
<h3 id="org7a84593"><span class="section-number-3">7.5</span> ox-ipynb</h3>
<div class="outline-text-3" id="text-7-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> org
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">ox-ipynb</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org098d989" class="outline-3">
<h3 id="org098d989"><span class="section-number-3">7.6</span> Org babel clojure</h3>
<div class="outline-text-3" id="text-7-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> evil-org
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> org-babel-clojure-backend <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">cider</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5c7825e" class="outline-3">
<h3 id="org5c7825e"><span class="section-number-3">7.7</span> <span class="todo TODO">TODO</span> org-re-reveal</h3>
<div class="outline-text-3" id="text-7-7">
<p>
Update to reveal 4 at some point. Install the <code>toc-progress</code> plugin in the default <code>org-re-reveal-root</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> org-re-reveal
  <span style="color: #f78fe7; font-weight: bold;">:after</span> ox
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq org-re-reveal-root (expand-file-name "../../" (locate-library "dist/reveal.js" t))</span>
  <span style="color: #a8a8a8; font-style: italic;">;;       </span><span style="color: #a8a8a8; font-style: italic;">org-re-reveal-revealjs-version "4")</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">org-re-reveal-root</span> <span style="color: #79a8ff;">"./reveal.js"</span>
        <span style="color: #00d3d0;">org-re-reveal-revealjs-version</span> <span style="color: #79a8ff;">"3.8"</span>
        <span style="color: #00d3d0;">org-re-reveal-external-plugins</span>  <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span>progress . <span style="color: #79a8ff;">"{ src: '%s/plugin/toc-progress/toc-progress.js', async: true, callback: function() { toc_progress.initialize(); toc_progress.create();} }"</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
        <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6d93cf9" class="outline-3">
<h3 id="org6d93cf9"><span class="section-number-3">7.8</span> org-cv</h3>
<div class="outline-text-3" id="text-7-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package</span> ox-moderncv
  <span style="color: #f78fe7; font-weight: bold;">:after</span> org
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t
  <span style="color: #f78fe7; font-weight: bold;">:load-path</span> <span style="color: #79a8ff;">"/Users/luca/git/org-cv/"</span>
  <span style="color: #f78fe7; font-weight: bold;">:init</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">ox-altacv</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:init (require 'ox-moderncv))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4853a66" class="outline-3">
<h3 id="org4853a66"><span class="section-number-3">7.9</span> Use xelatex</h3>
<div class="outline-text-3" id="text-7-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> latex
    <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">org-latex-compiler</span> <span style="color: #79a8ff;">"xelatex"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4717f37" class="outline-3">
<h3 id="org4717f37"><span class="section-number-3">7.10</span> <span class="todo TODO">TODO</span> HTML export does not fail when org links are present</h3>
<div class="outline-text-3" id="text-7-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> org
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">html-body-id-filter</span> <span style="color: #6ae4b9;">(</span>output backend info<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Remove random ID attributes generated by Org."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">eq</span> backend <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">html</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span><span style="color: #00bcff;">replace-regexp-in-string</span>
       <span style="color: #79a8ff;">" id=\"[[:alpha:]-]*org[[:alnum:]]\\{7\\}\""</span>
       <span style="color: #79a8ff;">""</span>
       output t<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-to-list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">org-export-filter-final-output-functions</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">html-body-id-filter</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org8a63967" class="outline-3">
<h3 id="org8a63967"><span class="section-number-3">7.11</span> org-tree-slide</h3>
<div class="outline-text-3" id="text-7-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">+remap-faces-at-start-present</span> <span style="color: #b6a0ff;">()</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq-local</span> <span style="color: #00d3d0;">face-remapping-alist</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span>default <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:height</span> <span style="color: #00bcff;">2.0</span><span style="color: #b6a0ff;">)</span> variable-pitch<span style="color: #00cd68;">)</span>
                                     <span style="color: #00cd68;">(</span>org-verbatim <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:height</span> <span style="color: #00bcff;">1.75</span><span style="color: #b6a0ff;">)</span> org-verbatim<span style="color: #00cd68;">)</span>
                                     <span style="color: #00cd68;">(</span><span style="color: #00bcff;">org-block</span> <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:height</span> <span style="color: #00bcff;">1.25</span><span style="color: #b6a0ff;">)</span> org-block<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">hide-mode-line-mode</span> <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">centaur-tabs-mode</span> <span style="color: #00bcff;">0</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">+remap-faces-at-start-present-term</span> <span style="color: #b6a0ff;">()</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq-local</span> <span style="color: #00d3d0;">face-remapping-alist</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span>default <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:height</span> <span style="color: #00bcff;">2.0</span><span style="color: #b6a0ff;">)</span> variable-pitch<span style="color: #00cd68;">)</span>
                                     <span style="color: #00cd68;">(</span>org-verbatim <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:height</span> <span style="color: #00bcff;">1.75</span><span style="color: #b6a0ff;">)</span> org-verbatim<span style="color: #00cd68;">)</span>
                                     <span style="color: #00cd68;">(</span><span style="color: #00bcff;">org-block</span> <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:height</span> <span style="color: #00bcff;">1.25</span><span style="color: #b6a0ff;">)</span> org-block<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">+remap-faces-at-stop-present</span> <span style="color: #b6a0ff;">()</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq-local</span> <span style="color: #00d3d0;">face-remapping-alist</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span>default variable-pitch default<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">hide-mode-line-mode</span> <span style="color: #00bcff;">0</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">centaur-tabs-mode</span> <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> org-tree-slide

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> org-tree-slide
    <span style="color: #f78fe7; font-weight: bold;">:commands</span> org-tree-slide-mode
    <span style="color: #f78fe7; font-weight: bold;">:hook</span> <span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span>org-tree-slide-play . <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #6ae4b9;">()</span> <span style="color: #6ae4b9;">(</span><span style="color: #feacd0;">+remap-faces-at-start-present</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
           <span style="color: #00cd68;">(</span>org-tree-slide-stop . <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #6ae4b9;">()</span> <span style="color: #6ae4b9;">(</span><span style="color: #feacd0;">+remap-faces-at-stop-present</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #f78fe7; font-weight: bold;">:config</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #feacd0;">org-tree-slide-presentation-profile</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> org-tree-slide-skip-outline-level <span style="color: #00bcff;">0</span>
          org-tree-slide-modeline-display nil
          org-tree-slide-slide-in-effect nil<span style="color: #6ae4b9;">)</span>

    <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(remove-hook 'org-tree-slide-mode-hook #'+org-present-hide-blocks-h)</span>
    <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(remove-hook 'org-tree-slide-mode-hook #'+org-present-prettify-slide-h)</span>

    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">remove-hook!</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">org-tree-slide-mode-hook</span>
      <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">+org-present-hide-blocks-h</span>
      <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">+org-present-prettify-slide-h</span><span style="color: #6ae4b9;">)</span>

    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:map</span> org-tree-slide-mode-map
          <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"C-j"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">org-tree-slide-move-next-tree</span>
          <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"C-k"</span>  <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">org-tree-slide-move-previous-tree</span><span style="color: #6ae4b9;">)</span>

    <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">remove unnamed advice</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">advice-mapc</span>
     <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #b6a0ff;">(</span>adv prop<span style="color: #b6a0ff;">)</span>
       <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">advice-remove</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">org-tree-slide--display-tree-with-narrow</span> adv<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
     <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">org-tree-slide--display-tree-with-narrow</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #00cd68;">)</span>

</pre>
</div>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> org
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:leader</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"t p"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">org-tree-slide-mode</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> org-tree-slide
  <span style="color: #f78fe7; font-weight: bold;">:after</span> org
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t
  <span style="color: #f78fe7; font-weight: bold;">:commands</span> org-tree-slide-mode
  <span style="color: #f78fe7; font-weight: bold;">:hook</span> <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>org-tree-slide-play . <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #b6a0ff;">()</span> <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">+remap-faces-at-start-present</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
         <span style="color: #6ae4b9;">(</span>org-tree-slide-stop . <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #b6a0ff;">()</span> <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">+remap-faces-at-stop-present</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">org-tree-slide-presentation-profile</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(org-tree-slide-simple-profile)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">org-tree-slide-skip-outline-level 0</span>
   org-tree-slide-activate-message <span style="color: #79a8ff;">" "</span>
   org-tree-slide-deactivate-message <span style="color: #79a8ff;">" "</span>
   <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">org-tree-slide-modeline-display nil</span>
   <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">org-tree-slide-heading-emphasis  t</span>
   org-tree-slide-slide-in-effect nil
   <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">text-scale-mode-amount 5</span>
   <span style="color: #b6a0ff;">)</span>



  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">always toggle inline images</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">org-tree-slide-mode-after-narrow-hook</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">org-display-inline-images</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(defun +org-present-hide-blocks-h ()</span>
  <span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">"Hide org #+ constructs."</span>
  <span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(save-excursion</span>
  <span style="color: #a8a8a8; font-style: italic;">;;     </span><span style="color: #a8a8a8; font-style: italic;">(goto-char (point-min))</span>
  <span style="color: #a8a8a8; font-style: italic;">;;     </span><span style="color: #a8a8a8; font-style: italic;">(while (re-search-forward "^[[:space:]]*\\(#\\+\\)\\(\\(?:BEGIN\\|END\\|ATTR\\)[</span><span style="color: #eecc00; font-weight: bold; font-style: italic;">^</span><span style="color: #a8a8a8; font-style: italic;">[:space:]]+\\).*" nil t)</span>
  <span style="color: #a8a8a8; font-style: italic;">;;       </span><span style="color: #a8a8a8; font-style: italic;">(+org-present--make-invisible</span>
  <span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">(match-beginning 1)</span>
  <span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">(match-end 0)))))</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(add-hook! 'org-tree-slide-mode-hook</span>
  <span style="color: #a8a8a8; font-style: italic;">;;            </span><span style="color: #a8a8a8; font-style: italic;">#'+org-present-hide-blocks-h</span>
  <span style="color: #a8a8a8; font-style: italic;">;;            </span><span style="color: #a8a8a8; font-style: italic;">#'+org-present-prettify-slide-h</span>
  <span style="color: #a8a8a8; font-style: italic;">;;            </span><span style="color: #a8a8a8; font-style: italic;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:map</span> org-tree-slide-mode-map
        <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"C-j"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">org-tree-slide-move-next-tree</span>
        <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"C-k"</span>  <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">org-tree-slide-move-previous-tree</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">org-tree-slide-mode-hook</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">evil-normalize-keymaps</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> ox
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-to-list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">org-export-backends</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">beamer</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org34f6375" class="outline-3">
<h3 id="org34f6375"><span class="section-number-3">7.12</span> <span class="todo TODO">TODO</span> beamer export</h3>
<div class="outline-text-3" id="text-7-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span>org-export-latex-classes
   <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">quote</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"article"</span> <span style="color: #79a8ff;">"\\documentclass[11pt]{article}"</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\section{%s}"</span> . <span style="color: #79a8ff;">"\\section*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\subsection{%s}"</span> . <span style="color: #79a8ff;">"\\subsection*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\subsubsection{%s}"</span> . <span style="color: #79a8ff;">"\\subsubsection*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\paragraph{%s}"</span> . <span style="color: #79a8ff;">"\\paragraph*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\subparagraph{%s}"</span> . <span style="color: #79a8ff;">"\\subparagraph*{%s}"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
     <span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"linalg"</span> <span style="color: #79a8ff;">"\\documentclass{article}</span>
<span style="color: #79a8ff;">\\usepackage{linalgjh}</span>
<span style="color: #79a8ff;">[DEFAULT-PACKAGES]</span>
<span style="color: #79a8ff;">[EXTRA]</span>
<span style="color: #79a8ff;">[PACKAGES]"</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\section{%s}"</span> . <span style="color: #79a8ff;">"\\section*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\subsection{%s}"</span> . <span style="color: #79a8ff;">"\\subsection*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\subsubsection{%s}"</span> . <span style="color: #79a8ff;">"\\subsubsection*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\paragraph{%s}"</span> . <span style="color: #79a8ff;">"\\paragraph*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\subparagraph{%s}"</span> . <span style="color: #79a8ff;">"\\subparagraph*{%s}"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
     <span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"report"</span> <span style="color: #79a8ff;">"\\documentclass[11pt]{report}"</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\part{%s}"</span> . <span style="color: #79a8ff;">"\\part*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\chapter{%s}"</span> . <span style="color: #79a8ff;">"\\chapter*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\section{%s}"</span> . <span style="color: #79a8ff;">"\\section*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\subsection{%s}"</span> . <span style="color: #79a8ff;">"\\subsection*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\subsubsection{%s}"</span> . <span style="color: #79a8ff;">"\\subsubsection*{%s}"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
     <span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"book"</span> <span style="color: #79a8ff;">"\\documentclass[11pt]{book}"</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\part{%s}"</span> . <span style="color: #79a8ff;">"\\part*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\chapter{%s}"</span> . <span style="color: #79a8ff;">"\\chapter*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\section{%s}"</span> . <span style="color: #79a8ff;">"\\section*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\subsection{%s}"</span> . <span style="color: #79a8ff;">"\\subsection*{%s}"</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"\\subsubsection{%s}"</span> . <span style="color: #79a8ff;">"\\subsubsection*{%s}"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
     <span style="color: #00cd68;">(</span><span style="color: #79a8ff;">"beamer"</span> <span style="color: #79a8ff;">"\\documentclass{beamer}"</span> org-beamer-sectioning<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0b42213" class="outline-3">
<h3 id="org0b42213"><span class="section-number-3">7.13</span> <span class="todo TODO">TODO</span> fancy HTML theme</h3>
<div class="outline-text-3" id="text-7-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> org
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> org-html-style-fancy
        <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">concat</span> <span style="color: #00cd68;">(</span><span style="color: #feacd0;">f-read-text</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">expand-file-name</span> <span style="color: #79a8ff;">"misc/org-export-header.html"</span> <span style="color: #00d3d0;">doom-private-dir</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
                <span style="color: #79a8ff;">"&lt;script&gt;\n"</span>
                <span style="color: #00cd68;">(</span><span style="color: #feacd0;">f-read-text</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">expand-file-name</span> <span style="color: #79a8ff;">"misc/pile-css-theme/main.js"</span> <span style="color: #00d3d0;">doom-private-dir</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
                <span style="color: #79a8ff;">"&lt;/script&gt;\n&lt;style&gt;\n"</span>
                <span style="color: #00cd68;">(</span><span style="color: #feacd0;">f-read-text</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">expand-file-name</span> <span style="color: #79a8ff;">"misc/pile-css-theme/main.css"</span> <span style="color: #00d3d0;">doom-private-dir</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
                <span style="color: #79a8ff;">"&lt;/style&gt;"</span><span style="color: #6ae4b9;">)</span>
        org-html-style-plain <span style="color: #00d3d0;">org-html-style-default</span>
        <span style="color: #00d3d0;">org-html-style-default</span>  org-html-style-fancy
        <span style="color: #00d3d0;">org-html-htmlize-output-type</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">css</span>
        <span style="color: #00d3d0;">org-html-doctype</span> <span style="color: #79a8ff;">"html5"</span>
        <span style="color: #00d3d0;">org-html-html5-fancy</span> t<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgcf61d30" class="outline-2">
<h2 id="orgcf61d30"><span class="section-number-2">8</span> Jupyter interaction mode</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-orgf925368" class="outline-3">
<h3 id="orgf925368"><span class="section-number-3">8.1</span> Evaluate buffer</h3>
<div class="outline-text-3" id="text-8-1">
<p>
For some reason <code>jupyter-eval-buffer</code> does not work so we redefine it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> python
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my/jupyter-eval-buffer</span> <span style="color: #6ae4b9;">()</span>
    <span style="color: #c6eaff; font-style: italic;">"Send the contents of BUFFER using `</span><span style="color: #00bcff; font-style: italic;">jupyter-current-client</span><span style="color: #c6eaff; font-style: italic;">'."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span>jupyter-eval-string <span style="color: #00cd68;">(</span>jupyter-load-file-code <span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">buffer-file-name</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga219ff6" class="outline-3">
<h3 id="orga219ff6"><span class="section-number-3">8.2</span> Start new Jupyter REPL</h3>
<div class="outline-text-3" id="text-8-2">
<p>
Start a new REPL with <code>, '</code>.
If that does not work, call <code>doom/reload-env</code> to refresh Emacs&rsquo; PATH.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> python
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my/jupyter-run-repl-or-pop-to-buffer-dwim</span> <span style="color: #6ae4b9;">()</span>
    <span style="color: #c6eaff; font-style: italic;">"If a buffer is already associated with a jupyter buffer,</span>
<span style="color: #c6eaff; font-style: italic;">then pop to it. Otherwise start a jupyter kernel."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">bound-and-true-p</span> jupyter-current-client<span style="color: #00cd68;">)</span>
        <span style="color: #00cd68;">(</span>jupyter-repl-pop-to-buffer<span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span><span style="color: #00bcff;">call-interactively</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-run-repl</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org901bc16" class="outline-3">
<h3 id="org901bc16"><span class="section-number-3">8.3</span> Key bindings:</h3>
<div class="outline-text-3" id="text-8-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(:when (featurep! :lang +jupyter)</span>
<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> evil-org
      <span style="color: #f78fe7; font-weight: bold;">:map</span> <span style="color: #00d3d0;">evil-org-mode-map</span>
      <span style="color: #f78fe7; font-weight: bold;">:leader</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"tangle"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"ct"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">org-babel-tangle</span>
      <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Hydra"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">","</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-org-hydra/body</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Inspect at point"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"?"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-inspect-at-point</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Execute and step"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"RET"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-org-execute-and-next-block</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Delete code block"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"x"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-org-kill-block-and-results</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"New code block above"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"+"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-org-insert-src-block</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"New code block below"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"="</span> <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">&#955;!</span> <span style="color: #6ae4b9;">()</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #feacd0;">jupyter-org-insert-src-block</span> t nil<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Merge code blocks"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"m"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-org-merge-blocks</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:desc "Split code block" :n "-" #'jupyter-org-split-src-block</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Split code block"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"-"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">org-babel-demarcate-block</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Fold results"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"z"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">org-babel-hide-result-toggle</span>

      <span style="color: #f78fe7; font-weight: bold;">:map</span> <span style="color: #00d3d0;">org-src-mode-map</span>
      <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Exit edit"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"'"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">org-edit-src-exit</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> python
      <span style="color: #f78fe7; font-weight: bold;">:map</span> python-mode-map
      <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"repl"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"'"</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">&#955;!</span> <span style="color: #00cd68;">()</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #00cd68;">)</span> <span style="color: #00cd68;">(</span>my/jupyter-run-repl-or-pop-to-buffer-dwim<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"eval"</span> <span style="color: #f78fe7; font-weight: bold;">:prefix</span> <span style="color: #79a8ff;">"e"</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"line or region"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"e"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-eval-line-or-region</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"defun"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"d"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-eval-defun</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"buffer"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"b"</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">&#955;!</span> <span style="color: #00cd68;">()</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #00cd68;">)</span> <span style="color: #00cd68;">(</span>my/jupyter-eval-buffer<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
      <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org352999a" class="outline-3">
<h3 id="org352999a"><span class="section-number-3">8.4</span> Popup rules</h3>
<div class="outline-text-3" id="text-8-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"^\\*Org Src*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.60</span> <span style="color: #f78fe7; font-weight: bold;">:select</span> t <span style="color: #f78fe7; font-weight: bold;">:vslot</span> <span style="color: #00bcff;">2</span> <span style="color: #f78fe7; font-weight: bold;">:ttl</span> <span style="color: #00bcff;">3</span> <span style="color: #f78fe7; font-weight: bold;">:quit</span> nil<span style="color: #00cd68;">)</span>
<span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*jupyter-pager*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.40</span> <span style="color: #f78fe7; font-weight: bold;">:select</span> t <span style="color: #f78fe7; font-weight: bold;">:vslot</span> <span style="color: #00bcff;">2</span> <span style="color: #f78fe7; font-weight: bold;">:ttl</span> <span style="color: #00bcff;">3</span><span style="color: #00cd68;">)</span>
<span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*jupyter-repl*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">bottom</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.30</span> <span style="color: #f78fe7; font-weight: bold;">:vslot</span> <span style="color: #00bcff;">2</span> <span style="color: #f78fe7; font-weight: bold;">:quit</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">current</span> <span style="color: #f78fe7; font-weight: bold;">:ttl</span> <span style="color: #00bcff;">3</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfe9cb62" class="outline-3">
<h3 id="orgfe9cb62"><span class="section-number-3">8.5</span> <span class="todo TODO">TODO</span> Library of babel</h3>
<div class="outline-text-3" id="text-8-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> evil-org
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">org-babel-lob-ingest</span> <span style="color: #79a8ff;">"/Users/luca/git/experiments/literate/ml/rpy2.org"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge54b5b9" class="outline-3">
<h3 id="orge54b5b9"><span class="section-number-3">8.6</span> <span class="todo TODO">TODO</span> Eval handler</h3>
<div class="outline-text-3" id="text-8-6">
<p>
(Use <code>, e e</code>)
</p>

<p>
With <code>g r</code> we can send code to the Jupyter REPL:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> ob-jupyter
  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">set-eval-handler!</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">jupyter-repl-interaction-mode</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">jupyter-eval-line-or-region</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org57902aa" class="outline-3">
<h3 id="org57902aa"><span class="section-number-3">8.7</span> <span class="todo TODO">TODO</span> Set REPL handler</h3>
<div class="outline-text-3" id="text-8-7">
<p>
On a python buffer, hit <code>SPC o r</code> to start a jupyter kernel and associate the buffer with it.
</p>

<p>
You can send code to the REPL:
</p>
<ul class="org-ul">
<li><code>gr r</code> sends a line (or region)</li>
<li><code>gr io</code> sends a symbol</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">add-hook!</span> python-mode
  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">set-repl-handler!</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">python-mode</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">my/jupyter-run-repl-or-pop-to-buffer-dwim</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org04aa31c" class="outline-3">
<h3 id="org04aa31c"><span class="section-number-3">8.8</span> <span class="todo TODO">TODO</span> Use overlays</h3>
<div class="outline-text-3" id="text-8-8">
<p>
Evaluate simple expressions to the right of the symbol with <code>, e e</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> ob-jupyter
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> jupyter-eval-use-overlays t<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org8580eb3" class="outline-2">
<h2 id="org8580eb3"><span class="section-number-2">9</span> org-babel-jupyter</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-org901c98e" class="outline-3">
<h3 id="org901c98e"><span class="section-number-3">9.1</span> Org default header arguments:</h3>
<div class="outline-text-3" id="text-9-1">
<p>
Important to load after <code>evil-org</code>:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> evil-org
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> org-babel-default-header-args:jupyter-python <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span><span style="color: #f78fe7; font-weight: bold;">:async</span> . <span style="color: #79a8ff;">"yes"</span><span style="color: #00cd68;">)</span>
                                                       <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(:pandoc t)</span>
                                                       <span style="color: #00cd68;">(</span><span style="color: #f78fe7; font-weight: bold;">:kernel</span> . <span style="color: #79a8ff;">"python3"</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> org-babel-default-header-args:jupyter-R <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(:pandoc t)</span>
                                                  <span style="color: #00cd68;">(</span><span style="color: #f78fe7; font-weight: bold;">:kernel</span> . <span style="color: #79a8ff;">"ir"</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org572cc8a" class="outline-3">
<h3 id="org572cc8a"><span class="section-number-3">9.2</span> Long outputs</h3>
<div class="outline-text-3" id="text-9-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> ob-jupyter
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">cl-defmethod</span> <span style="color: #feacd0;">jupyter-org--insert-result</span> <span style="color: #6ae4b9;">(</span>_req context result<span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">let</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff;">(</span>str
           <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">org-element-interpret-data</span>
            <span style="color: #00cd68;">(</span>jupyter-org--wrap-result-maybe
             context <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #6ae4b9;">(</span>jupyter-org--stream-result-p result<span style="color: #6ae4b9;">)</span>
                         <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">thread-last</span> result
                           jupyter-org-strip-last-newline
                           jupyter-org-scalar<span style="color: #6ae4b9;">)</span>
                       result<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">&lt;</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">length</span> str<span style="color: #6ae4b9;">)</span> <span style="color: #00bcff;">100000</span><span style="color: #b6a0ff;">)</span>
          <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">insert</span> str<span style="color: #b6a0ff;">)</span>
        <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">insert</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">format</span> <span style="color: #79a8ff;">": Result was too long! Length was %d"</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">length</span> str<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">/=</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">point</span><span style="color: #b6a0ff;">)</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">line-beginning-position</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Org objects such as file links do not have a newline added when</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">converting to their string representation by</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">`</span><span style="color: #00bcff; font-style: italic;">org-element-interpret-data</span><span style="color: #a8a8a8; font-style: italic;">' so insert one in these cases.</span>
      <span style="color: #00cd68;">(</span><span style="color: #00bcff;">insert</span> <span style="color: #79a8ff;">"\n"</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1d66708" class="outline-3">
<h3 id="org1d66708"><span class="section-number-3">9.3</span> Fix zmq keywords</h3>
<div class="outline-text-3" id="text-9-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defadvice!</span> fixed-zmq-start-process <span style="color: #b6a0ff;">(</span>orig-fn <span style="color: #f78fe7;">&amp;rest</span> args<span style="color: #b6a0ff;">)</span>
  <span style="color: #f78fe7; font-weight: bold;">:around</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">zmq-start-process</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">letf!</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">make-process</span> <span style="color: #00cd68;">(</span><span style="color: #f78fe7;">&amp;rest</span> plist<span style="color: #00cd68;">)</span>
           <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">plist-put!</span> plist <span style="color: #f78fe7; font-weight: bold;">:coding</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">plist-get</span> plist <span style="color: #f78fe7; font-weight: bold;">:coding-system</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
           <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">plist-delete!</span> plist <span style="color: #f78fe7; font-weight: bold;">:coding-system</span><span style="color: #00cd68;">)</span>
           <span style="color: #00cd68;">(</span><span style="color: #00bcff;">apply</span> make-process plist<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">apply</span> orig-fn args<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org497edbd" class="outline-3">
<h3 id="org497edbd"><span class="section-number-3">9.4</span> <span class="todo TODO">TODO</span> scimax utilities</h3>
<div class="outline-text-3" id="text-9-4">
<p>
Found at <a href="https://github.com/nnicandro/emacs-jupyter/issues/160">https://github.com/nnicandro/emacs-jupyter/issues/160</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> jupyter
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">* eldoc integration</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">scimax-jupyter-signature</span> <span style="color: #6ae4b9;">()</span>
    <span style="color: #c6eaff; font-style: italic;">"Try to return a function signature for the thing at point."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">and</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">eql</span> <span style="color: #00d3d0;">major-mode</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">org-mode</span><span style="color: #b6a0ff;">)</span>
               <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">string=</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">or</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">get-text-property</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">point</span><span style="color: #b6a0ff;">)</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">lang</span><span style="color: #00cd68;">)</span> <span style="color: #79a8ff;">""</span><span style="color: #6ae4b9;">)</span> <span style="color: #79a8ff;">"jupyter-python"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">save-window-excursion</span>
     <span style="color: #a8a8a8; font-style: italic;">;;; </span><span style="color: #a8a8a8; font-style: italic;">Essentially copied from (jupyter-inspect-at-point).</span>
        <span style="color: #b6a0ff;">(</span>jupyter-org-with-src-block-client
         <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">cl-destructuring-bind</span> <span style="color: #00cd68;">(</span>code pos<span style="color: #00cd68;">)</span>
             <span style="color: #00cd68;">(</span>jupyter-code-context <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">inspect</span><span style="color: #00cd68;">)</span>
           <span style="color: #00cd68;">(</span>jupyter-inspect code pos nil <span style="color: #00bcff;">0</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
        <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">get-buffer</span> <span style="color: #79a8ff;">"*Help*"</span><span style="color: #6ae4b9;">)</span>
          <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">with-current-buffer</span> <span style="color: #79a8ff;">"*Help*"</span>
            <span style="color: #00cd68;">(</span><span style="color: #00bcff;">goto-char</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">point-min</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
            <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">prog1</span>
                <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">cond</span>
                 <span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span><span style="color: #00bcff;">re-search-forward</span> <span style="color: #79a8ff;">"Signature:"</span> nil t <span style="color: #00bcff;">1</span><span style="color: #00cd68;">)</span>
                  <span style="color: #00cd68;">(</span><span style="color: #00bcff;">buffer-substring</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">line-beginning-position</span><span style="color: #b6a0ff;">)</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">line-end-position</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
                 <span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span><span style="color: #00bcff;">re-search-forward</span> <span style="color: #79a8ff;">"Docstring:"</span> nil t <span style="color: #00bcff;">1</span><span style="color: #00cd68;">)</span>
                  <span style="color: #00cd68;">(</span><span style="color: #00bcff;">forward-line</span><span style="color: #00cd68;">)</span>
                  <span style="color: #00cd68;">(</span><span style="color: #00bcff;">buffer-substring</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">line-beginning-position</span><span style="color: #b6a0ff;">)</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">line-end-position</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
                 <span style="color: #6ae4b9;">(</span>t
                  nil<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
              <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">get rid of this so we don't accidentally show old results later</span>
              <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">with-current-buffer</span> <span style="color: #79a8ff;">"*Help*"</span>
                <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">toggle-read-only</span><span style="color: #6ae4b9;">)</span>
                <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">erase-buffer</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">scimax-jupyter-eldoc-advice</span> <span style="color: #6ae4b9;">(</span>orig-func <span style="color: #f78fe7;">&amp;rest</span> args<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Advice function to get eldoc signatures in blocks in org-mode."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">or</span> <span style="color: #00cd68;">(</span>scimax-jupyter-signature<span style="color: #00cd68;">)</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">apply</span> orig-func args<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>


  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">scimax-jupyter-turn-on-eldoc</span> <span style="color: #6ae4b9;">()</span>
    <span style="color: #c6eaff; font-style: italic;">"Turn on eldoc signatures."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">advice-add</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">org-eldoc-documentation-function</span> <span style="color: #f78fe7; font-weight: bold;">:around</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">scimax-jupyter-eldoc-advice</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span> scimax-jupyter-turn-on-eldoc <span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6042e3a" class="outline-3">
<h3 id="org6042e3a"><span class="section-number-3">9.5</span> <span class="todo TODO">TODO</span> Unmap org-metadown</h3>
<div class="outline-text-3" id="text-9-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(map! :after org-evil</span>
<span style="color: #a8a8a8; font-style: italic;">;;         </span><span style="color: #a8a8a8; font-style: italic;">:map evil-org-mode-map</span>
<span style="color: #a8a8a8; font-style: italic;">;;       </span><span style="color: #a8a8a8; font-style: italic;">:n "M-&lt;down&gt;" nil</span>
<span style="color: #a8a8a8; font-style: italic;">;;       </span><span style="color: #a8a8a8; font-style: italic;">:n "M-j" nil</span>
<span style="color: #a8a8a8; font-style: italic;">;;       </span><span style="color: #a8a8a8; font-style: italic;">)</span>

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org17939b8" class="outline-2">
<h2 id="org17939b8"><span class="section-number-2">10</span> Python</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-org04e87c0" class="outline-3">
<h3 id="org04e87c0"><span class="section-number-3">10.1</span> iPython REPL</h3>
<div class="outline-text-3" id="text-10-1">
</div>
<div id="outline-container-org5fd5ba7" class="outline-4">
<h4 id="org5fd5ba7"><span class="section-number-4">10.1.1</span> virtualenv executable</h4>
<div class="outline-text-4" id="text-10-1-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defadvice!</span> +ipython-use-virtualenv <span style="color: #b6a0ff;">(</span>orig-fn <span style="color: #f78fe7;">&amp;rest</span> args<span style="color: #b6a0ff;">)</span>
  <span style="color: #c6eaff; font-style: italic;">"Use the Python binary from the current virtual environment."</span>
  <span style="color: #f78fe7; font-weight: bold;">:around</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">+python/open-repl</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">getenv</span> <span style="color: #79a8ff;">"VIRTUAL_ENV"</span><span style="color: #6ae4b9;">)</span>
      <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">let</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff;">(</span>python-shell-interpreter <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">executable-find</span> <span style="color: #79a8ff;">"ipython"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
        <span style="color: #00cd68;">(</span><span style="color: #00bcff;">apply</span> orig-fn args<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">apply</span> orig-fn args<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0f836de" class="outline-4">
<h4 id="org0f836de"><span class="section-number-4">10.1.2</span> Silence warnings when opening REPL</h4>
<div class="outline-text-4" id="text-10-1-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> python-shell-prompt-detect-failure-warning nil<span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb5c42bc" class="outline-4">
<h4 id="orgb5c42bc"><span class="section-number-4">10.1.3</span> Python console to the bottom</h4>
<div class="outline-text-4" id="text-10-1-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"^\\*Python*"</span>  <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">bottom</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.30</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9c4b6e7" class="outline-4">
<h4 id="org9c4b6e7"><span class="section-number-4">10.1.4</span> Disable native completion</h4>
<div class="outline-text-4" id="text-10-1-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> python
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> python-shell-completion-native-enable nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org137b49a" class="outline-3">
<h3 id="org137b49a"><span class="section-number-3">10.2</span> LSP</h3>
<div class="outline-text-3" id="text-10-2">
</div>
<div id="outline-container-orge1c3b35" class="outline-4">
<h4 id="orge1c3b35"><span class="section-number-4">10.2.1</span> Use pyright</h4>
<div class="outline-text-4" id="text-10-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> lsp-python-ms
  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">set-lsp-priority!</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">pyright</span> <span style="color: #00bcff;">1</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org938932b" class="outline-4">
<h4 id="org938932b"><span class="section-number-4">10.2.2</span> Don&rsquo;t guess project root</h4>
<div class="outline-text-4" id="text-10-2-2">
<p>
In case we get a wrong workspace root, we can delete it with <code>lsp-workspace-folders-remove</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> lsp-mode
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> lsp-auto-guess-root nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> projectile
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">projectile-project-root-files</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"Dockerfile"</span> <span style="color: #79a8ff;">"pyproject.toml"</span> <span style="color: #79a8ff;">"project.clj"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfadb7eb" class="outline-4">
<h4 id="orgfadb7eb"><span class="section-number-4">10.2.3</span> Increase bytes read from subprocess</h4>
<div class="outline-text-4" id="text-10-2-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">read-process-output-max</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">*</span> <span style="color: #00bcff;">1024</span> <span style="color: #00bcff;">1024</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org23327d6" class="outline-4">
<h4 id="org23327d6"><span class="section-number-4">10.2.4</span> lsp-help popup</h4>
<div class="outline-text-4" id="text-10-2-4">
<p>
Lookup documentation with <code>SPC c k</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"^\\*lsp-help"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.50</span> <span style="color: #f78fe7; font-weight: bold;">:select</span> t <span style="color: #f78fe7; font-weight: bold;">:vslot</span> <span style="color: #00bcff;">1</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7e221aa" class="outline-4">
<h4 id="org7e221aa"><span class="section-number-4">10.2.5</span> Disable lsp flycheck checker and use flake8</h4>
<div class="outline-text-4" id="text-10-2-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> lsp-mode
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">lsp-diagnostic-package</span> <span style="color: #f78fe7; font-weight: bold;">:none</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> flycheck
    <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">pyhon-mode-local-vars-hook</span>
            <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #00cd68;">()</span>
                <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">flycheck-may-enable-checker</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">python-flake8</span><span style="color: #b6a0ff;">)</span>
                <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">flycheck-select-checker</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">python-flake8</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq flycheck-disabled-checkers 'lsp)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3611fb4" class="outline-4">
<h4 id="org3611fb4"><span class="section-number-4">10.2.6</span> UI</h4>
<div class="outline-text-4" id="text-10-2-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> lsp-mode
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> lsp-eldoc-enable-hover nil
        lsp-signature-auto-activate nil
        <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">lsp-enable-on-type-formatting nil</span>
        <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">lsp-enable-symbol-highlighting nil</span>
        lsp-enable-file-watchers nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgee0b519" class="outline-4">
<h4 id="orgee0b519"><span class="section-number-4">10.2.7</span> Don&rsquo;t restart on exit</h4>
<div class="outline-text-4" id="text-10-2-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> lsp-mode
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> lsp-restart <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">ignore</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org40dd8b6" class="outline-4">
<h4 id="org40dd8b6"><span class="section-number-4">10.2.8</span> <span class="todo TODO">TODO</span> Eglot</h4>
<div class="outline-text-4" id="text-10-2-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> +eglot<span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> eglot
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">add-to-list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">eglot-server-programs</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00cd68;">(</span>python-mode . <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"pyright-langserver"</span> <span style="color: #79a8ff;">"--stdio"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7163b16" class="outline-3">
<h3 id="org7163b16"><span class="section-number-3">10.3</span> Pytest</h3>
<div class="outline-text-3" id="text-10-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> python-pytest
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> python-pytest-arguments <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"--color"</span> <span style="color: #79a8ff;">"--failed-first"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">evil-set-initial-state</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">python-pytest-mode</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">normal</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"^\\*pytest*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.50</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdea7bc0" class="outline-3">
<h3 id="orgdea7bc0"><span class="section-number-3">10.4</span> dap-mode</h3>
<div class="outline-text-3" id="text-10-4">
</div>
<div id="outline-container-orgc158a47" class="outline-4">
<h4 id="orgc158a47"><span class="section-number-4">10.4.1</span> dap configure windows</h4>
<div class="outline-text-4" id="text-10-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> <span style="color: #00d3d0;">dap-mode</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq dap-auto-show-output t)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> dap-output-window-max-height <span style="color: #00bcff;">50</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> dap-output-window-min-height <span style="color: #00bcff;">50</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> dap-auto-configure-features <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span>locals<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> dap-ui-buffer-configurations
        <span style="color: #b6a0ff; font-weight: bold;">`</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span>,<span style="color: #79a8ff;">"*dap-ui-locals*"</span>  . <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>side . right<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span>slot . <span style="color: #00bcff;">1</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">window-width</span> . <span style="color: #00bcff;">0.50</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span> <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">changed this to 0.50</span>
          <span style="color: #00cd68;">(</span>,<span style="color: #79a8ff;">"*dap-ui-repl*"</span> . <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>side . right<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span>slot . <span style="color: #00bcff;">1</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">window-width</span> . <span style="color: #00bcff;">0.50</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span> <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">added this! </span><span style="color: #feacd0;">TODO</span><span style="color: #a8a8a8; font-style: italic;"> enable when release on MELPA</span>
          <span style="color: #00cd68;">(</span>,<span style="color: #79a8ff;">"*dap-ui-expressions*"</span> . <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>side . right<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span>slot . <span style="color: #00bcff;">2</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">window-width</span> . <span style="color: #00bcff;">0.20</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
          <span style="color: #00cd68;">(</span>,<span style="color: #79a8ff;">"*dap-ui-sessions*"</span> . <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>side . right<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span>slot . <span style="color: #00bcff;">3</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">window-width</span> . <span style="color: #00bcff;">0.20</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
          <span style="color: #00cd68;">(</span>,<span style="color: #79a8ff;">"*dap-ui-breakpoints*"</span> . <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>side . left<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span>slot . <span style="color: #00bcff;">2</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">window-width</span> . , <span style="color: #00bcff;">0.20</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
          <span style="color: #00cd68;">(</span>,<span style="color: #79a8ff;">"*debug-window*"</span> . <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>side . bottom<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span>slot . <span style="color: #00bcff;">3</span><span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">window-width</span> . <span style="color: #00bcff;">0.20</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(set-popup-rule! "^\\*dap-debug-script*" :side 'bottom :size .30)</span>


  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my/window-visible</span> <span style="color: #6ae4b9;">(</span>b-name<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Return whether B-NAME is visible."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">-&gt;</span> <span style="color: #00cd68;">(</span>-compose <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">buffer-name</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">window-buffer</span><span style="color: #00cd68;">)</span>
        <span style="color: #00cd68;">(</span><span style="color: #feacd0;">-map</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">window-list</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
        <span style="color: #00cd68;">(</span><span style="color: #feacd0;">-contains?</span> b-name<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my/show-debug-windows</span> <span style="color: #6ae4b9;">(</span>session<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Show debug windows."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">let</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff;">(</span>lsp--cur-workspace <span style="color: #6ae4b9;">(</span>dap--debug-session-workspace session<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">save-excursion</span>
        <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">unless</span> <span style="color: #6ae4b9;">(</span>my/window-visible dap-ui--repl-buffer<span style="color: #6ae4b9;">)</span>
          <span style="color: #6ae4b9;">(</span><span style="color: #feacd0;">dap-ui-repl</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">dap-stopped-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">my/show-debug-windows</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my/hide-debug-windows</span> <span style="color: #6ae4b9;">(</span>session<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Hide debug windows when all debug sessions are dead."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">unless</span> <span style="color: #00cd68;">(</span><span style="color: #feacd0;">-filter</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">dap--session-running</span> <span style="color: #b6a0ff;">(</span>dap--get-sessions<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">and</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">get-buffer</span> dap-ui--repl-buffer<span style="color: #b6a0ff;">)</span>
           <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">kill-buffer</span> dap-ui--repl-buffer<span style="color: #b6a0ff;">)</span>
           <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">get-buffer</span> dap-ui--debug-window-buffer<span style="color: #b6a0ff;">)</span>
           <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">kill-buffer</span> dap-ui--debug-window-buffer<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">dap-terminated-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">my/hide-debug-windows</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae1bca4" class="outline-4">
<h4 id="orgae1bca4"><span class="section-number-4">10.4.2</span> Remove dap ui features</h4>
<div class="outline-text-4" id="text-10-4-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq dap-auto-configure-features '(locals))</span>
<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(after! dap-mode</span>
<span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(setq dap-overlays-use-overlays nil)</span>
<span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">)</span>
<span style="color: #00cd68;">(</span><span style="color: #00bcff;">remove-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">dap-mode-hook</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00d3d0;">dap-tooltip-mode</span><span style="color: #00cd68;">)</span>
<span style="color: #00cd68;">(</span><span style="color: #00bcff;">remove-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">dap-ui-mode-hook</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00d3d0;">dap-ui-controls-mode</span><span style="color: #00cd68;">)</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org6edb6af" class="outline-4">
<h4 id="org6edb6af"><span class="section-number-4">10.4.3</span> Debug templates:</h4>
<div class="outline-text-4" id="text-10-4-3">
<p>
Templates accessible with <code>, d d</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> dap-python
  <span style="color: #b6a0ff;">(</span>dap-register-debug-template <span style="color: #79a8ff;">"dap-debug-script"</span>
                               <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">list</span> <span style="color: #f78fe7; font-weight: bold;">:type</span> <span style="color: #79a8ff;">"python"</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:args</span> <span style="color: #00cd68;">[]</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:cwd</span> <span style="color: #79a8ff;">"${workspaceFolder}"</span>
                                     <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:cwd (lsp-workspace-root)</span>
                                     <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:justMyCode :json-false</span>
                                     <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:debugOptions ["DebugStdLib" "ShowReturnValue" "RedirectOutput"]</span>
                                     <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:program nil ; (expand-file-name "~/git/blabla")</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:request</span> <span style="color: #79a8ff;">"launch"</span>
                                     <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:debugger 'ptvsd</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:debugger</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">debugpy</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:name</span> <span style="color: #79a8ff;">"dap-debug-script"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span>dap-register-debug-template <span style="color: #79a8ff;">"dap-debug-test-at-point"</span>
                               <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">list</span> <span style="color: #f78fe7; font-weight: bold;">:type</span> <span style="color: #79a8ff;">"python-test-at-point"</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:args</span> <span style="color: #79a8ff;">""</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:justMyCode</span> <span style="color: #f78fe7; font-weight: bold;">:json-false</span>
                                     <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:cwd "${workspaceFolder}"</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:request</span> <span style="color: #79a8ff;">"launch"</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:module</span> <span style="color: #79a8ff;">"pytest"</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:debugger</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">debugpy</span>
                                     <span style="color: #f78fe7; font-weight: bold;">:name</span> <span style="color: #79a8ff;">"dap-debug-test-at-point"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">("Python :: Run pytest (at point)" :type "python-test-at-point" :args "" :program nil :module "pytest" :request "launch" :name "Python :: Run pytest (at point)")</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(dap-register-debug-template "Python :: Run pytest (at point), ptvsd"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                              </span><span style="color: #a8a8a8; font-style: italic;">(list :type "python-test-at-point"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:args ""</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:module "pytest"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:request "launch"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:debugger 'ptvsd</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:name "Python :: Run pytest (at point)"))</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(dap-register-debug-template "Python :: Run pytest (at point), debugpy"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                              </span><span style="color: #a8a8a8; font-style: italic;">(list :type "python-test-at-point"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:args ["/Users/luca/git/wondercast/caf/test/customer_allocation/summarize_historical/summarize_historical_test.py::test_summarize"]</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">;; :module "pytest"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:request "launch"</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:debugger 'debugpy</span>
  <span style="color: #a8a8a8; font-style: italic;">;;                                    </span><span style="color: #a8a8a8; font-style: italic;">:name "Python :: Run pytest (at point)"))</span>

  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org91280b0" class="outline-4">
<h4 id="org91280b0"><span class="section-number-4">10.4.4</span> Debug test at point</h4>
<div class="outline-text-4" id="text-10-4-4">
<p>
Standard debug test target, accessible with <code>, d t</code>
</p>

<p>
For pytest the command is
<code>python -m ptvsd --wait --host localhost --port 62421 -m pytest /.../summarize_historical_test.py\:\:test_summarize</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(after! dap-python</span>
<span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(require 'python-pytest)</span>

<span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(defun dap-python-test-method-at-point-debugpy ()</span>
<span style="color: #a8a8a8; font-style: italic;">;;     </span><span style="color: #a8a8a8; font-style: italic;">(interactive</span>
<span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">(dap-debug</span>
<span style="color: #a8a8a8; font-style: italic;">;;         </span><span style="color: #a8a8a8; font-style: italic;">(list :type "python"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">;; :args []</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">;; :args "py.test /Users/luca/git/wondercast/caf/test/customer_allocation/summarize_historical/summarize_historical_test.py"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:args (concat (buffer-file-name) ":" ":" (python-pytest--current-defun))</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">;; :program (concat (buffer-file-name) ":" ":" (python-pytest--current-defun))</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">;; :program "/Users/luca/git/wondercast/caf/test/customer_allocation/summarize_historical/summarize_historical_test.py"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">;; :module "pytest"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:debugger 'debugpy</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:request "launch"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:name "dap-debug-test-function-debugpy"))))</span>

<span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(defun dap-python-test-method-at-point ()</span>
<span style="color: #a8a8a8; font-style: italic;">;;     </span><span style="color: #a8a8a8; font-style: italic;">(interactive</span>
<span style="color: #a8a8a8; font-style: italic;">;;        </span><span style="color: #a8a8a8; font-style: italic;">(dap-debug</span>
<span style="color: #a8a8a8; font-style: italic;">;;         </span><span style="color: #a8a8a8; font-style: italic;">(list :type "python"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:args ""</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">;; :args []</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:cwd (lsp-workspace-root)</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:program (concat (buffer-file-name) ":" ":" (python-pytest--current-defun))</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:module "pytest"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:debugger 'ptvsd</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">;; :debugger 'debugpy</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:request "launch"</span>
<span style="color: #a8a8a8; font-style: italic;">;;               </span><span style="color: #a8a8a8; font-style: italic;">:name "dap-debug-test-function")))))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3db940a" class="outline-4">
<h4 id="org3db940a"><span class="section-number-4">10.4.5</span> virtualenv executable</h4>
<div class="outline-text-4" id="text-10-4-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defadvice!</span> +dap-python-poetry-executable-find-a <span style="color: #b6a0ff;">(</span>orig-fn <span style="color: #f78fe7;">&amp;rest</span> args<span style="color: #b6a0ff;">)</span>
  <span style="color: #c6eaff; font-style: italic;">"Use the Python binary from the current virtual environment."</span>
  <span style="color: #f78fe7; font-weight: bold;">:around</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-python--pyenv-executable-find</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">getenv</span> <span style="color: #79a8ff;">"VIRTUAL_ENV"</span><span style="color: #6ae4b9;">)</span>
      <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">executable-find</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">car</span> args<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">apply</span> orig-fn args<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(after! dap-python</span>
<span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(defun dap-python--pyenv-executable-find (command)</span>
<span style="color: #a8a8a8; font-style: italic;">;;     </span><span style="color: #a8a8a8; font-style: italic;">(concat (getenv "VIRTUAL_ENV") "/bin/python")))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge65dbf9" class="outline-4">
<h4 id="orge65dbf9"><span class="section-number-4">10.4.6</span> Delete hap hydra bindings</h4>
<div class="outline-text-4" id="text-10-4-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
        <span style="color: #f78fe7; font-weight: bold;">:map</span> +dap-running-session-mode-map
      <span style="color: #79a8ff;">"d"</span> nil<span style="color: #00cd68;">)</span>

<span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(map! :after dap-mode</span>
<span style="color: #a8a8a8; font-style: italic;">;;     </span><span style="color: #a8a8a8; font-style: italic;">:map dap-mode-map</span>
<span style="color: #a8a8a8; font-style: italic;">;;     </span><span style="color: #a8a8a8; font-style: italic;">:localleader "d" nil)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge4ed8ea" class="outline-4">
<h4 id="orge4ed8ea"><span class="section-number-4">10.4.7</span> Bindings</h4>
<div class="outline-text-4" id="text-10-4-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> <span style="color: #00d3d0;">dap-mode</span>
    <span style="color: #f78fe7; font-weight: bold;">:map</span> python-mode-map
    <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
    <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">"d" nil</span>
    <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"debug"</span> <span style="color: #f78fe7; font-weight: bold;">:prefix</span> <span style="color: #79a8ff;">"d"</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Hydra"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"h"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-hydra</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Run debug configuration"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"d"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-debug</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"dap-ui REPL"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"r"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-ui-repl</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:desc "Debug test function" :n "t" #'dap-python-debug-test-at-point  # </span><span style="color: #feacd0;">TODO</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Run last debug configuration"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"l"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-debug-last</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Toggle breakpoint"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"b"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-breakpoint-toggle</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"dap continue"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"c"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-continue</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"dap next"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"n"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-next</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Debug script"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"s"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-python-script</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"dap step in"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"i"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-step-in</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"dap eval at point"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"e"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-eval-thing-at-point</span>
      <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Disconnect"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"q"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">dap-disconnect</span> <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4aa385a" class="outline-4">
<h4 id="org4aa385a"><span class="section-number-4">10.4.8</span> Use debugpy</h4>
<div class="outline-text-4" id="text-10-4-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> <span style="color: #00d3d0;">dap-mode</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> dap-python-debugger <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">debugpy</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org99e003a" class="outline-3">
<h3 id="org99e003a"><span class="section-number-3">10.5</span> emacs-ipython-notebook</h3>
<div class="outline-text-3" id="text-10-5">
</div>
<div id="outline-container-org07cf256" class="outline-4">
<h4 id="org07cf256"><span class="section-number-4">10.5.1</span> Don&rsquo;t ignore <code>ein</code> buffers</h4>
<div class="outline-text-4" id="text-10-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> ein
  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"^\\*ein"</span> <span style="color: #f78fe7; font-weight: bold;">:ignore</span> t<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org46afd51" class="outline-4">
<h4 id="org46afd51"><span class="section-number-4">10.5.2</span> Bindings</h4>
<div class="outline-text-4" id="text-10-5-2">
<p>
Bindings, inspired by<a href="https://github.com/millejoh/emacs-ipython-notebook/wiki/Spacemacs-Evil-Bindings"> this</a>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:when</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> <span style="color: #f78fe7; font-weight: bold;">:tools</span> ein<span style="color: #6ae4b9;">)</span>
        <span style="color: #6ae4b9;">(</span><span style="color: #f78fe7; font-weight: bold;">:map</span> ein:notebook-mode-map
          <span style="color: #f78fe7; font-weight: bold;">:nmvo</span> <span style="color: #00d3d0;">doom-localleader-key</span> nil <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">remove binding to local-leader</span>

          <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">:desc "Execute" :ni "S-RET" #'ein:worksheet-execute-cell</span>

          <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Show Hydra"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"?"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">+ein/hydra/body</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Execute and step"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"RET"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-execute-cell-and-goto-next</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Yank cell"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"y"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-copy-cell</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Paste cell"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"p"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-yank-cell</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Delete cell"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"d"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-kill-cell</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Insert cell below"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"o"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-insert-cell-below</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Insert cell above"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"O"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-insert-cell-above</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Next cell"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"j"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-goto-next-input</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Previous cell"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"k"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:worksheet-goto-prev-input</span>
          <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Save notebook"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"fs"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">ein:notebook-save-notebook-command</span>
      <span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org9536372" class="outline-3">
<h3 id="org9536372"><span class="section-number-3">10.6</span> Dash docsets</h3>
<div class="outline-text-3" id="text-10-6">
<p>
When <code>SPC c k</code> fails, try searching in the docsets with <code>SPC s k</code>.
Install docsets with <code>dash-docs-install-docset</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*eww*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.50</span> <span style="color: #f78fe7; font-weight: bold;">:select</span> t <span style="color: #f78fe7; font-weight: bold;">:vslot</span> <span style="color: #00bcff;">2</span> <span style="color: #f78fe7; font-weight: bold;">:ttl</span> <span style="color: #00bcff;">3</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> dash-docs
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq dash-docs-docsets-path "/Users/luca/Library/Application Support/Dash/DocSets")</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq counsel-dash-docsets-path "/Users/luca/Library/Application Support/Dash/DocSets")</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(expand-file-name "~/Library/Application Support/Dash/DocSets")</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(set-docsets! 'python-mode "NumPy" "Pandas" "scikit-learn"))</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> counsel-dash-docsets <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"Pandas"</span> <span style="color: #79a8ff;">"scikit-learn"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">dash-docs-docsets</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"Pandas"</span> <span style="color: #79a8ff;">"scikit-learn"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge661d1f" class="outline-3">
<h3 id="orge661d1f"><span class="section-number-3">10.7</span> Compilation popup</h3>
<div class="outline-text-3" id="text-10-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*compilation*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.50</span> <span style="color: #f78fe7; font-weight: bold;">:select</span> t <span style="color: #f78fe7; font-weight: bold;">:vslot</span> <span style="color: #00bcff;">2</span> <span style="color: #f78fe7; font-weight: bold;">:quit</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">current</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org108f1b0" class="outline-3">
<h3 id="org108f1b0"><span class="section-number-3">10.8</span> <span class="todo TODO">TODO</span> Try elpy</h3>
<div class="outline-text-3" id="text-10-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package</span> elpy
  <span style="color: #f78fe7; font-weight: bold;">:commands</span>   <span style="color: #b6a0ff;">(</span>elpy-enable<span style="color: #b6a0ff;">)</span>
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t
  <span style="color: #f78fe7; font-weight: bold;">:init</span> <span style="color: #b6a0ff;">(</span>elpy-enable<span style="color: #b6a0ff;">)</span>
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #b6a0ff;">(</span>elpy-enable<span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">remove-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">elpy-modules</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">elpy-module-pyvenv</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">remove-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">elpy-modules</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">elpy-module-django</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">pyvenv-post-activate-hooks</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #00cd68;">()</span>
                                          <span style="color: #00cd68;">(</span>elpy-shell-kill<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> elpy-modules <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">delq</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">elpy-module-flymake</span> elpy-modules<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> elpy-test-runner <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">elpy-test-pytest-runner</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> elpy-test-compilation-function <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">compile</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(defun append-pdb-arg (command)</span>
  <span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(if (member "--pdb" command) command (append command '("--pdb"))))</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(defun elpy-test-pdb (&amp;optional test-whole-project)</span>
  <span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">"Run tests on the current test, or the whole project, with pdb support."</span>
  <span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(interactive "P")</span>
  <span style="color: #a8a8a8; font-style: italic;">;;   </span><span style="color: #a8a8a8; font-style: italic;">(let ((elpy-test-compilation-function 'pdb)</span>
  <span style="color: #a8a8a8; font-style: italic;">;;         </span><span style="color: #a8a8a8; font-style: italic;">(elpy-test-pytest-runner-command (append-pdb-arg elpy-test-pytest-runner-command))</span>
  <span style="color: #a8a8a8; font-style: italic;">;;         </span><span style="color: #a8a8a8; font-style: italic;">(elpy-test-nose-runner-command (append-pdb-arg elpy-test-nose-runner-command)))</span>
  <span style="color: #a8a8a8; font-style: italic;">;;     </span><span style="color: #a8a8a8; font-style: italic;">(elpy-test test-whole-project)))</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> python-shell-interpreter <span style="color: #79a8ff;">"ipython"</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Have pytest capture sdtin</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> elpy-test-pytest-runner-command <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #79a8ff;">"py.test"</span> <span style="color: #79a8ff;">"-s"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Match on any appearance of a pdb or ipdb break point</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> my-python-break-regexp <span style="color: #79a8ff;">"[i]?breakpoint()"</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Use the new Emacs advice to search the current buffer for pdb/ipdb break points</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">only if the current buffer is derived from python-mode.  Call compile with comint</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">arg t if found.</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">my-compile-advice</span> <span style="color: #6ae4b9;">(</span>args<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Advises `</span><span style="color: #00bcff; font-style: italic;">compile</span><span style="color: #c6eaff; font-style: italic;">' so it sets the argument COMINT to t</span>
<span style="color: #c6eaff; font-style: italic;">if breakpoints are present in `</span><span style="color: #00bcff; font-style: italic;">python-mode</span><span style="color: #c6eaff; font-style: italic;">' files"</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">derived-mode-p</span> <span style="color: #00d3d0;">major-mode</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">python-mode</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">save-excursion</span>
        <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">save-match-data</span>
          <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">goto-char</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">point-min</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
          <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">if</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">re-search-forward</span> my-python-break-regexp <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">point-max</span><span style="color: #b6a0ff;">)</span> t<span style="color: #00cd68;">)</span>
              <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">set COMINT argument to `t'.</span>
              <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">let</span> <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span>command <span style="color: #00cd68;">(</span><span style="color: #00bcff;">car</span> args<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
                <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> args <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">list</span> command t<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
    args<span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">advice-add</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">compile</span> <span style="color: #f78fe7; font-weight: bold;">:filter-args</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">my-compile-advice</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:map</span> elpy-mode-map
        <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
        <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"t"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">elpy-test</span>
        <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"z"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">elpy-shell-switch-to-shell</span>
        <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">","</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">elpy-shell-send-region-or-buffer</span>
        <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"rr"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">elpy-refactor-rename</span>
        <span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">set-company-backend!</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">elpy-mode</span>
    <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span>elpy-company-backend <span style="color: #f78fe7; font-weight: bold;">:with</span> company-files company-yasnippet<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga4e2eb2" class="outline-2">
<h2 id="orga4e2eb2"><span class="section-number-2">11</span> R</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-org6ee4175" class="outline-3">
<h3 id="org6ee4175"><span class="section-number-3">11.1</span> ESS console popup</h3>
<div class="outline-text-3" id="text-11-1">
<p>
Disable popup for ESS:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"^\\*R:"</span> <span style="color: #f78fe7; font-weight: bold;">:ignore</span> t<span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga1e60f5" class="outline-3">
<h3 id="orga1e60f5"><span class="section-number-3">11.2</span> Async eval</h3>
<div class="outline-text-3" id="text-11-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> ess
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> ess-eval-visibly <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">nowait</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0191509" class="outline-3">
<h3 id="org0191509"><span class="section-number-3">11.3</span> Syntax highlighting</h3>
<div class="outline-text-3" id="text-11-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> ess
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> ess-R-font-lock-keywords <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span>ess-R-fl-keyword:keywords . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-R-fl-keyword:constants . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-R-fl-keyword:modifiers . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-R-fl-keyword:fun-defs . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-R-fl-keyword:assign-ops . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-R-fl-keyword:%op% . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-fl-keyword:fun-calls . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-fl-keyword:numbers . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-fl-keyword:operators . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-fl-keyword:delimiters . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-fl-keyword:= . t<span style="color: #00cd68;">)</span>
                                   <span style="color: #00cd68;">(</span>ess-R-fl-keyword:F&amp;T . t<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org319546b" class="outline-2">
<h2 id="org319546b"><span class="section-number-2">12</span> Clojure</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-orgdb1f0da" class="outline-3">
<h3 id="orgdb1f0da"><span class="section-number-3">12.1</span> Company keybindings</h3>
<div class="outline-text-3" id="text-12-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> cider
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">company-completion-started-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">custom/set-company-maps</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">company-completion-finished-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">custom/unset-company-maps</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">company-completion-cancelled-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">custom/unset-company-maps</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">custom/unset-company-maps</span> <span style="color: #6ae4b9;">(</span><span style="color: #f78fe7;">&amp;rest</span> unused<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Set default mappings (outside of company).</span>
<span style="color: #c6eaff; font-style: italic;">    Arguments (UNUSED) are ignored."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">general-def</span>
      <span style="color: #f78fe7; font-weight: bold;">:states</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">insert</span>
      <span style="color: #f78fe7; font-weight: bold;">:keymaps</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">override</span>
      <span style="color: #79a8ff;">"&lt;down&gt;"</span> nil
      <span style="color: #79a8ff;">"&lt;up&gt;"</span>   nil
      <span style="color: #79a8ff;">"RET"</span>    nil
      <span style="color: #00cd68;">[</span>return<span style="color: #00cd68;">]</span> nil
      <span style="color: #79a8ff;">"C-n"</span>    nil
      <span style="color: #79a8ff;">"C-p"</span>    nil
      <span style="color: #79a8ff;">"C-j"</span>    nil
      <span style="color: #79a8ff;">"C-k"</span>    nil
      <span style="color: #79a8ff;">"C-h"</span>    nil
      <span style="color: #79a8ff;">"C-u"</span>    nil
      <span style="color: #79a8ff;">"C-d"</span>    nil
      <span style="color: #79a8ff;">"C-s"</span>    nil
      <span style="color: #79a8ff;">"C-S-s"</span>   <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">cond</span> <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> <span style="color: #f78fe7; font-weight: bold;">:completion</span> helm<span style="color: #6ae4b9;">)</span> nil<span style="color: #b6a0ff;">)</span>
                      <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> <span style="color: #f78fe7; font-weight: bold;">:completion</span> ivy<span style="color: #6ae4b9;">)</span>  nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #79a8ff;">"C-SPC"</span>   nil
      <span style="color: #79a8ff;">"TAB"</span>     nil
      <span style="color: #00cd68;">[</span>tab<span style="color: #00cd68;">]</span>     nil
      <span style="color: #00cd68;">[</span>backtab<span style="color: #00cd68;">]</span> nil<span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">custom/set-company-maps</span> <span style="color: #6ae4b9;">(</span><span style="color: #f78fe7;">&amp;rest</span> unused<span style="color: #6ae4b9;">)</span>
    <span style="color: #c6eaff; font-style: italic;">"Set maps for when you're inside company completion.</span>
<span style="color: #c6eaff; font-style: italic;">    Arguments (UNUSED) are ignored."</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">general-def</span>
      <span style="color: #f78fe7; font-weight: bold;">:states</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">insert</span>
      <span style="color: #f78fe7; font-weight: bold;">:keymaps</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">override</span>
      <span style="color: #79a8ff;">"&lt;down&gt;"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-select-next</span>
      <span style="color: #79a8ff;">"&lt;up&gt;"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-select-previous</span>
      <span style="color: #79a8ff;">"RET"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-complete</span>
      <span style="color: #00cd68;">[</span>return<span style="color: #00cd68;">]</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-complete</span>
      <span style="color: #79a8ff;">"C-w"</span>     nil           <span style="color: #a8a8a8; font-style: italic;">; </span><span style="color: #a8a8a8; font-style: italic;">don't interfere with `</span><span style="color: #00bcff; font-style: italic;">evil-delete-backward-word</span><span style="color: #a8a8a8; font-style: italic;">'</span>
      <span style="color: #79a8ff;">"C-n"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-select-next</span>
      <span style="color: #79a8ff;">"C-p"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-select-previous</span>
      <span style="color: #79a8ff;">"C-j"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-select-next</span>
      <span style="color: #79a8ff;">"C-k"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-select-previous</span>
      <span style="color: #79a8ff;">"C-h"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-show-doc-buffer</span>
      <span style="color: #79a8ff;">"C-u"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-previous-page</span>
      <span style="color: #79a8ff;">"C-d"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-next-page</span>
      <span style="color: #79a8ff;">"C-s"</span>     <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-filter-candidates</span>
      <span style="color: #79a8ff;">"C-S-s"</span>   <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">cond</span> <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> <span style="color: #f78fe7; font-weight: bold;">:completion</span> helm<span style="color: #6ae4b9;">)</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">helm-company</span><span style="color: #b6a0ff;">)</span>
                      <span style="color: #b6a0ff;">(</span><span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">featurep!</span> <span style="color: #f78fe7; font-weight: bold;">:completion</span> ivy<span style="color: #6ae4b9;">)</span>  <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">counsel-company</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #79a8ff;">"C-SPC"</span>   <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-complete-common</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">"TAB"     #'company-complete-common-or-cycle</span>
      <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">[tab]     #'company-complete-common-or-cycle</span>
      <span style="color: #00cd68;">[</span>backtab<span style="color: #00cd68;">]</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">company-select-previous</span>    <span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge1a04d0" class="outline-3">
<h3 id="orge1a04d0"><span class="section-number-3">12.2</span> REPL keybindings</h3>
<div class="outline-text-3" id="text-12-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">add-hook!</span> cider-repl-mode <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">evil-normalize-keymaps</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2582401" class="outline-3">
<h3 id="org2582401"><span class="section-number-3">12.3</span> Cleverparens</h3>
<div class="outline-text-3" id="text-12-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> smartparens
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> evil-cleverparens
    <span style="color: #f78fe7; font-weight: bold;">:init</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> <span style="color: #00d3d0;">evil-move-beyond-eol</span> t
          <span style="color: #00d3d0;">evil-cleverparens-use-additional-bindings</span> nil
          <span style="color: #00d3d0;">evil-cleverparens-use-s-and-S</span> nil
          <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">evil-cleverparens-swap-move-by-word-and-symbol t</span>
          <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">evil-cleverparens-use-regular-insert t</span>
          <span style="color: #6ae4b9;">)</span>
    <span style="color: #f78fe7; font-weight: bold;">:config</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">add-hook!</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00cd68;">(</span>emacs-lisp-mode clojure-mode<span style="color: #00cd68;">)</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00d3d0;">evil-cleverparens-mode</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(add-hook 'smartparens-enabled-hook #'evil-smartparens-mode)</span>
    <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org22ee8f9" class="outline-3">
<h3 id="org22ee8f9"><span class="section-number-3">12.4</span> Aggressive indent</h3>
<div class="outline-text-3" id="text-12-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> aggressive-indent
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t
  <span style="color: #f78fe7; font-weight: bold;">:config</span> <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">add-hook!</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #6ae4b9;">(</span>clojure-mode emacs-lisp-mode<span style="color: #6ae4b9;">)</span> <span style="color: #6ae4b9;">(</span><span style="color: #feacd0;">aggressive-indent-mode</span> <span style="color: #00bcff;">1</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd5d3bbc" class="outline-3">
<h3 id="orgd5d3bbc"><span class="section-number-3">12.5</span> Smartparens keybindings</h3>
<div class="outline-text-3" id="text-12-5">
<p>
With <code>lispyville</code> you can wrap using <code>M-(</code> for example!
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> smartparens
      <span style="color: #f78fe7; font-weight: bold;">:map</span> <span style="color: #b6a0ff;">(</span><span style="color: #00d3d0;">emacs-lisp-mode-map</span> clojure-mode-map<span style="color: #b6a0ff;">)</span>
      <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Wrap round"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"("</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">sp-wrap-round</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Wrap square"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"["</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">sp-wrap-square</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Wrap curly"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"{"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">sp-wrap-curly</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Unwrap sexp"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"u"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">sp-unwrap-sexp</span>
       <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd2a504e" class="outline-3">
<h3 id="orgd2a504e"><span class="section-number-3">12.6</span> nREPL timeout</h3>
<div class="outline-text-3" id="text-12-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> cider
 <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> nrepl-sync-request-timeout nil<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge0e28de" class="outline-3">
<h3 id="orge0e28de"><span class="section-number-3">12.7</span> Align vertically automatically</h3>
<div class="outline-text-3" id="text-12-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> clojure-mode
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> clojure-align-forms-automatically t<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgab71e6d" class="outline-3">
<h3 id="orgab71e6d"><span class="section-number-3">12.8</span> Cider keybindings</h3>
<div class="outline-text-3" id="text-12-8">
<p>
Remember you can use <code>gr af</code> to evaluate the outer form.
<code>ap</code> is a paragraph, <code>as</code> is a sentence.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> cider
      <span style="color: #f78fe7; font-weight: bold;">:map</span> clojure-mode-map
      <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
      <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"eval"</span> <span style="color: #f78fe7; font-weight: bold;">:prefix</span> <span style="color: #79a8ff;">"e"</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"sexp in comment"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"E"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">cider-pprint-eval-last-sexp-to-comment</span>
       <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"defun in comment"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"D"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">cider-pprint-eval-defun-to-comment</span>
       <span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgebced99" class="outline-3">
<h3 id="orgebced99"><span class="section-number-3">12.9</span> <span class="todo TODO">TODO</span> evil lisp state</h3>
<div class="outline-text-3" id="text-12-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package!</span> evil-lisp-state
  <span style="color: #f78fe7; font-weight: bold;">:defer</span> t
  <span style="color: #f78fe7; font-weight: bold;">:custom</span>
  <span style="color: #b6a0ff;">(</span>evil-lisp-state-global t<span style="color: #b6a0ff;">)</span>
  <span style="color: #f78fe7; font-weight: bold;">:config</span> <span style="color: #b6a0ff;">(</span>evil-lisp-state-leader <span style="color: #79a8ff;">"SPC k"</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org05c5f16" class="outline-3">
<h3 id="org05c5f16"><span class="section-number-3">12.10</span> <span class="todo TODO">TODO</span> Miracle</h3>
<div class="outline-text-3" id="text-12-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #00bcff;">require</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">miracle</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">disable-cider-enable-miracle</span> <span style="color: #b6a0ff;">()</span>
  <span style="color: #c6eaff; font-style: italic;">"Activate miracle for arcadia development"</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> cider-mode nil<span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">cider-mode</span> <span style="color: #00bcff;">-1</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">clojure-mode-hook</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">clojure-enable-miracle</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">add-to-list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00d3d0;">company-backends</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">company-miracle</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(miracle)</span>
  <span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> miracle
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">miracle-eval-string</span> <span style="color: #6ae4b9;">(</span>s callback<span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span>miracle-send-eval-string
     s
     <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #b6a0ff;">(</span>response<span style="color: #b6a0ff;">)</span>
       <span style="color: #b6a0ff;">(</span>miracle-dbind-response response <span style="color: #6ae4b9;">(</span>id value status<span style="color: #6ae4b9;">)</span>
                               <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">member</span> <span style="color: #79a8ff;">"done"</span> status<span style="color: #00cd68;">)</span>
                                 <span style="color: #00cd68;">(</span><span style="color: #00bcff;">remhash</span> id miracle-requests<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
                               <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> value
                                 <span style="color: #00cd68;">(</span><span style="color: #00bcff;">funcall</span> callback nil value<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">miracle-get-completions</span> <span style="color: #6ae4b9;">(</span>word callback<span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span>miracle-eval-string
     <span style="color: #00cd68;">(</span><span style="color: #00bcff;">format</span> <span style="color: #79a8ff;">"(do (require '[%s]) (%s/completions \"%s\"))"</span>
             <span style="color: #79a8ff;">"complete.core"</span> <span style="color: #79a8ff;">"complete.core"</span> word<span style="color: #00cd68;">)</span>
     <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #b6a0ff;">(</span>err s<span style="color: #b6a0ff;">)</span>
       <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">progn</span>
         <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #f4923b;">XXX</span>
         <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">message</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">format</span> <span style="color: #79a8ff;">"received str: %s"</span> s<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
         <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">message</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">format</span> <span style="color: #79a8ff;">"err: %s"</span> err<span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
         <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">when</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">not</span> err<span style="color: #00cd68;">)</span>
           <span style="color: #00cd68;">(</span><span style="color: #00bcff;">funcall</span> callback <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">read-from-whole-string</span> s<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">company-miracle</span> <span style="color: #6ae4b9;">(</span>command <span style="color: #f78fe7;">&amp;optional</span> arg <span style="color: #f78fe7;">&amp;rest</span> ignored<span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">interactive</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
    <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">cl-case</span> command
      <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">interactive</span> <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">company-begin-backend</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">company-miracle</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span>prefix <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">and</span> <span style="color: #6ae4b9;">(</span><span style="color: #b6a0ff; font-weight: bold;">or</span> <span style="color: #a8a8a8; font-style: italic;">;;</span><span style="color: #a8a8a8; font-style: italic;">(eq major-mode 'clojurec-mode)</span>
                    <span style="color: #a8a8a8; font-style: italic;">;;</span><span style="color: #a8a8a8; font-style: italic;">(eq major-mode 'clojure-mode)</span>
                    <span style="color: #00cd68;">(</span><span style="color: #00bcff;">eq</span> <span style="color: #00d3d0;">major-mode</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">miracle-mode</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
                   <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">get-buffer</span> <span style="color: #79a8ff;">"*miracle-connection*"</span><span style="color: #6ae4b9;">)</span>
                   <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">substring-no-properties</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">company-grab-symbol</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
      <span style="color: #00cd68;">(</span>candidates <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">lexical-let</span> <span style="color: #6ae4b9;">(</span><span style="color: #00cd68;">(</span>arg <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">substring-no-properties</span> arg<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
                    <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">cons</span> <span style="color: #f78fe7; font-weight: bold;">:async</span> <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">lambda</span> <span style="color: #b6a0ff;">(</span>callback<span style="color: #b6a0ff;">)</span>
                                   <span style="color: #b6a0ff;">(</span>miracle-get-completions arg callback<span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>

  <span style="color: #00cd68;">)</span>

  <span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">map!</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> miracle
        <span style="color: #f78fe7; font-weight: bold;">:map</span> miracle-interaction-mode-map

        <span style="color: #f78fe7; font-weight: bold;">:localleader</span>
        <span style="color: #b6a0ff;">(</span><span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"eval"</span> <span style="color: #f78fe7; font-weight: bold;">:prefix</span> <span style="color: #79a8ff;">"e"</span>
         <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"Expression"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"e"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">miracle-eval-expression-at-point</span>
         <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"defun"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"d"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">miracle-eval-defun</span><span style="color: #b6a0ff;">)</span>
        <span style="color: #f78fe7; font-weight: bold;">:desc</span> <span style="color: #79a8ff;">"describe"</span> <span style="color: #f78fe7; font-weight: bold;">:n</span> <span style="color: #79a8ff;">"?"</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">miracle-describe</span>
        <span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*miracle*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">bottom</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.40</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org156d628" class="outline-3">
<h3 id="org156d628"><span class="section-number-3">12.11</span> cider-doc while developing Unity</h3>
<div class="outline-text-3" id="text-12-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> cider
  <span style="color: #b6a0ff;">(</span><span style="color: #feacd0;">set-lookup-handlers!</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">clojure-mode</span>
    <span style="color: #f78fe7; font-weight: bold;">:documentation</span> <span style="color: #b6a0ff; font-weight: bold;">#'</span><span style="color: #00bcff;">cider-doc</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org42e25b0" class="outline-2">
<h2 id="org42e25b0"><span class="section-number-2">13</span> Shell</h2>
<div class="outline-text-2" id="text-13">
</div>
<div id="outline-container-orgd4731b7" class="outline-3">
<h3 id="orgd4731b7"><span class="section-number-3">13.1</span> Async Shell command</h3>
<div class="outline-text-3" id="text-13-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">defun</span> <span style="color: #feacd0;">shell-command-print-separator</span> <span style="color: #b6a0ff;">()</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #00bcff;">overlay-put</span> <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">make-overlay</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">point-max</span><span style="color: #00cd68;">)</span> <span style="color: #00cd68;">(</span><span style="color: #00bcff;">point-max</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span>
               <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">before-string</span>
               <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">propertize</span> <span style="color: #79a8ff;">"!"</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">display</span>
                           <span style="color: #00cd68;">(</span><span style="color: #00bcff;">list</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">left-fringe</span>
                                 <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right-triangle</span><span style="color: #00cd68;">)</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span><span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #00bcff;">advice-add</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">shell-command--save-pos-or-erase</span> <span style="color: #f78fe7; font-weight: bold;">:after</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">shell-command-print-separator</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2a0ea47" class="outline-3">
<h3 id="org2a0ea47"><span class="section-number-3">13.2</span> Async command and vterm popups</h3>
<div class="outline-text-3" id="text-13-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*Async Shell Command*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">bottom</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.40</span><span style="color: #00cd68;">)</span>
  <span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"vterm"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.40</span> <span style="color: #f78fe7; font-weight: bold;">:quit</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">current</span> <span style="color: #f78fe7; font-weight: bold;">:ttl</span> <span style="color: #00bcff;">1</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbb81aeb" class="outline-3">
<h3 id="orgbb81aeb"><span class="section-number-3">13.3</span> Eshell popup to the right</h3>
<div class="outline-text-3" id="text-13-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #feacd0;">set-popup-rule!</span> <span style="color: #79a8ff;">"*eshell*"</span> <span style="color: #f78fe7; font-weight: bold;">:side</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">right</span> <span style="color: #f78fe7; font-weight: bold;">:size</span> <span style="color: #00bcff;">.50</span><span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd1139eb" class="outline-3">
<h3 id="orgd1139eb"><span class="section-number-3">13.4</span> <span class="todo TODO">TODO</span> Use fish in vterm</h3>
<div class="outline-text-3" id="text-13-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">after!</span> vterm
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> vterm-shell <span style="color: #6ae4b9;">(</span><span style="color: #00bcff;">executable-find</span> <span style="color: #79a8ff;">"fish"</span><span style="color: #6ae4b9;">)</span><span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org02ccf82" class="outline-2">
<h2 id="org02ccf82"><span class="section-number-2">14</span> <span class="todo TODO">TODO</span> Webkit</h2>
<div class="outline-text-2" id="text-14">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package</span> webkit
  <span style="color: #f78fe7; font-weight: bold;">:bind</span> <span style="color: #b6a0ff;">(</span><span style="color: #79a8ff;">"s-b"</span> <span style="color: #b6a0ff; font-weight: bold;">'</span><span style="color: #00bcff;">webkit</span><span style="color: #b6a0ff;">)</span> <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">Bind to whatever global key binding you want if you want</span>
  <span style="color: #f78fe7; font-weight: bold;">:init</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> webkit-search-prefix <span style="color: #79a8ff;">"https://google.com/search?q="</span><span style="color: #b6a0ff;">)</span> <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">If you don't care so much about privacy</span>
  <span style="color: #b6a0ff;">(</span><span style="color: #b6a0ff; font-weight: bold;">setq</span> webkit-ace-chars <span style="color: #79a8ff;">"aoeuidhtns"</span><span style="color: #b6a0ff;">)</span> <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">More convienent if you use dvorak</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq webkit-history-filename "~/path/to/webkit-history") ;; If you want history saved in a different place</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq webkit-history-filename nil) ;; If you don't want history saved to file (will stay in memory)</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq webkit-own-window t) ;; See above explination; must be set before webkit.el is loaded</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq browse-url-browser-function 'webkit-browse-url) ; Set as the default browse-url browser</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(setq webkit-browse-url-force-new t) ; Always open a new session instead of reusing a current one</span>
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #a8a8a8; font-style: italic;">;; </span><span style="color: #a8a8a8; font-style: italic;">(add-hook 'webkit-new-hook #'webkit-enable-javascript) ;; disable javascript</span>
  <span style="color: #00cd68;">)</span>

<span style="color: #00cd68;">(</span><span style="color: #b6a0ff; font-weight: bold;">use-package</span> evil-collection-webkit
  <span style="color: #f78fe7; font-weight: bold;">:config</span>
  <span style="color: #b6a0ff;">(</span>evil-collection-xwidget-setup<span style="color: #b6a0ff;">)</span>
  <span style="color: #00cd68;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Luca Cambiaghi</p>
<p class="date">Created: 2020-12-26 Sat 17:33</p>
</div>
</body>
</html>
